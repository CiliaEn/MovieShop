function FN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var nf={},zN={get exports(){return nf},set exports(t){nf=t}},Cd={},x={},jN={get exports(){return x},set exports(t){x=t}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=Symbol.for("react.element"),VN=Symbol.for("react.portal"),BN=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),YN=Symbol.for("react.memo"),XN=Symbol.for("react.lazy"),o1=Symbol.iterator;function JN(t){return t===null||typeof t!="object"?null:(t=o1&&t[o1]||t["@@iterator"],typeof t=="function"?t:null)}var O_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A_=Object.assign,N_={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||O_}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function P_(){}P_.prototype=Jo.prototype;function ty(t,e,n){this.props=t,this.context=e,this.refs=N_,this.updater=n||O_}var ny=ty.prototype=new P_;ny.constructor=ty;A_(ny,Jo.prototype);ny.isPureReactComponent=!0;var a1=Array.isArray,D_=Object.prototype.hasOwnProperty,ry={current:null},R_={key:!0,ref:!0,__self:!0,__source:!0};function M_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)D_.call(e,r)&&!R_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:au,type:t,key:s,ref:o,props:i,_owner:ry.current}}function ZN(t,e){return{$$typeof:au,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===au}function eP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l1=/\/+/g;function pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eP(""+t.key):e.toString(36)}function Nc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case au:case VN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+pp(o,0):r,a1(i)?(n="",t!=null&&(n=t.replace(l1,"$&/")+"/"),Nc(i,e,n,"",function(u){return u})):i!=null&&(iy(i)&&(i=ZN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",a1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+pp(s,a);o+=Nc(s,e,n,l,i)}else if(l=JN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+pp(s,a++),o+=Nc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hu(t,e,n){if(t==null)return t;var r=[],i=0;return Nc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},Pc={transition:null},nP={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Pc,ReactCurrentOwner:ry};oe.Children={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=Jo;oe.Fragment=BN;oe.Profiler=WN;oe.PureComponent=ty;oe.StrictMode=qN;oe.Suspense=QN;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ry.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)D_.call(e,l)&&!R_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:au,type:t.type,key:i,ref:s,props:r,_owner:o}};oe.createContext=function(t){return t={$$typeof:GN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};oe.createElement=M_;oe.createFactory=function(t){var e=M_.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:KN,render:t}};oe.isValidElement=iy;oe.lazy=function(t){return{$$typeof:XN,_payload:{_status:-1,_result:t},_init:tP}};oe.memo=function(t,e){return{$$typeof:YN,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Pc.transition;Pc.transition={};try{t()}finally{Pc.transition=e}};oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};oe.useCallback=function(t,e){return Lt.current.useCallback(t,e)};oe.useContext=function(t){return Lt.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Lt.current.useEffect(t,e)};oe.useId=function(){return Lt.current.useId()};oe.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Lt.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};oe.useRef=function(t){return Lt.current.useRef(t)};oe.useState=function(t){return Lt.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Lt.current.useTransition()};oe.version="18.2.0";(function(t){t.exports=oe})(jN);const hn=x_(x),Lm=FN({__proto__:null,default:hn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP=x,iP=Symbol.for("react.element"),sP=Symbol.for("react.fragment"),oP=Object.prototype.hasOwnProperty,aP=rP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function L_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oP.call(e,r)&&!lP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iP,type:t,key:s,ref:o,props:i,_owner:aP.current}}Cd.Fragment=sP;Cd.jsx=L_;Cd.jsxs=L_;(function(t){t.exports=Cd})(zN);const C=nf.jsx,ne=nf.jsxs;var $m={},rf={},uP={get exports(){return rf},set exports(t){rf=t}},rn={},Fm={},cP={get exports(){return Fm},set exports(t){Fm=t}},$_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,q){var Y=R.length;R.push(q);e:for(;0<Y;){var Ce=Y-1>>>1,we=R[Ce];if(0<i(we,q))R[Ce]=q,R[Y]=we,Y=Ce;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var q=R[0],Y=R.pop();if(Y!==q){R[0]=Y;e:for(var Ce=0,we=R.length,js=we>>>1;Ce<js;){var Qt=2*(Ce+1)-1,hp=R[Qt],Ni=Qt+1,qu=R[Ni];if(0>i(hp,Y))Ni<we&&0>i(qu,hp)?(R[Ce]=qu,R[Ni]=Y,Ce=Ni):(R[Ce]=hp,R[Qt]=Y,Ce=Qt);else if(Ni<we&&0>i(qu,Y))R[Ce]=qu,R[Ni]=Y,Ce=Ni;else break e}}return q}function i(R,q){var Y=R.sortIndex-q.sortIndex;return Y!==0?Y:R.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=R)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function b(R){if(m=!1,y(R),!v)if(n(l)!==null)v=!0,xt(S);else{var q=n(u);q!==null&&ae(b,q.startTime-R)}}function S(R,q){v=!1,m&&(m=!1,g(_),_=-1),p=!0;var Y=d;try{for(y(q),f=n(l);f!==null&&(!(f.expirationTime>q)||R&&!H());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,d=f.priorityLevel;var we=Ce(f.expirationTime<=q);q=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(l)&&r(l),y(q)}else r(l);f=n(l)}if(f!==null)var js=!0;else{var Qt=n(u);Qt!==null&&ae(b,Qt.startTime-q),js=!1}return js}finally{f=null,d=Y,p=!1}}var E=!1,I=null,_=-1,A=5,P=-1;function H(){return!(t.unstable_now()-P<A)}function K(){if(I!==null){var R=t.unstable_now();P=R;var q=!0;try{q=I(!0,R)}finally{q?G():(E=!1,I=null)}}else E=!1}var G;if(typeof h=="function")G=function(){h(K)};else if(typeof MessageChannel<"u"){var ln=new MessageChannel,Ke=ln.port2;ln.port1.onmessage=K,G=function(){Ke.postMessage(null)}}else G=function(){w(K,0)};function xt(R){I=R,E||(E=!0,G())}function ae(R,q){_=w(function(){R(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,xt(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var Y=d;d=q;try{return R()}finally{d=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=d;d=R;try{return q()}finally{d=Y}},t.unstable_scheduleCallback=function(R,q,Y){var Ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Ce+Y:Ce):Y=Ce,R){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=Y+we,R={id:c++,callback:q,priorityLevel:R,startTime:Y,expirationTime:we,sortIndex:-1},Y>Ce?(R.sortIndex=Y,e(u,R),n(l)===null&&R===n(u)&&(m?(g(_),_=-1):m=!0,ae(b,Y-Ce))):(R.sortIndex=we,e(l,R),v||p||(v=!0,xt(S))),R},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(R){var q=d;return function(){var Y=d;d=q;try{return R.apply(this,arguments)}finally{d=Y}}}})($_);(function(t){t.exports=$_})(cP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=x,Zt=Fm;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,cl={};function Os(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(cl[t]=e,t=0;t<e.length;t++)U_.add(e[t])}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Um=Object.prototype.hasOwnProperty,fP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u1={},c1={};function dP(t){return Um.call(c1,t)?!0:Um.call(u1,t)?!1:fP.test(t)?c1[t]=!0:(u1[t]=!0,!1)}function hP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pP(t,e,n,r){if(e===null||typeof e>"u"||hP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var sy=/[\-:]([a-z])/g;function oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sy,oy);vt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sy,oy);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sy,oy);vt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function ay(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pP(e,n,i,r)&&(n=null),r||i===null?dP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),Ks=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),ly=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),z_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),uy=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),cy=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),V_=Symbol.for("react.offscreen"),f1=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=f1&&t[f1]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,mp;function Pa(t){if(mp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mp=e&&e[1]||""}return`
`+mp+t}var gp=!1;function vp(t,e){if(!t||gp)return"";gp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{gp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function mP(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case Ks:return"Portal";case zm:return"Profiler";case ly:return"StrictMode";case jm:return"Suspense";case Vm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j_:return(t.displayName||"Context")+".Consumer";case z_:return(t._context.displayName||"Context")+".Provider";case uy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cy:return e=t.displayName||null,e!==null?e:Bm(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return Bm(t(e))}catch{}}return null}function gP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bm(e);case 8:return e===ly?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vP(t){var e=B_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ku(t){t._valueTracker||(t._valueTracker=vP(t))}function q_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qm(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function W_(t,e){e=e.checked,e!=null&&ay(t,"checked",e,!1)}function Wm(t,e){W_(t,e);var n=ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hm(t,e.type,ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hm(t,e,n){(e!=="number"||sf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Da(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ni(n)}}function H_(t,e){var n=ni(e.value),r=ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qu,K_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qu=Qu||document.createElement("div"),Qu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yP=["Webkit","ms","Moz","O"];Object.keys(qa).forEach(function(t){yP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qa[e]=qa[t]})});function Q_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qa.hasOwnProperty(t)&&qa[t]?(""+e).trim():e+"px"}function Y_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Q_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var wP=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qm(t,e){if(e){if(wP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Ym(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xm=null;function fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jm=null,ho=null,po=null;function g1(t){if(t=cu(t)){if(typeof Jm!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Pd(e),Jm(t.stateNode,t.type,e))}}function X_(t){ho?po?po.push(t):po=[t]:ho=t}function J_(){if(ho){var t=ho,e=po;if(po=ho=null,g1(t),e)for(t=0;t<e.length;t++)g1(e[t])}}function Z_(t,e){return t(e)}function eI(){}var yp=!1;function tI(t,e,n){if(yp)return t(e,n);yp=!0;try{return Z_(t,e,n)}finally{yp=!1,(ho!==null||po!==null)&&(eI(),J_())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Pd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Zm=!1;if(ir)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{Zm=!1}function SP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Wa=!1,of=null,af=!1,eg=null,bP={onError:function(t){Wa=!0,of=t}};function EP(t,e,n,r,i,s,o,a,l){Wa=!1,of=null,SP.apply(bP,arguments)}function _P(t,e,n,r,i,s,o,a,l){if(EP.apply(this,arguments),Wa){if(Wa){var u=of;Wa=!1,of=null}else throw Error(D(198));af||(af=!0,eg=u)}}function As(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v1(t){if(As(t)!==t)throw Error(D(188))}function IP(t){var e=t.alternate;if(!e){if(e=As(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v1(i),t;if(s===r)return v1(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function rI(t){return t=IP(t),t!==null?iI(t):null}function iI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iI(t);if(e!==null)return e;t=t.sibling}return null}var sI=Zt.unstable_scheduleCallback,y1=Zt.unstable_cancelCallback,TP=Zt.unstable_shouldYield,kP=Zt.unstable_requestPaint,qe=Zt.unstable_now,CP=Zt.unstable_getCurrentPriorityLevel,dy=Zt.unstable_ImmediatePriority,oI=Zt.unstable_UserBlockingPriority,lf=Zt.unstable_NormalPriority,xP=Zt.unstable_LowPriority,aI=Zt.unstable_IdlePriority,xd=null,$n=null;function OP(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(xd,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:PP,AP=Math.log,NP=Math.LN2;function PP(t){return t>>>=0,t===0?32:31-(AP(t)/NP|0)|0}var Yu=64,Xu=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ra(a):(s&=o,s!==0&&(r=Ra(s)))}else o=n&~i,o!==0?r=Ra(o):s!==0&&(r=Ra(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),i=1<<n,r|=t[n],e&=~i;return r}function DP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Tn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=DP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lI(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function wp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function MP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Tn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function uI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cI,py,fI,dI,hI,ng=!1,Ju=[],Wr=null,Hr=null,Gr=null,hl=new Map,pl=new Map,Nr=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w1(t,e){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cu(e),e!==null&&py(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $P(t,e,n,r,i){switch(e){case"focusin":return Wr=wa(Wr,t,e,n,r,i),!0;case"dragenter":return Hr=wa(Hr,t,e,n,r,i),!0;case"mouseover":return Gr=wa(Gr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return hl.set(s,wa(hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pl.set(s,wa(pl.get(s)||null,t,e,n,r,i)),!0}return!1}function pI(t){var e=qi(t.target);if(e!==null){var n=As(e);if(n!==null){if(e=n.tag,e===13){if(e=nI(n),e!==null){t.blockedOn=e,hI(t.priority,function(){fI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xm=r,n.target.dispatchEvent(r),Xm=null}else return e=cu(n),e!==null&&py(e),t.blockedOn=n,!1;e.shift()}return!0}function S1(t,e,n){Dc(t)&&n.delete(e)}function FP(){ng=!1,Wr!==null&&Dc(Wr)&&(Wr=null),Hr!==null&&Dc(Hr)&&(Hr=null),Gr!==null&&Dc(Gr)&&(Gr=null),hl.forEach(S1),pl.forEach(S1)}function Sa(t,e){t.blockedOn===e&&(t.blockedOn=null,ng||(ng=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,FP)))}function ml(t){function e(i){return Sa(i,t)}if(0<Ju.length){Sa(Ju[0],t);for(var n=1;n<Ju.length;n++){var r=Ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wr!==null&&Sa(Wr,t),Hr!==null&&Sa(Hr,t),Gr!==null&&Sa(Gr,t),hl.forEach(e),pl.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)pI(n),n.blockedOn===null&&Nr.shift()}var mo=vr.ReactCurrentBatchConfig,cf=!0;function UP(t,e,n,r){var i=pe,s=mo.transition;mo.transition=null;try{pe=1,my(t,e,n,r)}finally{pe=i,mo.transition=s}}function zP(t,e,n,r){var i=pe,s=mo.transition;mo.transition=null;try{pe=4,my(t,e,n,r)}finally{pe=i,mo.transition=s}}function my(t,e,n,r){if(cf){var i=rg(t,e,n,r);if(i===null)Op(t,e,r,ff,n),w1(t,r);else if($P(i,t,e,n,r))r.stopPropagation();else if(w1(t,r),e&4&&-1<LP.indexOf(t)){for(;i!==null;){var s=cu(i);if(s!==null&&cI(s),s=rg(t,e,n,r),s===null&&Op(t,e,r,ff,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Op(t,e,r,null,n)}}var ff=null;function rg(t,e,n,r){if(ff=null,t=fy(r),t=qi(t),t!==null)if(e=As(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ff=t,null}function mI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CP()){case dy:return 1;case oI:return 4;case lf:case xP:return 16;case aI:return 536870912;default:return 16}default:return 16}}var zr=null,gy=null,Rc=null;function gI(){if(Rc)return Rc;var t,e=gy,n=e.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zu(){return!0}function b1(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zu:b1,this.isPropagationStopped=b1,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=sn(Zo),uu=$e({},Zo,{view:0,detail:0}),jP=sn(uu),Sp,bp,ba,Od=$e({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(Sp=t.screenX-ba.screenX,bp=t.screenY-ba.screenY):bp=Sp=0,ba=t),Sp)},movementY:function(t){return"movementY"in t?t.movementY:bp}}),E1=sn(Od),VP=$e({},Od,{dataTransfer:0}),BP=sn(VP),qP=$e({},uu,{relatedTarget:0}),Ep=sn(qP),WP=$e({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=sn(WP),GP=$e({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KP=sn(GP),QP=$e({},Zo,{data:0}),_1=sn(QP),YP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JP[t])?!!e[t]:!1}function yy(){return ZP}var eD=$e({},uu,{key:function(t){if(t.key){var e=YP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yy,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tD=sn(eD),nD=$e({},Od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I1=sn(nD),rD=$e({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yy}),iD=sn(rD),sD=$e({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oD=sn(sD),aD=$e({},Od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lD=sn(aD),uD=[9,13,27,32],wy=ir&&"CompositionEvent"in window,Ha=null;ir&&"documentMode"in document&&(Ha=document.documentMode);var cD=ir&&"TextEvent"in window&&!Ha,vI=ir&&(!wy||Ha&&8<Ha&&11>=Ha),T1=String.fromCharCode(32),k1=!1;function yI(t,e){switch(t){case"keyup":return uD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function fD(t,e){switch(t){case"compositionend":return wI(e);case"keypress":return e.which!==32?null:(k1=!0,T1);case"textInput":return t=e.data,t===T1&&k1?null:t;default:return null}}function dD(t,e){if(Ys)return t==="compositionend"||!wy&&yI(t,e)?(t=gI(),Rc=gy=zr=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vI&&e.locale!=="ko"?null:e.data;default:return null}}var hD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hD[t.type]:e==="textarea"}function SI(t,e,n,r){X_(r),e=df(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ga=null,gl=null;function pD(t){NI(t,0)}function Ad(t){var e=Zs(t);if(q_(e))return t}function mD(t,e){if(t==="change")return e}var bI=!1;if(ir){var _p;if(ir){var Ip="oninput"in document;if(!Ip){var x1=document.createElement("div");x1.setAttribute("oninput","return;"),Ip=typeof x1.oninput=="function"}_p=Ip}else _p=!1;bI=_p&&(!document.documentMode||9<document.documentMode)}function O1(){Ga&&(Ga.detachEvent("onpropertychange",EI),gl=Ga=null)}function EI(t){if(t.propertyName==="value"&&Ad(gl)){var e=[];SI(e,gl,t,fy(t)),tI(pD,e)}}function gD(t,e,n){t==="focusin"?(O1(),Ga=e,gl=n,Ga.attachEvent("onpropertychange",EI)):t==="focusout"&&O1()}function vD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad(gl)}function yD(t,e){if(t==="click")return Ad(e)}function wD(t,e){if(t==="input"||t==="change")return Ad(e)}function SD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:SD;function vl(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Um.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function A1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N1(t,e){var n=A1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A1(n)}}function _I(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_I(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function II(){for(var t=window,e=sf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sf(t.document)}return e}function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bD(t){var e=II(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_I(n.ownerDocument.documentElement,n)){if(r!==null&&Sy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N1(n,s);var o=N1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ED=ir&&"documentMode"in document&&11>=document.documentMode,Xs=null,ig=null,Ka=null,sg=!1;function P1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sg||Xs==null||Xs!==sf(r)||(r=Xs,"selectionStart"in r&&Sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&vl(Ka,r)||(Ka=r,r=df(ig,"onSelect"),0<r.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xs)))}function ec(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Js={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Tp={},TI={};ir&&(TI=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Nd(t){if(Tp[t])return Tp[t];if(!Js[t])return t;var e=Js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TI)return Tp[t]=e[n];return t}var kI=Nd("animationend"),CI=Nd("animationiteration"),xI=Nd("animationstart"),OI=Nd("transitionend"),AI=new Map,D1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){AI.set(t,e),Os(e,[t])}for(var kp=0;kp<D1.length;kp++){var Cp=D1[kp],_D=Cp.toLowerCase(),ID=Cp[0].toUpperCase()+Cp.slice(1);bi(_D,"on"+ID)}bi(kI,"onAnimationEnd");bi(CI,"onAnimationIteration");bi(xI,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(OI,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function R1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_P(r,e,void 0,t),t.currentTarget=null}function NI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;R1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;R1(i,a,u),s=l}}}if(af)throw t=eg,af=!1,eg=null,t}function be(t,e){var n=e[cg];n===void 0&&(n=e[cg]=new Set);var r=t+"__bubble";n.has(r)||(PI(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),PI(n,t,r,e)}var tc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[tc]){t[tc]=!0,U_.forEach(function(n){n!=="selectionchange"&&(TD.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tc]||(e[tc]=!0,xp("selectionchange",!1,e))}}function PI(t,e,n,r){switch(mI(e)){case 1:var i=UP;break;case 4:i=zP;break;default:i=my}n=i.bind(null,e,n,t),i=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Op(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tI(function(){var u=s,c=fy(n),f=[];e:{var d=AI.get(t);if(d!==void 0){var p=vy,v=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":p=tD;break;case"focusin":v="focus",p=Ep;break;case"focusout":v="blur",p=Ep;break;case"beforeblur":case"afterblur":p=Ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=E1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iD;break;case kI:case CI:case xI:p=HP;break;case OI:p=oD;break;case"scroll":p=jP;break;case"wheel":p=lD;break;case"copy":case"cut":case"paste":p=KP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I1}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?d!==null?d+"Capture":null:d;m=[];for(var h=u,y;h!==null;){y=h;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=dl(h,g),b!=null&&m.push(wl(h,b,y)))),w)break;h=h.return}0<m.length&&(d=new p(d,v,null,n,c),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Xm&&(v=n.relatedTarget||n.fromElement)&&(qi(v)||v[sr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?qi(v):null,v!==null&&(w=As(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=E1,b="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(m=I1,b="onPointerLeave",g="onPointerEnter",h="pointer"),w=p==null?d:Zs(p),y=v==null?d:Zs(v),d=new m(b,h+"leave",p,n,c),d.target=w,d.relatedTarget=y,b=null,qi(c)===u&&(m=new m(g,h+"enter",v,n,c),m.target=y,m.relatedTarget=w,b=m),w=b,p&&v)t:{for(m=p,g=v,h=0,y=m;y;y=Vs(y))h++;for(y=0,b=g;b;b=Vs(b))y++;for(;0<h-y;)m=Vs(m),h--;for(;0<y-h;)g=Vs(g),y--;for(;h--;){if(m===g||g!==null&&m===g.alternate)break t;m=Vs(m),g=Vs(g)}m=null}else m=null;p!==null&&M1(f,d,p,m,!1),v!==null&&w!==null&&M1(f,w,v,m,!0)}}e:{if(d=u?Zs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=mD;else if(C1(d))if(bI)S=wD;else{S=vD;var E=gD}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=yD);if(S&&(S=S(t,u))){SI(f,S,n,c);break e}E&&E(t,d,u),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Hm(d,"number",d.value)}switch(E=u?Zs(u):window,t){case"focusin":(C1(E)||E.contentEditable==="true")&&(Xs=E,ig=u,Ka=null);break;case"focusout":Ka=ig=Xs=null;break;case"mousedown":sg=!0;break;case"contextmenu":case"mouseup":case"dragend":sg=!1,P1(f,n,c);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":P1(f,n,c)}var I;if(wy)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ys?yI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(vI&&n.locale!=="ko"&&(Ys||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ys&&(I=gI()):(zr=c,gy="value"in zr?zr.value:zr.textContent,Ys=!0)),E=df(u,_),0<E.length&&(_=new _1(_,t,null,n,c),f.push({event:_,listeners:E}),I?_.data=I:(I=wI(n),I!==null&&(_.data=I)))),(I=cD?fD(t,n):dD(t,n))&&(u=df(u,"onBeforeInput"),0<u.length&&(c=new _1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}NI(f,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=dl(t,n),s!=null&&r.unshift(wl(t,s,i)),s=dl(t,e),s!=null&&r.push(wl(t,s,i))),t=t.return}return r}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=dl(n,s),l!=null&&o.unshift(wl(n,l,a))):i||(l=dl(n,s),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kD=/\r\n?/g,CD=/\u0000|\uFFFD/g;function L1(t){return(typeof t=="string"?t:""+t).replace(kD,`
`).replace(CD,"")}function nc(t,e,n){if(e=L1(e),L1(t)!==e&&n)throw Error(D(425))}function hf(){}var og=null,ag=null;function lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ug=typeof setTimeout=="function"?setTimeout:void 0,xD=typeof clearTimeout=="function"?clearTimeout:void 0,$1=typeof Promise=="function"?Promise:void 0,OD=typeof queueMicrotask=="function"?queueMicrotask:typeof $1<"u"?function(t){return $1.resolve(null).then(t).catch(AD)}:ug;function AD(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function Kr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Pn="__reactFiber$"+ea,Sl="__reactProps$"+ea,sr="__reactContainer$"+ea,cg="__reactEvents$"+ea,ND="__reactListeners$"+ea,PD="__reactHandles$"+ea;function qi(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F1(t);t!==null;){if(n=t[Pn])return n;t=F1(t)}return e}t=n,n=t.parentNode}return null}function cu(t){return t=t[Pn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Pd(t){return t[Sl]||null}var fg=[],eo=-1;function Ei(t){return{current:t}}function Ie(t){0>eo||(t.current=fg[eo],fg[eo]=null,eo--)}function Se(t,e){eo++,fg[eo]=t.current,t.current=e}var ri={},Ct=Ei(ri),Wt=Ei(!1),as=ri;function xo(t,e){var n=t.type.contextTypes;if(!n)return ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function pf(){Ie(Wt),Ie(Ct)}function U1(t,e,n){if(Ct.current!==ri)throw Error(D(168));Se(Ct,e),Se(Wt,n)}function DI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,gP(t)||"Unknown",i));return $e({},n,r)}function mf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ri,as=Ct.current,Se(Ct,t),Se(Wt,Wt.current),!0}function z1(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=DI(t,e,as),r.__reactInternalMemoizedMergedChildContext=t,Ie(Wt),Ie(Ct),Se(Ct,t)):Ie(Wt),Se(Wt,n)}var Yn=null,Dd=!1,Np=!1;function RI(t){Yn===null?Yn=[t]:Yn.push(t)}function DD(t){Dd=!0,RI(t)}function _i(){if(!Np&&Yn!==null){Np=!0;var t=0,e=pe;try{var n=Yn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,Dd=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),sI(dy,_i),i}finally{pe=e,Np=!1}}return null}var to=[],no=0,gf=null,vf=0,un=[],cn=0,ls=null,Xn=1,Jn="";function Di(t,e){to[no++]=vf,to[no++]=gf,gf=t,vf=e}function MI(t,e,n){un[cn++]=Xn,un[cn++]=Jn,un[cn++]=ls,ls=t;var r=Xn;t=Jn;var i=32-Tn(r)-1;r&=~(1<<i),n+=1;var s=32-Tn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xn=1<<32-Tn(e)+i|n<<i|r,Jn=s+t}else Xn=1<<s|n<<i|r,Jn=t}function by(t){t.return!==null&&(Di(t,1),MI(t,1,0))}function Ey(t){for(;t===gf;)gf=to[--no],to[no]=null,vf=to[--no],to[no]=null;for(;t===ls;)ls=un[--cn],un[cn]=null,Jn=un[--cn],un[cn]=null,Xn=un[--cn],un[cn]=null}var Jt=null,Xt=null,Ae=!1,bn=null;function LI(t,e){var n=fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function j1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Xt=Kr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ls!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Xt=null,!0):!1;default:return!1}}function dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hg(t){if(Ae){var e=Xt;if(e){var n=e;if(!j1(t,e)){if(dg(t))throw Error(D(418));e=Kr(n.nextSibling);var r=Jt;e&&j1(t,e)?LI(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Jt=t)}}else{if(dg(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ae=!1,Jt=t}}}function V1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function rc(t){if(t!==Jt)return!1;if(!Ae)return V1(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!lg(t.type,t.memoizedProps)),e&&(e=Xt)){if(dg(t))throw $I(),Error(D(418));for(;e;)LI(t,e),e=Kr(e.nextSibling)}if(V1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=Kr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Jt?Kr(t.stateNode.nextSibling):null;return!0}function $I(){for(var t=Xt;t;)t=Kr(t.nextSibling)}function Oo(){Xt=Jt=null,Ae=!1}function _y(t){bn===null?bn=[t]:bn.push(t)}var RD=vr.ReactCurrentBatchConfig;function wn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yf=Ei(null),wf=null,ro=null,Iy=null;function Ty(){Iy=ro=wf=null}function ky(t){var e=yf.current;Ie(yf),t._currentValue=e}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){wf=t,Iy=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Iy!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(wf===null)throw Error(D(308));ro=t,wf.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var Wi=null;function Cy(t){Wi===null?Wi=[t]:Wi.push(t)}function FI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cy(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Or=!1;function xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,Cy(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function B1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,r){var i=t.updateQueue;Or=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(d=e,p=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=$e({},f,d);break e;case 2:Or=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cs|=o,t.lanes=o,t.memoizedState=f}}function q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var zI=new F_.Component().refs;function mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rd={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Xr(t),s=nr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(kn(e,t,i,r),Lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rt(),i=Xr(t),s=nr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(kn(e,t,i,r),Lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rt(),r=Xr(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(kn(e,t,r,n),Lc(e,t,r))}};function W1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,s):!0}function jI(t,e,n){var r=!1,i=ri,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Ht(e)?as:Ct.current,r=e.contextTypes,s=(r=r!=null)?xo(t,i):ri),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rd.enqueueReplaceState(e,e.state,null)}function gg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zI,xy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Ht(e)?as:Ct.current,i.context=xo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rd.enqueueReplaceState(i,i.state,null),Sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===zI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ic(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G1(t){var e=t._init;return e(t._payload)}function VI(t){function e(g,h){if(t){var y=g.deletions;y===null?(g.deletions=[h],g.flags|=16):y.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=Jr(g,h),g.index=0,g.sibling=null,g}function s(g,h,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<h?(g.flags|=2,h):y):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,y,b){return h===null||h.tag!==6?(h=Fp(y,g.mode,b),h.return=g,h):(h=i(h,y),h.return=g,h)}function l(g,h,y,b){var S=y.type;return S===Qs?c(g,h,y.props.children,b,y.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xr&&G1(S)===h.type)?(b=i(h,y.props),b.ref=Ea(g,h,y),b.return=g,b):(b=Vc(y.type,y.key,y.props,null,g.mode,b),b.ref=Ea(g,h,y),b.return=g,b)}function u(g,h,y,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Up(y,g.mode,b),h.return=g,h):(h=i(h,y.children||[]),h.return=g,h)}function c(g,h,y,b,S){return h===null||h.tag!==7?(h=es(y,g.mode,b,S),h.return=g,h):(h=i(h,y),h.return=g,h)}function f(g,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Fp(""+h,g.mode,y),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Gu:return y=Vc(h.type,h.key,h.props,null,g.mode,y),y.ref=Ea(g,null,h),y.return=g,y;case Ks:return h=Up(h,g.mode,y),h.return=g,h;case xr:var b=h._init;return f(g,b(h._payload),y)}if(Da(h)||va(h))return h=es(h,g.mode,y,null),h.return=g,h;ic(g,h)}return null}function d(g,h,y,b){var S=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(g,h,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gu:return y.key===S?l(g,h,y,b):null;case Ks:return y.key===S?u(g,h,y,b):null;case xr:return S=y._init,d(g,h,S(y._payload),b)}if(Da(y)||va(y))return S!==null?null:c(g,h,y,b,null);ic(g,y)}return null}function p(g,h,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,a(h,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:return g=g.get(b.key===null?y:b.key)||null,l(h,g,b,S);case Ks:return g=g.get(b.key===null?y:b.key)||null,u(h,g,b,S);case xr:var E=b._init;return p(g,h,y,E(b._payload),S)}if(Da(b)||va(b))return g=g.get(y)||null,c(h,g,b,S,null);ic(h,b)}return null}function v(g,h,y,b){for(var S=null,E=null,I=h,_=h=0,A=null;I!==null&&_<y.length;_++){I.index>_?(A=I,I=null):A=I.sibling;var P=d(g,I,y[_],b);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(g,I),h=s(P,h,_),E===null?S=P:E.sibling=P,E=P,I=A}if(_===y.length)return n(g,I),Ae&&Di(g,_),S;if(I===null){for(;_<y.length;_++)I=f(g,y[_],b),I!==null&&(h=s(I,h,_),E===null?S=I:E.sibling=I,E=I);return Ae&&Di(g,_),S}for(I=r(g,I);_<y.length;_++)A=p(I,g,_,y[_],b),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?_:A.key),h=s(A,h,_),E===null?S=A:E.sibling=A,E=A);return t&&I.forEach(function(H){return e(g,H)}),Ae&&Di(g,_),S}function m(g,h,y,b){var S=va(y);if(typeof S!="function")throw Error(D(150));if(y=S.call(y),y==null)throw Error(D(151));for(var E=S=null,I=h,_=h=0,A=null,P=y.next();I!==null&&!P.done;_++,P=y.next()){I.index>_?(A=I,I=null):A=I.sibling;var H=d(g,I,P.value,b);if(H===null){I===null&&(I=A);break}t&&I&&H.alternate===null&&e(g,I),h=s(H,h,_),E===null?S=H:E.sibling=H,E=H,I=A}if(P.done)return n(g,I),Ae&&Di(g,_),S;if(I===null){for(;!P.done;_++,P=y.next())P=f(g,P.value,b),P!==null&&(h=s(P,h,_),E===null?S=P:E.sibling=P,E=P);return Ae&&Di(g,_),S}for(I=r(g,I);!P.done;_++,P=y.next())P=p(I,g,_,P.value,b),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?_:P.key),h=s(P,h,_),E===null?S=P:E.sibling=P,E=P);return t&&I.forEach(function(K){return e(g,K)}),Ae&&Di(g,_),S}function w(g,h,y,b){if(typeof y=="object"&&y!==null&&y.type===Qs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gu:e:{for(var S=y.key,E=h;E!==null;){if(E.key===S){if(S=y.type,S===Qs){if(E.tag===7){n(g,E.sibling),h=i(E,y.props.children),h.return=g,g=h;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xr&&G1(S)===E.type){n(g,E.sibling),h=i(E,y.props),h.ref=Ea(g,E,y),h.return=g,g=h;break e}n(g,E);break}else e(g,E);E=E.sibling}y.type===Qs?(h=es(y.props.children,g.mode,b,y.key),h.return=g,g=h):(b=Vc(y.type,y.key,y.props,null,g.mode,b),b.ref=Ea(g,h,y),b.return=g,g=b)}return o(g);case Ks:e:{for(E=y.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(g,h.sibling),h=i(h,y.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=Up(y,g.mode,b),h.return=g,g=h}return o(g);case xr:return E=y._init,w(g,h,E(y._payload),b)}if(Da(y))return v(g,h,y,b);if(va(y))return m(g,h,y,b);ic(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,y),h.return=g,g=h):(n(g,h),h=Fp(y,g.mode,b),h.return=g,g=h),o(g)):n(g,h)}return w}var Ao=VI(!0),BI=VI(!1),fu={},Fn=Ei(fu),bl=Ei(fu),El=Ei(fu);function Hi(t){if(t===fu)throw Error(D(174));return t}function Oy(t,e){switch(Se(El,e),Se(bl,t),Se(Fn,fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Km(e,t)}Ie(Fn),Se(Fn,e)}function No(){Ie(Fn),Ie(bl),Ie(El)}function qI(t){Hi(El.current);var e=Hi(Fn.current),n=Km(e,t.type);e!==n&&(Se(bl,t),Se(Fn,n))}function Ay(t){bl.current===t&&(Ie(Fn),Ie(bl))}var Me=Ei(0);function bf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pp=[];function Ny(){for(var t=0;t<Pp.length;t++)Pp[t]._workInProgressVersionPrimary=null;Pp.length=0}var $c=vr.ReactCurrentDispatcher,Dp=vr.ReactCurrentBatchConfig,us=0,Le=null,Xe=null,rt=null,Ef=!1,Qa=!1,_l=0,MD=0;function St(){throw Error(D(321))}function Py(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function Dy(t,e,n,r,i,s){if(us=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$c.current=t===null||t.memoizedState===null?UD:zD,t=n(r,i),Qa){s=0;do{if(Qa=!1,_l=0,25<=s)throw Error(D(301));s+=1,rt=Xe=null,e.updateQueue=null,$c.current=jD,t=n(r,i)}while(Qa)}if($c.current=_f,e=Xe!==null&&Xe.next!==null,us=0,rt=Xe=Le=null,Ef=!1,e)throw Error(D(300));return t}function Ry(){var t=_l!==0;return _l=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Le.memoizedState=rt=t:rt=rt.next=t,rt}function gn(){if(Xe===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=rt===null?Le.memoizedState:rt.next;if(e!==null)rt=e,Xe=t;else{if(t===null)throw Error(D(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?Le.memoizedState=rt=t:rt=rt.next=t}return rt}function Il(t,e){return typeof e=="function"?e(t):e}function Rp(t){var e=gn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Xe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Le.lanes|=c,cs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,cs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=gn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function WI(){}function HI(t,e){var n=Le,r=gn(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,My(QI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Tl(9,KI.bind(null,n,r,i,e),void 0,null),st===null)throw Error(D(349));us&30||GI(n,e,i)}return i}function GI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KI(t,e,n,r){e.value=n,e.getSnapshot=r,YI(e)&&XI(t)}function QI(t,e,n){return n(function(){YI(e)&&XI(t)})}function YI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function XI(t){var e=or(t,1);e!==null&&kn(e,t,1,-1)}function K1(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:t},e.queue=t,t=t.dispatch=FD.bind(null,Le,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JI(){return gn().memoizedState}function Fc(t,e,n,r){var i=Nn();Le.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function Md(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,r!==null&&Py(r,o.deps)){i.memoizedState=Tl(e,n,s,r);return}}Le.flags|=t,i.memoizedState=Tl(1|e,n,s,r)}function Q1(t,e){return Fc(8390656,8,t,e)}function My(t,e){return Md(2048,8,t,e)}function ZI(t,e){return Md(4,2,t,e)}function eT(t,e){return Md(4,4,t,e)}function tT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nT(t,e,n){return n=n!=null?n.concat([t]):null,Md(4,4,tT.bind(null,e,t),n)}function Ly(){}function rT(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iT(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sT(t,e,n){return us&21?(xn(n,e)||(n=lI(),Le.lanes|=n,cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function LD(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Dp.transition;Dp.transition={};try{t(!1),e()}finally{pe=n,Dp.transition=r}}function oT(){return gn().memoizedState}function $D(t,e,n){var r=Xr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aT(t))lT(e,n);else if(n=FI(t,e,n,r),n!==null){var i=Rt();kn(n,t,r,i),uT(n,e,r)}}function FD(t,e,n){var r=Xr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aT(t))lT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var l=e.interleaved;l===null?(i.next=i,Cy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=FI(t,e,i,r),n!==null&&(i=Rt(),kn(n,t,r,i),uT(n,e,r))}}function aT(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function lT(t,e){Qa=Ef=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var _f={readContext:mn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},UD={readContext:mn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:Q1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,tT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$D.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:K1,useDebugValue:Ly,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=K1(!1),e=t[0];return t=LD.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Nn();if(Ae){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),st===null)throw Error(D(349));us&30||GI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q1(QI.bind(null,r,s,t),[t]),r.flags|=2048,Tl(9,KI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=st.identifierPrefix;if(Ae){var n=Jn,r=Xn;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_l++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zD={readContext:mn,useCallback:rT,useContext:mn,useEffect:My,useImperativeHandle:nT,useInsertionEffect:ZI,useLayoutEffect:eT,useMemo:iT,useReducer:Rp,useRef:JI,useState:function(){return Rp(Il)},useDebugValue:Ly,useDeferredValue:function(t){var e=gn();return sT(e,Xe.memoizedState,t)},useTransition:function(){var t=Rp(Il)[0],e=gn().memoizedState;return[t,e]},useMutableSource:WI,useSyncExternalStore:HI,useId:oT,unstable_isNewReconciler:!1},jD={readContext:mn,useCallback:rT,useContext:mn,useEffect:My,useImperativeHandle:nT,useInsertionEffect:ZI,useLayoutEffect:eT,useMemo:iT,useReducer:Mp,useRef:JI,useState:function(){return Mp(Il)},useDebugValue:Ly,useDeferredValue:function(t){var e=gn();return Xe===null?e.memoizedState=t:sT(e,Xe.memoizedState,t)},useTransition:function(){var t=Mp(Il)[0],e=gn().memoizedState;return[t,e]},useMutableSource:WI,useSyncExternalStore:HI,useId:oT,unstable_isNewReconciler:!1};function Po(t,e){try{var n="",r=e;do n+=mP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VD=typeof WeakMap=="function"?WeakMap:Map;function cT(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tf||(Tf=!0,Cg=r),vg(t,e)},n}function fT(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){vg(t,e),typeof r!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Y1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nR.bind(null,t,e,n),e.then(t,t))}function X1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var BD=vr.ReactCurrentOwner,jt=!1;function At(t,e,n,r){e.child=t===null?BI(e,null,n,r):Ao(e,t.child,n,r)}function Z1(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=Dy(t,e,n,r,s,i),n=Ry(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Ae&&n&&by(e),e.flags|=1,At(t,e,r,i),e.child)}function eS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dT(t,e,s,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return ar(t,e,i)}return e.flags|=1,t=Jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function dT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vl(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,ar(t,e,i)}return yg(t,e,n,r,i)}function hT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(so,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(so,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(so,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(so,Yt),Yt|=r;return At(t,e,i,n),e.child}function pT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yg(t,e,n,r,i){var s=Ht(n)?as:Ct.current;return s=xo(e,s),go(e,i),n=Dy(t,e,n,r,s,i),r=Ry(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ar(t,e,i)):(Ae&&r&&by(e),e.flags|=1,At(t,e,n,i),e.child)}function tS(t,e,n,r,i){if(Ht(n)){var s=!0;mf(e)}else s=!1;if(go(e,i),e.stateNode===null)Uc(t,e),jI(e,n,r),gg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Ht(n)?as:Ct.current,u=xo(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&H1(e,o,r,u),Or=!1;var d=e.memoizedState;o.state=d,Sf(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Wt.current||Or?(typeof c=="function"&&(mg(e,n,c,r),l=e.memoizedState),(a=Or||W1(e,n,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:wn(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Ht(n)?as:Ct.current,l=xo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&H1(e,o,r,l),Or=!1,d=e.memoizedState,o.state=d,Sf(e,r,o,i);var v=e.memoizedState;a!==f||d!==v||Wt.current||Or?(typeof p=="function"&&(mg(e,n,p,r),v=e.memoizedState),(u=Or||W1(e,n,u,r,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wg(t,e,n,r,s,i)}function wg(t,e,n,r,i,s){pT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&z1(e,n,!1),ar(t,e,s);r=e.stateNode,BD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):At(t,e,a,s),e.memoizedState=r.state,i&&z1(e,n,!0),e.child}function mT(t){var e=t.stateNode;e.pendingContext?U1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U1(t,e.context,!1),Oy(t,e.containerInfo)}function nS(t,e,n,r,i){return Oo(),_y(i),e.flags|=256,At(t,e,n,r),e.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function bg(t){return{baseLanes:t,cachePool:null,transitions:null}}function gT(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Me,i&1),t===null)return hg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fd(o,r,0,null),t=es(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bg(n),e.memoizedState=Sg,t):$y(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return qD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=es(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?bg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sg,r}return s=t.child,t=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $y(t,e){return e=Fd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&_y(r),Ao(e,t.child,null,n),t=$y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lp(Error(D(422))),sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Fd({mode:"visible",children:r.children},i,0,null),s=es(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=bg(o),e.memoizedState=Sg,s);if(!(e.mode&1))return sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Lp(s,r,void 0),sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,or(t,i),kn(r,t,i,-1))}return By(),r=Lp(Error(D(421))),sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=Kr(i.nextSibling),Jt=e,Ae=!0,bn=null,t!==null&&(un[cn++]=Xn,un[cn++]=Jn,un[cn++]=ls,Xn=t.id,Jn=t.overflow,ls=e),e=$y(e,r.children),e.flags|=4096,e)}function rS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function $p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(At(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rS(t,n,e);else if(t.tag===19)rS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$p(e,!0,n,null,s);break;case"together":$p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WD(t,e,n){switch(e.tag){case 3:mT(e),Oo();break;case 5:qI(e);break;case 1:Ht(e.type)&&mf(e);break;case 4:Oy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(yf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?gT(t,e,n):(Se(Me,Me.current&1),t=ar(t,e,n),t!==null?t.sibling:null);Se(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,hT(t,e,n)}return ar(t,e,n)}var yT,Eg,wT,ST;yT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eg=function(){};wT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(Fn.current);var s=null;switch(n){case"input":i=qm(t,i),r=qm(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Gm(t,i),r=Gm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hf)}Qm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ST=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HD(t,e,n){var r=e.pendingProps;switch(Ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Ht(e.type)&&pf(),bt(e),null;case 3:return r=e.stateNode,No(),Ie(Wt),Ie(Ct),Ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Ag(bn),bn=null))),Eg(t,e),bt(e),null;case 5:Ay(e);var i=Hi(El.current);if(n=e.type,t!==null&&e.stateNode!=null)wT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return bt(e),null}if(t=Hi(Fn.current),rc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pn]=e,r[Sl]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Ma.length;i++)be(Ma[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":d1(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":p1(r,s),be("invalid",r)}Qm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nc(r.textContent,a,t),i=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Ku(r),h1(r,s,!0);break;case"textarea":Ku(r),m1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pn]=e,t[Sl]=r,yT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ym(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)be(Ma[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":d1(t,r),i=qm(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),be("invalid",t);break;case"textarea":p1(t,r),i=Gm(t,r),be("invalid",t);break;default:i=r}Qm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Y_(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K_(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fl(t,l):typeof l=="number"&&fl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&ay(t,s,l,o))}switch(n){case"input":Ku(t),h1(t,r,!1);break;case"textarea":Ku(t),m1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ni(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Hi(El.current),Hi(Fn.current),rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pn]=e,(s=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:nc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=e,e.stateNode=r}return bt(e),null;case 13:if(Ie(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Xt!==null&&e.mode&1&&!(e.flags&128))$I(),Oo(),e.flags|=98560,s=!1;else if(s=rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Pn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else bn!==null&&(Ag(bn),bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?Je===0&&(Je=3):By())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return No(),Eg(t,e),t===null&&yl(e.stateNode.containerInfo),bt(e),null;case 10:return ky(e.type._context),bt(e),null;case 17:return Ht(e.type)&&pf(),bt(e),null;case 19:if(Ie(Me),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_a(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bf(t),o!==null){for(e.flags|=128,_a(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>Do&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304)}else{if(!r)if(t=bf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ae)return bt(e),null}else 2*qe()-s.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,_a(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Me.current,Se(Me,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Vy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function GD(t,e){switch(Ey(e),e.tag){case 1:return Ht(e.type)&&pf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),Ie(Wt),Ie(Ct),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ay(e),null;case 13:if(Ie(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Me),null;case 4:return No(),null;case 10:return ky(e.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var oc=!1,It=!1,KD=typeof WeakSet=="function"?WeakSet:Set,z=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function _g(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var iS=!1;function QD(t,e){if(og=cf,t=II(),Sy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ag={focusedElem:t,selectionRange:n},cf=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:wn(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){Fe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return v=iS,iS=!1,v}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_g(e,n,s)}i=i.next}while(i!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ig(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[Sl],delete e[cg],delete e[ND],delete e[PD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ET(t){return t.tag===5||t.tag===3||t.tag===4}function sS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ET(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hf));else if(r!==4&&(t=t.child,t!==null))for(Tg(t,e,n),t=t.sibling;t!==null;)Tg(t,e,n),t=t.sibling}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}var dt=null,Sn=!1;function Er(t,e,n){for(n=n.child;n!==null;)_T(t,e,n),n=n.sibling}function _T(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(xd,n)}catch{}switch(n.tag){case 5:It||io(n,e);case 6:var r=dt,i=Sn;dt=null,Er(t,e,n),dt=r,Sn=i,dt!==null&&(Sn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Sn?(t=dt,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),ml(t)):Ap(dt,n.stateNode));break;case 4:r=dt,i=Sn,dt=n.stateNode.containerInfo,Sn=!0,Er(t,e,n),dt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_g(n,e,o),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!It&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Er(t,e,n),It=r):Er(t,e,n);break;default:Er(t,e,n)}}function oS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KD),e.forEach(function(r){var i=iR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Sn=!1;break e;case 3:dt=a.stateNode.containerInfo,Sn=!0;break e;case 4:dt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(dt===null)throw Error(D(160));_T(s,o,i),dt=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Fe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IT(e,t),e=e.sibling}function IT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),An(t),r&4){try{Ya(3,t,t.return),Ld(3,t)}catch(m){Fe(t,t.return,m)}try{Ya(5,t,t.return)}catch(m){Fe(t,t.return,m)}}break;case 1:yn(e,t),An(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(yn(e,t),An(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(m){Fe(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&W_(i,s),Ym(a,o);var u=Ym(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Y_(i,f):c==="dangerouslySetInnerHTML"?K_(i,f):c==="children"?fl(i,f):ay(i,c,f,u)}switch(a){case"input":Wm(i,s);break;case"textarea":H_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?fo(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?fo(i,!!s.multiple,s.defaultValue,!0):fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sl]=s}catch(m){Fe(t,t.return,m)}}break;case 6:if(yn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Fe(t,t.return,m)}}break;case 3:if(yn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(m){Fe(t,t.return,m)}break;case 4:yn(e,t),An(t);break;case 13:yn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zy=qe())),r&4&&oS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||c,yn(e,t),It=u):yn(e,t),An(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(f=z=c;z!==null;){switch(d=z,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ya(4,d,d.return);break;case 1:io(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Fe(r,n,m)}}break;case 5:io(d,d.return);break;case 22:if(d.memoizedState!==null){lS(f);continue}}p!==null?(p.return=d,z=p):lS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Q_("display",o))}catch(m){Fe(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Fe(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),An(t),r&4&&oS(t);break;case 21:break;default:yn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ET(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var s=sS(t);kg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sS(t);Tg(t,a,o);break;default:throw Error(D(161))}}catch(l){Fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YD(t,e,n){z=t,TT(t)}function TT(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=oc;var u=It;if(oc=o,(It=l)&&!u)for(z=i;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?uS(i):l!==null?(l.return=o,z=l):uS(i);for(;s!==null;)z=s,TT(s),s=s.sibling;z=i,oc=a,It=u}aS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):aS(t)}}function aS(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}It||e.flags&512&&Ig(e)}catch(d){Fe(e,e.return,d)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function lS(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function uS(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(l){Fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Fe(e,i,l)}}var s=e.return;try{Ig(e)}catch(l){Fe(e,s,l)}break;case 5:var o=e.return;try{Ig(e)}catch(l){Fe(e,o,l)}}}catch(l){Fe(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var XD=Math.ceil,If=vr.ReactCurrentDispatcher,Fy=vr.ReactCurrentOwner,pn=vr.ReactCurrentBatchConfig,fe=0,st=null,Ye=null,mt=0,Yt=0,so=Ei(0),Je=0,kl=null,cs=0,$d=0,Uy=0,Xa=null,zt=null,zy=0,Do=1/0,Qn=null,Tf=!1,Cg=null,Yr=null,ac=!1,jr=null,kf=0,Ja=0,xg=null,zc=-1,jc=0;function Rt(){return fe&6?qe():zc!==-1?zc:zc=qe()}function Xr(t){return t.mode&1?fe&2&&mt!==0?mt&-mt:RD.transition!==null?(jc===0&&(jc=lI()),jc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:mI(t.type)),t):1}function kn(t,e,n,r){if(50<Ja)throw Ja=0,xg=null,Error(D(185));lu(t,n,r),(!(fe&2)||t!==st)&&(t===st&&(!(fe&2)&&($d|=n),Je===4&&Pr(t,mt)),Gt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Do=qe()+500,Dd&&_i()))}function Gt(t,e){var n=t.callbackNode;RP(t,e);var r=uf(t,t===st?mt:0);if(r===0)n!==null&&y1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y1(n),e===1)t.tag===0?DD(cS.bind(null,t)):RI(cS.bind(null,t)),OD(function(){!(fe&6)&&_i()}),n=null;else{switch(uI(r)){case 1:n=dy;break;case 4:n=oI;break;case 16:n=lf;break;case 536870912:n=aI;break;default:n=lf}n=DT(n,kT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kT(t,e){if(zc=-1,jc=0,fe&6)throw Error(D(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=uf(t,t===st?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Cf(t,r);else{e=r;var i=fe;fe|=2;var s=xT();(st!==t||mt!==e)&&(Qn=null,Do=qe()+500,Zi(t,e));do try{eR();break}catch(a){CT(t,a)}while(1);Ty(),If.current=s,fe=i,Ye!==null?e=0:(st=null,mt=0,e=Je)}if(e!==0){if(e===2&&(i=tg(t),i!==0&&(r=i,e=Og(t,i))),e===1)throw n=kl,Zi(t,0),Pr(t,r),Gt(t,qe()),n;if(e===6)Pr(t,r);else{if(i=t.current.alternate,!(r&30)&&!JD(i)&&(e=Cf(t,r),e===2&&(s=tg(t),s!==0&&(r=s,e=Og(t,s))),e===1))throw n=kl,Zi(t,0),Pr(t,r),Gt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Ri(t,zt,Qn);break;case 3:if(Pr(t,r),(r&130023424)===r&&(e=zy+500-qe(),10<e)){if(uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ug(Ri.bind(null,t,zt,Qn),e);break}Ri(t,zt,Qn);break;case 4:if(Pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Tn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XD(r/1960))-r,10<r){t.timeoutHandle=ug(Ri.bind(null,t,zt,Qn),r);break}Ri(t,zt,Qn);break;case 5:Ri(t,zt,Qn);break;default:throw Error(D(329))}}}return Gt(t,qe()),t.callbackNode===n?kT.bind(null,t):null}function Og(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(Zi(t,e).flags|=256),t=Cf(t,e),t!==2&&(e=zt,zt=n,e!==null&&Ag(e)),t}function Ag(t){zt===null?zt=t:zt.push.apply(zt,t)}function JD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pr(t,e){for(e&=~Uy,e&=~$d,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function cS(t){if(fe&6)throw Error(D(327));vo();var e=uf(t,0);if(!(e&1))return Gt(t,qe()),null;var n=Cf(t,e);if(t.tag!==0&&n===2){var r=tg(t);r!==0&&(e=r,n=Og(t,r))}if(n===1)throw n=kl,Zi(t,0),Pr(t,e),Gt(t,qe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,zt,Qn),Gt(t,qe()),null}function jy(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Do=qe()+500,Dd&&_i())}}function fs(t){jr!==null&&jr.tag===0&&!(fe&6)&&vo();var e=fe;fe|=1;var n=pn.transition,r=pe;try{if(pn.transition=null,pe=1,t)return t()}finally{pe=r,pn.transition=n,fe=e,!(fe&6)&&_i()}}function Vy(){Yt=so.current,Ie(so)}function Zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xD(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pf();break;case 3:No(),Ie(Wt),Ie(Ct),Ny();break;case 5:Ay(r);break;case 4:No();break;case 13:Ie(Me);break;case 19:Ie(Me);break;case 10:ky(r.type._context);break;case 22:case 23:Vy()}n=n.return}if(st=t,Ye=t=Jr(t.current,null),mt=Yt=e,Je=0,kl=null,Uy=$d=cs=0,zt=Xa=null,Wi!==null){for(e=0;e<Wi.length;e++)if(n=Wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wi=null}return t}function CT(t,e){do{var n=Ye;try{if(Ty(),$c.current=_f,Ef){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ef=!1}if(us=0,rt=Xe=Le=null,Qa=!1,_l=0,Fy.current=null,n===null||n.return===null){Je=1,kl=e,Ye=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=X1(o);if(p!==null){p.flags&=-257,J1(p,o,a,s,e),p.mode&1&&Y1(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){Y1(s,u,e),By();break e}l=Error(D(426))}}else if(Ae&&a.mode&1){var w=X1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),J1(w,o,a,s,e),_y(Po(l,a));break e}}s=l=Po(l,a),Je!==4&&(Je=2),Xa===null?Xa=[s]:Xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=cT(s,l,e);B1(s,g);break e;case 1:a=l;var h=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yr===null||!Yr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=fT(s,a,e);B1(s,b);break e}}s=s.return}while(s!==null)}AT(n)}catch(S){e=S,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(1)}function xT(){var t=If.current;return If.current=_f,t===null?_f:t}function By(){(Je===0||Je===3||Je===2)&&(Je=4),st===null||!(cs&268435455)&&!($d&268435455)||Pr(st,mt)}function Cf(t,e){var n=fe;fe|=2;var r=xT();(st!==t||mt!==e)&&(Qn=null,Zi(t,e));do try{ZD();break}catch(i){CT(t,i)}while(1);if(Ty(),fe=n,If.current=r,Ye!==null)throw Error(D(261));return st=null,mt=0,Je}function ZD(){for(;Ye!==null;)OT(Ye)}function eR(){for(;Ye!==null&&!TP();)OT(Ye)}function OT(t){var e=PT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?AT(t):Ye=e,Fy.current=null}function AT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GD(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ye=null;return}}else if(n=HD(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);Je===0&&(Je=5)}function Ri(t,e,n){var r=pe,i=pn.transition;try{pn.transition=null,pe=1,tR(t,e,n,r)}finally{pn.transition=i,pe=r}return null}function tR(t,e,n,r){do vo();while(jr!==null);if(fe&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MP(t,s),t===st&&(Ye=st=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ac||(ac=!0,DT(lf,function(){return vo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=pe;pe=1;var a=fe;fe|=4,Fy.current=null,QD(t,n),IT(n,t),bD(ag),cf=!!og,ag=og=null,t.current=n,YD(n),kP(),fe=a,pe=o,pn.transition=s}else t.current=n;if(ac&&(ac=!1,jr=t,kf=i),s=t.pendingLanes,s===0&&(Yr=null),OP(n.stateNode),Gt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tf)throw Tf=!1,t=Cg,Cg=null,t;return kf&1&&t.tag!==0&&vo(),s=t.pendingLanes,s&1?t===xg?Ja++:(Ja=0,xg=t):Ja=0,_i(),null}function vo(){if(jr!==null){var t=uI(kf),e=pn.transition,n=pe;try{if(pn.transition=null,pe=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,kf=0,fe&6)throw Error(D(331));var i=fe;for(fe|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Ya(8,c,s)}var f=c.child;if(f!==null)f.return=c,z=f;else for(;z!==null;){c=z;var d=c.sibling,p=c.return;if(bT(c),c===u){z=null;break}if(d!==null){d.return=p,z=d;break}z=p}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ya(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,z=g;break e}z=s.return}}var h=t.current;for(z=h;z!==null;){o=z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,z=y;else e:for(o=h;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(S){Fe(a,a.return,S)}if(a===o){z=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,z=b;break e}z=a.return}}if(fe=i,_i(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(xd,t)}catch{}r=!0}return r}finally{pe=n,pn.transition=e}}return!1}function fS(t,e,n){e=Po(n,e),e=cT(t,e,1),t=Qr(t,e,1),e=Rt(),t!==null&&(lu(t,1,e),Gt(t,e))}function Fe(t,e,n){if(t.tag===3)fS(t,t,n);else for(;e!==null;){if(e.tag===3){fS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yr===null||!Yr.has(r))){t=Po(n,t),t=fT(e,t,1),e=Qr(e,t,1),t=Rt(),e!==null&&(lu(e,1,t),Gt(e,t));break}}e=e.return}}function nR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(mt&n)===n&&(Je===4||Je===3&&(mt&130023424)===mt&&500>qe()-zy?Zi(t,0):Uy|=n),Gt(t,e)}function NT(t,e){e===0&&(t.mode&1?(e=Xu,Xu<<=1,!(Xu&130023424)&&(Xu=4194304)):e=1);var n=Rt();t=or(t,e),t!==null&&(lu(t,e,n),Gt(t,n))}function rR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function iR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),NT(t,n)}var PT;PT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,WD(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ae&&e.flags&1048576&&MI(e,vf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=xo(e,Ct.current);go(e,n),i=Dy(null,e,r,t,i,n);var s=Ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,mf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xy(e),i.updater=Rd,e.stateNode=i,i._reactInternals=e,gg(e,r,t,n),e=wg(null,e,r,!0,s,n)):(e.tag=0,Ae&&s&&by(e),At(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oR(r),t=wn(r,t),i){case 0:e=yg(null,e,r,t,n);break e;case 1:e=tS(null,e,r,t,n);break e;case 11:e=Z1(null,e,r,t,n);break e;case 14:e=eS(null,e,r,wn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),yg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),tS(t,e,r,i,n);case 3:e:{if(mT(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UI(t,e),Sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Po(Error(D(423)),e),e=nS(t,e,r,n,i);break e}else if(r!==i){i=Po(Error(D(424)),e),e=nS(t,e,r,n,i);break e}else for(Xt=Kr(e.stateNode.containerInfo.firstChild),Jt=e,Ae=!0,bn=null,n=BI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){e=ar(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return qI(e),t===null&&hg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lg(r,i)?o=null:s!==null&&lg(r,s)&&(e.flags|=32),pT(t,e),At(t,e,o,n),e.child;case 6:return t===null&&hg(e),null;case 13:return gT(t,e,n);case 4:return Oy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Z1(t,e,r,i,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(yf,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!Wt.current){e=ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=nr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),pg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),pg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=mn(i),r=r(i),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),eS(t,e,r,i,n);case 15:return dT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Uc(t,e),e.tag=1,Ht(r)?(t=!0,mf(e)):t=!1,go(e,n),jI(e,r,i),gg(e,r,i,n),wg(null,e,r,!0,t,n);case 19:return vT(t,e,n);case 22:return hT(t,e,n)}throw Error(D(156,e.tag))};function DT(t,e){return sI(t,e)}function sR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,e,n,r){return new sR(t,e,n,r)}function qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oR(t){if(typeof t=="function")return qy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uy)return 11;if(t===cy)return 14}return 2}function Jr(t,e){var n=t.alternate;return n===null?(n=fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")qy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qs:return es(n.children,i,s,e);case ly:o=8,i|=8;break;case zm:return t=fn(12,n,e,i|2),t.elementType=zm,t.lanes=s,t;case jm:return t=fn(13,n,e,i),t.elementType=jm,t.lanes=s,t;case Vm:return t=fn(19,n,e,i),t.elementType=Vm,t.lanes=s,t;case V_:return Fd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z_:o=10;break e;case j_:o=9;break e;case uy:o=11;break e;case cy:o=14;break e;case xr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function es(t,e,n,r){return t=fn(7,t,r,e),t.lanes=n,t}function Fd(t,e,n,r){return t=fn(22,t,r,e),t.elementType=V_,t.lanes=n,t.stateNode={isHidden:!1},t}function Fp(t,e,n){return t=fn(6,t,null,e),t.lanes=n,t}function Up(t,e,n){return e=fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wp(0),this.expirationTimes=wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wy(t,e,n,r,i,s,o,a,l){return t=new aR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xy(s),t}function lR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RT(t){if(!t)return ri;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Ht(n))return DI(t,n,e)}return e}function MT(t,e,n,r,i,s,o,a,l){return t=Wy(n,r,!0,t,i,s,o,a,l),t.context=RT(null),n=t.current,r=Rt(),i=Xr(n),s=nr(r,i),s.callback=e??null,Qr(n,s,i),t.current.lanes=i,lu(t,i,r),Gt(t,r),t}function Ud(t,e,n,r){var i=e.current,s=Rt(),o=Xr(i);return n=RT(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,o),t!==null&&(kn(t,i,o,s),Lc(t,i,o)),o}function xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hy(t,e){dS(t,e),(t=t.alternate)&&dS(t,e)}function uR(){return null}var LT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gy(t){this._internalRoot=t}zd.prototype.render=Gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Ud(t,e,null,null)};zd.prototype.unmount=Gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){Ud(null,t,null,null)}),e[sr]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=dI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&pI(t)}};function Ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hS(){}function cR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=xf(o);s.call(u)}}var o=MT(e,r,t,0,null,!1,!1,"",hS);return t._reactRootContainer=o,t[sr]=o.current,yl(t.nodeType===8?t.parentNode:t),fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xf(l);a.call(u)}}var l=Wy(t,0,!1,null,null,!1,!1,"",hS);return t._reactRootContainer=l,t[sr]=l.current,yl(t.nodeType===8?t.parentNode:t),fs(function(){Ud(e,l,n,r)}),l}function Vd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xf(o);a.call(l)}}Ud(e,o,t,i)}else o=cR(n,e,t,i,r);return xf(o)}cI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(hy(e,n|1),Gt(e,qe()),!(fe&6)&&(Do=qe()+500,_i()))}break;case 13:fs(function(){var r=or(t,1);if(r!==null){var i=Rt();kn(r,t,1,i)}}),Hy(t,1)}};py=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Rt();kn(e,t,134217728,n)}Hy(t,134217728)}};fI=function(t){if(t.tag===13){var e=Xr(t),n=or(t,e);if(n!==null){var r=Rt();kn(n,t,e,r)}Hy(t,e)}};dI=function(){return pe};hI=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Jm=function(t,e,n){switch(e){case"input":if(Wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pd(r);if(!i)throw Error(D(90));q_(r),Wm(r,i)}}}break;case"textarea":H_(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};Z_=jy;eI=fs;var fR={usingClientEntryPoint:!1,Events:[cu,Zs,Pd,X_,J_,jy]},Ia={findFiberByHostInstance:qi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dR={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||uR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xd=lc.inject(dR),$n=lc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fR;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ky(e))throw Error(D(200));return lR(t,e,null,n)};rn.createRoot=function(t,e){if(!Ky(t))throw Error(D(299));var n=!1,r="",i=LT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wy(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Gy(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=rI(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return fs(t)};rn.hydrate=function(t,e,n){if(!jd(e))throw Error(D(200));return Vd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Ky(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MT(e,null,t,1,n??null,i,!1,s,o),t[sr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zd(e)};rn.render=function(t,e,n){if(!jd(e))throw Error(D(200));return Vd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!jd(t))throw Error(D(40));return t._reactRootContainer?(fs(function(){Vd(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};rn.unstable_batchedUpdates=jy;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jd(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Vd(t,e,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=rn})(uP);var pS=rf;$m.createRoot=pS.createRoot,$m.hydrateRoot=pS.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cl.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));const mS="popstate";function hR(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ns(i.location.hash.substr(1));return Ng("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:$T(s))}function r(i,s){Bd(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return mR(e,n,r,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pR(){return Math.random().toString(36).substr(2,8)}function gS(t,e){return{usr:t.state,key:t.key,idx:e}}function Ng(t,e,n,r){return n===void 0&&(n=null),Cl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ns(e):e,{state:n,key:e&&e.key||r||pR()})}function $T(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Cl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){a=Vr.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:g})}function d(w,g){a=Vr.Push;let h=Ng(m.location,w,g);n&&n(h,w),u=c()+1;let y=gS(h,u),b=m.createHref(h);try{o.pushState(y,"",b)}catch{i.location.assign(b)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,g){a=Vr.Replace;let h=Ng(m.location,w,g);n&&n(h,w),u=c();let y=gS(h,u),b=m.createHref(h);o.replaceState(y,"",b),s&&l&&l({action:a,location:m.location,delta:0})}function v(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof w=="string"?w:$T(w);return ot(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mS,f),l=w,()=>{i.removeEventListener(mS,f),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:p,go(w){return o.go(w)}};return m}var vS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vS||(vS={}));function gR(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ns(e):e,i=zT(r.pathname||"/",n);if(i==null)return null;let s=FT(t);vR(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=kR(s[a],OR(i));return o}function FT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ts([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:IR(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of UT(s.path))i(s,o,l)}),e}function UT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=UT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yR=/^:\w+$/,wR=3,SR=2,bR=1,ER=10,_R=-2,yS=t=>t==="*";function IR(t,e){let n=t.split("/"),r=n.length;return n.some(yS)&&(r+=_R),e&&(r+=SR),n.filter(i=>!yS(i)).reduce((i,s)=>i+(yR.test(s)?wR:s===""?bR:ER),r)}function TR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kR(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=CR({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:ts([i,c.pathname]),pathnameBase:MR(ts([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=ts([i,c.pathnameBase]))}return s}function CR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=AR(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function xR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function OR(t){try{return decodeURI(t)}catch(e){return Bd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AR(t,e){try{return decodeURIComponent(t)}catch(n){return Bd(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function zT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ns(t):t;return{pathname:n?n.startsWith("/")?n:PR(n,e):e,search:LR(r),hash:$R(i)}}function PR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ns(t):(i=Cl({},t),ot(!i.pathname||!i.pathname.includes("?"),zp("?","pathname","search",i)),ot(!i.pathname||!i.pathname.includes("#"),zp("#","pathname","hash",i)),ot(!i.search||!i.search.includes("#"),zp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let f=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=NR(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),MR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function UR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const zR=typeof Object.is=="function"?Object.is:UR,{useState:jR,useEffect:VR,useLayoutEffect:BR,useDebugValue:qR}=Lm;function WR(t,e,n){const r=e(),[{inst:i},s]=jR({inst:{value:r,getSnapshot:e}});return BR(()=>{i.value=r,i.getSnapshot=e,jp(i)&&s({inst:i})},[t,r,e]),VR(()=>(jp(i)&&s({inst:i}),t(()=>{jp(i)&&s({inst:i})})),[t]),qR(r),r}function jp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!zR(n,r)}catch{return!0}}function HR(t,e,n){return e()}const GR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KR=!GR,QR=KR?HR:WR;"useSyncExternalStore"in Lm&&(t=>t.useSyncExternalStore)(Lm);const jT=x.createContext(null),VT=x.createContext(null),Qy=x.createContext(null),qd=x.createContext(null),du=x.createContext({outlet:null,matches:[]}),BT=x.createContext(null);function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function Wd(){return x.useContext(qd)!=null}function qT(){return Wd()||ot(!1),x.useContext(qd).location}function Ps(){Wd()||ot(!1);let{basename:t,navigator:e}=x.useContext(Qy),{matches:n}=x.useContext(du),{pathname:r}=qT(),i=JSON.stringify(DR(n).map(a=>a.pathnameBase)),s=x.useRef(!1);return x.useEffect(()=>{s.current=!0}),x.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=RR(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ts([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function YR(t,e){Wd()||ot(!1);let{navigator:n}=x.useContext(Qy),r=x.useContext(VT),{matches:i}=x.useContext(du),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=qT(),u;if(e){var c;let m=typeof e=="string"?Ns(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||ot(!1),u=m}else u=l;let f=u.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",p=gR(t,{pathname:d}),v=e2(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:ts([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ts([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&v?x.createElement(qd.Provider,{value:{location:Pg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vr.Pop}},v):v}function XR(){let t=i2(),e=FR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}class JR extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(du.Provider,{value:this.props.routeContext},x.createElement(BT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZR(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(jT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(du.Provider,{value:e},r)}function e2(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||ot(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=x.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=x.createElement(XR,null));let c=e.concat(r.slice(0,a+1)),f=()=>{let d=s;return l?d=u:o.route.Component?d=x.createElement(o.route.Component,null):o.route.element&&(d=o.route.element),x.createElement(ZR,{match:o,routeContext:{outlet:s,matches:c},children:d})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?x.createElement(JR,{location:n.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var wS;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(wS||(wS={}));var Of;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Of||(Of={}));function t2(t){let e=x.useContext(VT);return e||ot(!1),e}function n2(t){let e=x.useContext(du);return e||ot(!1),e}function r2(t){let e=n2(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function i2(){var t;let e=x.useContext(BT),n=t2(Of.UseRouteError),r=r2(Of.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Mi(t){ot(!1)}function s2(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vr.Pop,navigator:s,static:o=!1}=t;Wd()&&ot(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Ns(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=r,v=x.useMemo(()=>{let m=zT(u,a);return m==null?null:{location:{pathname:m,search:c,hash:f,state:d,key:p},navigationType:i}},[a,u,c,f,d,p,i]);return v==null?null:x.createElement(Qy.Provider,{value:l},x.createElement(qd.Provider,{children:n,value:v}))}function o2(t){let{children:e,location:n}=t,r=x.useContext(jT),i=r&&!e?r.router.routes:Dg(e);return YR(i,n)}var SS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(SS||(SS={}));new Promise(()=>{});function Dg(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,Dg(r.props.children,s));return}r.type!==Mi&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Dg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a2(t){let{basename:e,children:n,window:r}=t,i=x.useRef();i.current==null&&(i.current=hR({window:r,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location});return x.useLayoutEffect(()=>s.listen(a),[s]),x.createElement(s2,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var bS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(bS||(bS={}));var ES;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ES||(ES={}));var WT={},HT={},Hd={},GT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(GT);var l2="Expected a function",_S=0/0,u2="[object Symbol]",c2=/^\s+|\s+$/g,f2=/^[-+]0x[0-9a-f]+$/i,d2=/^0b[01]+$/i,h2=/^0o[0-7]+$/i,p2=parseInt,m2=typeof Wu=="object"&&Wu&&Wu.Object===Object&&Wu,g2=typeof self=="object"&&self&&self.Object===Object&&self,v2=m2||g2||Function("return this")(),y2=Object.prototype,w2=y2.toString,S2=Math.max,b2=Math.min,Vp=function(){return v2.Date.now()};function E2(t,e,n){var r,i,s,o,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(l2);e=IS(e)||0,Rg(n)&&(c=!!n.leading,f="maxWait"in n,s=f?S2(IS(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(E){var I=r,_=i;return r=i=void 0,u=E,o=t.apply(_,I),o}function v(E){return u=E,a=setTimeout(g,e),c?p(E):o}function m(E){var I=E-l,_=E-u,A=e-I;return f?b2(A,s-_):A}function w(E){var I=E-l,_=E-u;return l===void 0||I>=e||I<0||f&&_>=s}function g(){var E=Vp();if(w(E))return h(E);a=setTimeout(g,m(E))}function h(E){return a=void 0,d&&r?p(E):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:h(Vp())}function S(){var E=Vp(),I=w(E);if(r=arguments,i=this,l=E,I){if(a===void 0)return v(l);if(f)return a=setTimeout(g,e),p(l)}return a===void 0&&(a=setTimeout(g,e)),o}return S.cancel=y,S.flush=b,S}function Rg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _2(t){return!!t&&typeof t=="object"}function I2(t){return typeof t=="symbol"||_2(t)&&w2.call(t)==u2}function IS(t){if(typeof t=="number")return t;if(I2(t))return _S;if(Rg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(c2,"");var n=d2.test(t);return n||h2.test(t)?p2(t.slice(2),n?2:8):f2.test(t)?_S:+t}var T2=E2,ds={},k2={get exports(){return ds},set exports(t){ds=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(k2);const C2=ds;var $={};Object.defineProperty($,"__esModule",{value:!0});$.checkSpecKeys=$.checkNavigable=$.changeSlide=$.canUseDOM=$.canGoNext=void 0;$.clamp=KT;$.swipeStart=$.swipeMove=$.swipeEnd=$.slidesOnRight=$.slidesOnLeft=$.slideHandler=$.siblingDirection=$.safePreventDefault=$.lazyStartIndex=$.lazySlidesOnRight=$.lazySlidesOnLeft=$.lazyEndIndex=$.keyHandler=$.initializedState=$.getWidth=$.getTrackLeft=$.getTrackCSS=$.getTrackAnimateCSS=$.getTotalSlides=$.getSwipeDirection=$.getSlideCount=$.getRequiredLazySlides=$.getPreClones=$.getPostClones=$.getOnDemandLazySlides=$.getNavigableIndexes=$.getHeight=$.extractObject=void 0;var x2=O2(x);function O2(t){return t&&t.__esModule?t:{default:t}}function TS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(n),!0).forEach(function(r){A2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KT(t,e,n){return Math.max(e,Math.min(t,n))}var ns=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};$.safePreventDefault=ns;var Yy=function(e){for(var n=[],r=Xy(e),i=Jy(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};$.getOnDemandLazySlides=Yy;var N2=function(e){for(var n=[],r=Xy(e),i=Jy(e),s=r;s<i;s++)n.push(s);return n};$.getRequiredLazySlides=N2;var Xy=function(e){return e.currentSlide-QT(e)};$.lazyStartIndex=Xy;var Jy=function(e){return e.currentSlide+YT(e)};$.lazyEndIndex=Jy;var QT=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};$.lazySlidesOnLeft=QT;var YT=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};$.lazySlidesOnRight=YT;var Af=function(e){return e&&e.offsetWidth||0};$.getWidth=Af;var Zy=function(e){return e&&e.offsetHeight||0};$.getHeight=Zy;var e0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};$.getSwipeDirection=e0;var t0=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};$.canGoNext=t0;var P2=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};$.extractObject=P2;var D2=function(e){var n=x2.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Af(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(Af(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&Zy(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var d=e.lazyLoadedList||[],p=Yy(xe(xe({},e),{},{currentSlide:f,lazyLoadedList:d}));d=d.concat(p);var v={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:f,slideHeight:u,listHeight:c,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};$.initializedState=D2;var R2=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,f=e.slidesToScroll,d=e.slidesToShow,p=e.useCSS,v=e.lazyLoadedList;if(n&&r)return{};var m=o,w,g,h,y={},b={},S=s?o:KT(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?m=o+a:o>=a&&(m=o-a),l&&v.indexOf(m)<0&&(v=v.concat(m)),y={animating:!0,currentSlide:m,lazyLoadedList:v,targetSlide:m},b={animating:!1,targetSlide:m}}else w=m,m<0?(w=m+a,s?a%f!==0&&(w=a-a%f):w=0):!t0(e)&&m>u?m=w=u:c&&m>=a?(m=s?a:a-1,w=s?0:a-1):m>=a&&(w=m-a,s?a%f!==0&&(w=0):w=a-d),!s&&m+d>=a&&(w=a-d),g=Ol(xe(xe({},e),{},{slideIndex:m})),h=Ol(xe(xe({},e),{},{slideIndex:w})),s||(g===h&&(m=w),g=h),l&&(v=v.concat(Yy(xe(xe({},e),{},{currentSlide:m})))),p?(y={animating:!0,currentSlide:w,trackStyle:n0(xe(xe({},e),{},{left:g})),lazyLoadedList:v,targetSlide:S},b={animating:!1,currentSlide:w,trackStyle:xl(xe(xe({},e),{},{left:h})),swipeLeft:null,targetSlide:S}):y={currentSlide:w,trackStyle:xl(xe(xe({},e),{},{left:h})),lazyLoadedList:v,targetSlide:S};return{state:y,nextState:b}};$.slideHandler=R2;var M2=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,f=e.currentSlide,d=e.targetSlide,p=e.lazyLoad,v=e.infinite;if(o=c%l!==0,r=o?0:(c-f)%l,n.message==="previous")s=r===0?l:u-r,a=f-s,p&&!v&&(i=f-s,a=i===-1?c-1:i),v||(a=d-l);else if(n.message==="next")s=r===0?l:r,a=f+s,p&&!v&&(a=(f+l)%c+r),v||(a=d+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,v){var m=ek(xe(xe({},e),{},{targetSlide:a}));a>n.currentSlide&&m==="left"?a=a-c:a<n.currentSlide&&m==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};$.changeSlide=M2;var L2=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};$.keyHandler=L2;var $2=function(e,n,r){return e.target.tagName==="IMG"&&ns(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};$.swipeStart=$2;var F2=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,f=n.edgeDragged,d=n.onEdge,p=n.swiped,v=n.swiping,m=n.slideCount,w=n.slidesToScroll,g=n.infinite,h=n.touchObject,y=n.swipeEvent,b=n.listHeight,S=n.listWidth;if(!r){if(i)return ns(e);s&&o&&a&&ns(e);var E,I={},_=Ol(n);h.curX=e.touches?e.touches[0].pageX:e.clientX,h.curY=e.touches?e.touches[0].pageY:e.clientY,h.swipeLength=Math.round(Math.sqrt(Math.pow(h.curX-h.startX,2)));var A=Math.round(Math.sqrt(Math.pow(h.curY-h.startY,2)));if(!a&&!v&&A>10)return{scrolling:!0};a&&(h.swipeLength=A);var P=(l?-1:1)*(h.curX>h.startX?1:-1);a&&(P=h.curY>h.startY?1:-1);var H=Math.ceil(m/w),K=e0(n.touchObject,a),G=h.swipeLength;return g||(u===0&&(K==="right"||K==="down")||u+1>=H&&(K==="left"||K==="up")||!t0(n)&&(K==="left"||K==="up"))&&(G=h.swipeLength*c,f===!1&&d&&(d(K),I.edgeDragged=!0)),!p&&y&&(y(K),I.swiped=!0),s?E=_+G*(b/S)*P:l?E=_-G*P:E=_+G*P,a&&(E=_+G*P),I=xe(xe({},I),{},{touchObject:h,swipeLeft:E,trackStyle:xl(xe(xe({},n),{},{left:E}))}),Math.abs(h.curX-h.startX)<Math.abs(h.curY-h.startY)*.8||h.swipeLength>10&&(I.swiping=!0,ns(e)),I}};$.swipeMove=F2;var U2=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,f=n.scrolling,d=n.onSwipe,p=n.targetSlide,v=n.currentSlide,m=n.infinite;if(!r)return i&&ns(e),{};var w=l?u/a:o/a,g=e0(s,l),h={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return h;if(s.swipeLength>w){ns(e),d&&d(g);var y,b,S=m?v:p;switch(g){case"left":case"up":b=S+Lg(n),y=c?Mg(n,b):b,h.currentDirection=0;break;case"right":case"down":b=S-Lg(n),y=c?Mg(n,b):b,h.currentDirection=1;break;default:y=S}h.triggerSlideHandler=y}else{var E=Ol(n);h.trackStyle=n0(xe(xe({},n),{},{left:E}))}return h};$.swipeEnd=U2;var XT=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};$.getNavigableIndexes=XT;var Mg=function(e,n){var r=XT(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};$.checkNavigable=Mg;var Lg=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+Zy(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Af(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};$.getSlideCount=Lg;var Gd=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};$.checkSpecKeys=Gd;var xl=function(e){Gd(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=ZT(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=xe(xe({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};$.getTrackCSS=xl;var n0=function(e){Gd(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=xl(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};$.getTrackAnimateCSS=n0;var Ol=function(e){if(e.unslick)return 0;Gd(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,f=e.variableWidth,d=e.slideHeight,p=e.fade,v=e.vertical,m=0,w,g,h=0;if(p||e.slideCount===1)return 0;var y=0;if(i?(y=-Za(e),o%l!==0&&n+l>o&&(y=-(n>o?a-(n-o):o%l)),s&&(y+=parseInt(a/2))):(o%l!==0&&n+l>o&&(y=a-o%l),s&&(y=parseInt(a/2))),m=y*u,h=y*d,v?w=n*d*-1+h:w=n*u*-1+m,f===!0){var b,S=r&&r.node;if(b=n+Za(e),g=S&&S.childNodes[b],w=g?g.offsetLeft*-1:0,s===!0){b=i?n+Za(e):n,g=S&&S.children[b],w=0;for(var E=0;E<b;E++)w-=S&&S.children[E]&&S.children[E].offsetWidth;w-=parseInt(e.centerPadding),w+=g&&(c-g.offsetWidth)/2}}return w};$.getTrackLeft=Ol;var Za=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};$.getPreClones=Za;var JT=function(e){return e.unslick||!e.infinite?0:e.slideCount};$.getPostClones=JT;var ZT=function(e){return e.slideCount===1?1:Za(e)+e.slideCount+JT(e)};$.getTotalSlides=ZT;var ek=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+tk(e)?"left":"right":e.targetSlide<e.currentSlide-nk(e)?"right":"left"};$.siblingDirection=ek;var tk=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};$.slidesOnRight=tk;var nk=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};$.slidesOnLeft=nk;var z2=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};$.canUseDOM=z2;var Kd={};function $g(t){return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}Object.defineProperty(Kd,"__esModule",{value:!0});Kd.Track=void 0;var Ar=rk(x),Bp=rk(ds),qp=$;function rk(t){return t&&t.__esModule?t:{default:t}}function Fg(){return Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function j2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V2(t,e,n){return e&&kS(t.prototype,e),n&&kS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ug(t,e)}function Ug(t,e){return Ug=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ug(t,e)}function q2(t){var e=H2();return function(){var r=Nf(t),i;if(e){var s=Nf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return W2(this,i)}}function W2(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zg(t)}function zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wp=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},G2=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Hp=function(e,n){return e.key||n},K2=function(e){var n,r=[],i=[],s=[],o=Ar.default.Children.count(e.children),a=(0,qp.lazyStartIndex)(e),l=(0,qp.lazyEndIndex)(e);return Ar.default.Children.forEach(e.children,function(u,c){var f,d={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?f=u:f=Ar.default.createElement("div",null);var p=G2(Ft(Ft({},e),{},{index:c})),v=f.props.className||"",m=Wp(Ft(Ft({},e),{},{index:c}));if(r.push(Ar.default.cloneElement(f,{key:"original"+Hp(f,c),"data-index":c,className:(0,Bp.default)(m,v),tabIndex:"-1","aria-hidden":!m["slick-active"],style:Ft(Ft({outline:"none"},f.props.style||{}),p),onClick:function(h){f.props&&f.props.onClick&&f.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var w=o-c;w<=(0,qp.getPreClones)(e)&&o!==e.slidesToShow&&(n=-w,n>=a&&(f=u),m=Wp(Ft(Ft({},e),{},{index:n})),i.push(Ar.default.cloneElement(f,{key:"precloned"+Hp(f,n),"data-index":n,tabIndex:"-1",className:(0,Bp.default)(m,v),"aria-hidden":!m["slick-active"],style:Ft(Ft({},f.props.style||{}),p),onClick:function(h){f.props&&f.props.onClick&&f.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(d)}}))),o!==e.slidesToShow&&(n=o+c,n<l&&(f=u),m=Wp(Ft(Ft({},e),{},{index:n})),s.push(Ar.default.cloneElement(f,{key:"postcloned"+Hp(f,n),"data-index":n,tabIndex:"-1",className:(0,Bp.default)(m,v),"aria-hidden":!m["slick-active"],style:Ft(Ft({},f.props.style||{}),p),onClick:function(h){f.props&&f.props.onClick&&f.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(d)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},Q2=function(t){B2(n,t);var e=q2(n);function n(){var r;j2(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),jg(zg(r),"node",null),jg(zg(r),"handleRef",function(a){r.node=a}),r}return V2(n,[{key:"render",value:function(){var i=K2(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Ar.default.createElement("div",Fg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(Ar.default.PureComponent);Kd.Track=Q2;var Qd={};function Vg(t){return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Dots=void 0;var uc=ik(x),Y2=ik(ds),xS=$;function ik(t){return t&&t.__esModule?t:{default:t}}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){J2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eM(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function Bg(t,e){return Bg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Bg(t,e)}function nM(t){var e=sM();return function(){var r=Pf(t),i;if(e){var s=Pf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rM(this,i)}}function rM(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iM(t)}function iM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}var oM=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},aM=function(t){tM(n,t);var e=nM(n);function n(){return Z2(this,n),e.apply(this,arguments)}return eM(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,f=i.slideCount,d=i.currentSlide,p=oM({slideCount:f,slidesToScroll:u,slidesToShow:c,infinite:l}),v={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},m=[],w=0;w<p;w++){var g=(w+1)*u-1,h=l?g:(0,xS.clamp)(g,0,f-1),y=h-(u-1),b=l?y:(0,xS.clamp)(y,0,f-1),S=(0,Y2.default)({"slick-active":l?d>=b&&d<=h:d===b}),E={message:"dots",index:w,slidesToScroll:u,currentSlide:d},I=this.clickHandler.bind(this,E);m=m.concat(uc.default.createElement("li",{key:w,className:S},uc.default.cloneElement(this.props.customPaging(w),{onClick:I})))}return uc.default.cloneElement(this.props.appendDots(m),X2({className:this.props.dotsClass},v))}}]),n}(uc.default.PureComponent);Qd.Dots=aM;var Ro={};function qg(t){return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}Object.defineProperty(Ro,"__esModule",{value:!0});Ro.PrevArrow=Ro.NextArrow=void 0;var yo=ok(x),sk=ok(ds),lM=$;function ok(t){return t&&t.__esModule?t:{default:t}}function Df(){return Df=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){uM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lk(t,e,n){return e&&PS(t.prototype,e),n&&PS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Wg(t,e)}function ck(t){var e=dM();return function(){var r=Mf(t),i;if(e){var s=Mf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cM(this,i)}}function cM(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fM(t)}function fM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(t)}var hM=function(t){uk(n,t);var e=ck(n);function n(){return ak(this,n),e.apply(this,arguments)}return lk(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,sk.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=yo.default.cloneElement(this.props.prevArrow,Rf(Rf({},o),a)):l=yo.default.createElement("button",Df({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(yo.default.PureComponent);Ro.PrevArrow=hM;var pM=function(t){uk(n,t);var e=ck(n);function n(){return ak(this,n),e.apply(this,arguments)}return lk(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,lM.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,sk.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=yo.default.cloneElement(this.props.nextArrow,Rf(Rf({},o),a)):l=yo.default.createElement("button",Df({key:"1",type:"button"},o)," ","Next"),l}}]),n}(yo.default.PureComponent);Ro.NextArrow=pM;var fk=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),Hg=typeof window<"u"&&typeof document<"u"&&window.document===document,Lf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mM=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Lf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),gM=2;function vM(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){mM(s)}function a(){var l=Date.now();if(n){if(l-i<gM)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var yM=20,wM=["top","right","bottom","left","width","height","size","weight"],SM=typeof MutationObserver<"u",bM=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=vM(this.refresh.bind(this),yM)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Hg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),SM?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Hg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=wM.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),dk=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Mo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Lf},hk=Yd(0,0,0,0);function $f(t){return parseFloat(t)||0}function DS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+$f(s)},0)}function EM(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=$f(o)}return n}function _M(t){var e=t.getBBox();return Yd(0,0,e.width,e.height)}function IM(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return hk;var r=Mo(t).getComputedStyle(t),i=EM(r),s=i.left+i.right,o=i.top+i.bottom,a=$f(r.width),l=$f(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=DS(r,"left","right")+s),Math.round(l+o)!==n&&(l-=DS(r,"top","bottom")+o)),!kM(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Yd(i.left,i.top,a,l)}var TM=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Mo(t).SVGGraphicsElement}:function(t){return t instanceof Mo(t).SVGElement&&typeof t.getBBox=="function"}}();function kM(t){return t===Mo(t).document.documentElement}function CM(t){return Hg?TM(t)?_M(t):IM(t):hk}function xM(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return dk(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Yd(t,e,n,r){return{x:t,y:e,width:n,height:r}}var OM=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Yd(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=CM(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),AM=function(){function t(e,n){var r=xM(n);dk(this,{target:e,contentRect:r})}return t}(),NM=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new fk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new OM(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Mo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new AM(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),pk=typeof WeakMap<"u"?new WeakMap:new fk,mk=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=bM.getInstance(),r=new NM(e,n,this);pk.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){mk.prototype[t]=function(){var e;return(e=pk.get(this))[t].apply(e,arguments)}});var PM=function(){return typeof Lf.ResizeObserver<"u"?Lf.ResizeObserver:mk}();const DM=Object.freeze(Object.defineProperty({__proto__:null,default:PM},Symbol.toStringTag,{value:"Module"})),RM=UN(DM);Object.defineProperty(Hd,"__esModule",{value:!0});Hd.InnerSlider=void 0;var Ot=hu(x),MM=hu(GT),LM=hu(T2),$M=hu(ds),Re=$,FM=Kd,UM=Qd,RS=Ro,zM=hu(RM);function hu(t){return t&&t.__esModule?t:{default:t}}function Ff(t){return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function Uf(){return Uf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function jM(t,e){if(t==null)return{};var n=VM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function MS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(n),!0).forEach(function(r){ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qM(t,e,n){return e&&LS(t.prototype,e),n&&LS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gg(t,e)}function Gg(t,e){return Gg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Gg(t,e)}function HM(t){var e=KM();return function(){var r=zf(t),i;if(e){var s=zf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return GM(this,i)}}function GM(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(t)}function ie(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var QM=function(t){WM(n,t);var e=HM(n);function n(r){var i;BM(this,n),i=e.call(this,r),ie(re(i),"listRefHandler",function(o){return i.list=o}),ie(re(i),"trackRefHandler",function(o){return i.track=o}),ie(re(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Re.getHeight)(o)+"px"}}),ie(re(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Re.getOnDemandLazySlides)(Q(Q({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=Q({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new zM.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ie(re(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ie(re(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Re.getOnDemandLazySlides)(Q(Q({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=Q(Q({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=Ot.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Ot.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ie(re(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,LM.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),ie(re(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=Q(Q({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ie(re(i),"updateState",function(o,a,l){var u=(0,Re.initializedState)(o);o=Q(Q(Q({},o),u),{},{slideIndex:u.currentSlide});var c=(0,Re.getTrackLeft)(o);o=Q(Q({},o),{},{left:c});var f=(0,Re.getTrackCSS)(o);(a||Ot.default.Children.count(i.props.children)!==Ot.default.Children.count(o.children))&&(u.trackStyle=f),i.setState(u,l)}),ie(re(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,Re.getPreClones)(Q(Q(Q({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,Re.getPostClones)(Q(Q(Q({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(I){l.push(I.props.style.width),o+=I.props.style.width});for(var f=0;f<u;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var d=0;d<c;d++)o+=l[d];for(var p=0;p<i.state.currentSlide;p++)a+=l[p];var v={width:o+"px",left:-a+"px"};if(i.props.centerMode){var m="".concat(l[i.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(m,") / 2 ) ")}return{trackStyle:v}}var w=Ot.default.Children.count(i.props.children),g=Q(Q(Q({},i.props),i.state),{},{slideCount:w}),h=(0,Re.getPreClones)(g)+(0,Re.getPostClones)(g)+w,y=100/i.props.slidesToShow*h,b=100/h,S=-b*((0,Re.getPreClones)(g)+i.state.currentSlide)*y/100;i.props.centerMode&&(S+=(100-b*y/100)/2);var E={width:y+"%",left:S+"%"};return{slideWidth:b+"%",trackStyle:E}}),ie(re(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(){f(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ie(re(i),"progressiveLazyLoad",function(){for(var o=[],a=Q(Q({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Re.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,Re.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ie(re(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,f=l.onLazyLoad,d=l.speed,p=l.afterChange,v=i.state.currentSlide,m=(0,Re.slideHandler)(Q(Q(Q({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),w=m.state,g=m.nextState;if(w){c&&c(v,w.currentSlide);var h=w.lazyLoadedList.filter(function(y){return i.state.lazyLoadedList.indexOf(y)<0});f&&h.length>0&&f(h),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),p&&p(v),delete i.animationEndCallback),i.setState(w,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),g&&(i.animationEndCallback=setTimeout(function(){var y=g.animating,b=jM(g,["animating"]);i.setState(b,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:y})},10)),p&&p(w.currentSlide),delete i.animationEndCallback})},d))})}}),ie(re(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Q(Q({},i.props),i.state),u=(0,Re.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),ie(re(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),ie(re(i),"keyHandler",function(o){var a=(0,Re.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ie(re(i),"selectHandler",function(o){i.changeSlide(o)}),ie(re(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),ie(re(i),"enableBodyScroll",function(){window.ontouchmove=null}),ie(re(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Re.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ie(re(i),"swipeMove",function(o){var a=(0,Re.swipeMove)(o,Q(Q(Q({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ie(re(i),"swipeEnd",function(o){var a=(0,Re.swipeEnd)(o,Q(Q(Q({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),ie(re(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),ie(re(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ie(re(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ie(re(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),ie(re(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Re.canGoNext)(Q(Q({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),ie(re(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ie(re(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ie(re(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ie(re(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ie(re(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ie(re(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ie(re(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ie(re(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ie(re(i),"render",function(){var o=(0,$M.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Q(Q({},i.props),i.state),l=(0,Re.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=Q(Q({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Re.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;f=Q(Q({},f),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),c=Ot.default.createElement(UM.Dots,f)}var p,v,m=(0,Re.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);m.clickHandler=i.changeSlide,i.props.arrows&&(p=Ot.default.createElement(RS.PrevArrow,m),v=Ot.default.createElement(RS.NextArrow,m));var w=null;i.props.vertical&&(w={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var h=Q(Q({},w),g),y=i.props.touchMove,b={className:"slick-list",style:h,onClick:i.clickHandler,onMouseDown:y?i.swipeStart:null,onMouseMove:i.state.dragging&&y?i.swipeMove:null,onMouseUp:y?i.swipeEnd:null,onMouseLeave:i.state.dragging&&y?i.swipeEnd:null,onTouchStart:y?i.swipeStart:null,onTouchMove:i.state.dragging&&y?i.swipeMove:null,onTouchEnd:y?i.touchEnd:null,onTouchCancel:i.state.dragging&&y?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},S={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(b={className:"slick-list"},S={className:o}),Ot.default.createElement("div",S,i.props.unslick?"":p,Ot.default.createElement("div",Uf({ref:i.listRefHandler},b),Ot.default.createElement(FM.Track,Uf({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":v,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=Q(Q({},MM.default),{},{currentSlide:i.props.initialSlide,slideCount:Ot.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=Q(Q({},i.state),s),i}return qM(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Ff(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Ot.default.Children.count(this.props.children)!==Ot.default.Children.count(i.children)}}]),n}(Ot.default.Component);Hd.InnerSlider=QM;var YM=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},XM=YM,JM=XM,ZM=function(t){var e=/[height|width]$/;return e.test(t)},$S=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=JM(r),ZM(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},eL=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=$S(n),r<t.length-1&&(e+=", ")}),e):$S(t)},tL=eL,gk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(x);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(gk);var Gp,FS;function nL(){if(FS)return Gp;FS=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Gp=t,Gp}var Kp,US;function vk(){if(US)return Kp;US=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Kp={isFunction:n,isArray:e,each:t},Kp}var Qp,zS;function rL(){if(zS)return Qp;zS=1;var t=nL(),e=vk().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Qp=n,Qp}var Yp,jS;function iL(){if(jS)return Yp;jS=1;var t=rL(),e=vk(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(f){r(f)&&(f={match:f}),u[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Yp=s,Yp}var Xp,VS;function sL(){if(VS)return Xp;VS=1;var t=iL();return Xp=new t,Xp}(function(t){function e(_){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(x),r=Hd,i=a(tL),s=a(gk),o=$;function a(_){return _&&_.__esModule?_:{default:_}}function l(){return l=Object.assign||function(_){for(var A=1;A<arguments.length;A++){var P=arguments[A];for(var H in P)Object.prototype.hasOwnProperty.call(P,H)&&(_[H]=P[H])}return _},l.apply(this,arguments)}function u(_,A){var P=Object.keys(_);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(_);A&&(H=H.filter(function(K){return Object.getOwnPropertyDescriptor(_,K).enumerable})),P.push.apply(P,H)}return P}function c(_){for(var A=1;A<arguments.length;A++){var P=arguments[A]!=null?arguments[A]:{};A%2?u(Object(P),!0).forEach(function(H){S(_,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(P)):u(Object(P)).forEach(function(H){Object.defineProperty(_,H,Object.getOwnPropertyDescriptor(P,H))})}return _}function f(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function d(_,A){for(var P=0;P<A.length;P++){var H=A[P];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(_,H.key,H)}}function p(_,A,P){return A&&d(_.prototype,A),P&&d(_,P),Object.defineProperty(_,"prototype",{writable:!1}),_}function v(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),A&&m(_,A)}function m(_,A){return m=Object.setPrototypeOf||function(H,K){return H.__proto__=K,H},m(_,A)}function w(_){var A=y();return function(){var H=b(_),K;if(A){var G=b(this).constructor;K=Reflect.construct(H,arguments,G)}else K=H.apply(this,arguments);return g(this,K)}}function g(_,A){if(A&&(e(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(_)}function h(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(_){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},b(_)}function S(_,A,P){return A in _?Object.defineProperty(_,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):_[A]=P,_}var E=(0,o.canUseDOM)()&&sL(),I=function(_){v(P,_);var A=w(P);function P(H){var K;return f(this,P),K=A.call(this,H),S(h(K),"innerSliderRefHandler",function(G){return K.innerSlider=G}),S(h(K),"slickPrev",function(){return K.innerSlider.slickPrev()}),S(h(K),"slickNext",function(){return K.innerSlider.slickNext()}),S(h(K),"slickGoTo",function(G){var ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return K.innerSlider.slickGoTo(G,ln)}),S(h(K),"slickPause",function(){return K.innerSlider.pause("paused")}),S(h(K),"slickPlay",function(){return K.innerSlider.autoPlay("play")}),K.state={breakpoint:null},K._responsiveMediaHandlers=[],K}return p(P,[{key:"media",value:function(K,G){E.register(K,G),this._responsiveMediaHandlers.push({query:K,handler:G})}},{key:"componentDidMount",value:function(){var K=this;if(this.props.responsive){var G=this.props.responsive.map(function(Ke){return Ke.breakpoint});G.sort(function(Ke,xt){return Ke-xt}),G.forEach(function(Ke,xt){var ae;xt===0?ae=(0,i.default)({minWidth:0,maxWidth:Ke}):ae=(0,i.default)({minWidth:G[xt-1]+1,maxWidth:Ke}),(0,o.canUseDOM)()&&K.media(ae,function(){K.setState({breakpoint:Ke})})});var ln=(0,i.default)({minWidth:G.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(ln,function(){K.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(K){E.unregister(K.query,K.handler)})}},{key:"render",value:function(){var K=this,G,ln;this.state.breakpoint?(ln=this.props.responsive.filter(function(Qt){return Qt.breakpoint===K.state.breakpoint}),G=ln[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),ln[0].settings)):G=c(c({},s.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var Ke=n.default.Children.toArray(this.props.children);Ke=Ke.filter(function(Qt){return typeof Qt=="string"?!!Qt.trim():!!Qt}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var xt=[],ae=null,R=0;R<Ke.length;R+=G.rows*G.slidesPerRow){for(var q=[],Y=R;Y<R+G.rows*G.slidesPerRow;Y+=G.slidesPerRow){for(var Ce=[],we=Y;we<Y+G.slidesPerRow&&(G.variableWidth&&Ke[we].props.style&&(ae=Ke[we].props.style.width),!(we>=Ke.length));we+=1)Ce.push(n.default.cloneElement(Ke[we],{key:100*R+10*Y+we,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));q.push(n.default.createElement("div",{key:10*R+Y},Ce))}G.variableWidth?xt.push(n.default.createElement("div",{key:R,style:{width:ae}},q)):xt.push(n.default.createElement("div",{key:R},q))}if(G==="unslick"){var js="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:js},Ke)}else xt.length<=G.slidesToShow&&(G.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},G),xt)}}]),P}(n.default.Component);t.default=I})(HT);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(HT);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(WT);const oL=x_(WT);var Kg={},aL={get exports(){return Kg},set exports(t){Kg=t}},yk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=x;function lL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uL=typeof Object.is=="function"?Object.is:lL,cL=Lo.useState,fL=Lo.useEffect,dL=Lo.useLayoutEffect,hL=Lo.useDebugValue;function pL(t,e){var n=e(),r=cL({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return dL(function(){i.value=n,i.getSnapshot=e,Jp(i)&&s({inst:i})},[t,n,e]),fL(function(){return Jp(i)&&s({inst:i}),t(function(){Jp(i)&&s({inst:i})})},[t]),hL(n),n}function Jp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uL(t,n)}catch{return!0}}function mL(t,e){return e()}var gL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mL:pL;yk.useSyncExternalStore=Lo.useSyncExternalStore!==void 0?Lo.useSyncExternalStore:gL;(function(t){t.exports=yk})(aL);var Qg={},vL={get exports(){return Qg},set exports(t){Qg=t}},wk={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd=x,yL=Kg;function wL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SL=typeof Object.is=="function"?Object.is:wL,bL=yL.useSyncExternalStore,EL=Xd.useRef,_L=Xd.useEffect,IL=Xd.useMemo,TL=Xd.useDebugValue;wk.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=EL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=IL(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return f=v}return f=p}if(v=f,SL(c,p))return v;var m=r(p);return i!==void 0&&i(v,m)?v:(c=p,f=m)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=bL(t,s[0],s[1]);return _L(function(){o.hasValue=!0,o.value=a},[a]),TL(a),a};(function(t){t.exports=wk})(vL);function kL(t){t()}let Sk=kL;const CL=t=>Sk=t,xL=()=>Sk,ii=x.createContext(null);function bk(){return x.useContext(ii)}const OL=()=>{throw new Error("uSES not initialized!")};let Ek=OL;const AL=t=>{Ek=t},NL=(t,e)=>t===e;function PL(t=ii){const e=t===ii?bk:()=>x.useContext(t);return function(r,i=NL){const{store:s,subscription:o,getServerState:a}=e(),l=Ek(o.addNestedSub,s.getState,a||s.getState,r,i);return x.useDebugValue(l),l}}const Jd=PL();var Yg={},DL={get exports(){return Yg},set exports(t){Yg=t}},me={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=typeof Symbol=="function"&&Symbol.for,r0=ut?Symbol.for("react.element"):60103,i0=ut?Symbol.for("react.portal"):60106,Zd=ut?Symbol.for("react.fragment"):60107,eh=ut?Symbol.for("react.strict_mode"):60108,th=ut?Symbol.for("react.profiler"):60114,nh=ut?Symbol.for("react.provider"):60109,rh=ut?Symbol.for("react.context"):60110,s0=ut?Symbol.for("react.async_mode"):60111,ih=ut?Symbol.for("react.concurrent_mode"):60111,sh=ut?Symbol.for("react.forward_ref"):60112,oh=ut?Symbol.for("react.suspense"):60113,RL=ut?Symbol.for("react.suspense_list"):60120,ah=ut?Symbol.for("react.memo"):60115,lh=ut?Symbol.for("react.lazy"):60116,ML=ut?Symbol.for("react.block"):60121,LL=ut?Symbol.for("react.fundamental"):60117,$L=ut?Symbol.for("react.responder"):60118,FL=ut?Symbol.for("react.scope"):60119;function on(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case r0:switch(t=t.type,t){case s0:case ih:case Zd:case th:case eh:case oh:return t;default:switch(t=t&&t.$$typeof,t){case rh:case sh:case lh:case ah:case nh:return t;default:return e}}case i0:return e}}}function _k(t){return on(t)===ih}me.AsyncMode=s0;me.ConcurrentMode=ih;me.ContextConsumer=rh;me.ContextProvider=nh;me.Element=r0;me.ForwardRef=sh;me.Fragment=Zd;me.Lazy=lh;me.Memo=ah;me.Portal=i0;me.Profiler=th;me.StrictMode=eh;me.Suspense=oh;me.isAsyncMode=function(t){return _k(t)||on(t)===s0};me.isConcurrentMode=_k;me.isContextConsumer=function(t){return on(t)===rh};me.isContextProvider=function(t){return on(t)===nh};me.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===r0};me.isForwardRef=function(t){return on(t)===sh};me.isFragment=function(t){return on(t)===Zd};me.isLazy=function(t){return on(t)===lh};me.isMemo=function(t){return on(t)===ah};me.isPortal=function(t){return on(t)===i0};me.isProfiler=function(t){return on(t)===th};me.isStrictMode=function(t){return on(t)===eh};me.isSuspense=function(t){return on(t)===oh};me.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zd||t===ih||t===th||t===eh||t===oh||t===RL||typeof t=="object"&&t!==null&&(t.$$typeof===lh||t.$$typeof===ah||t.$$typeof===nh||t.$$typeof===rh||t.$$typeof===sh||t.$$typeof===LL||t.$$typeof===$L||t.$$typeof===FL||t.$$typeof===ML)};me.typeOf=on;(function(t){t.exports=me})(DL);var Ik=Yg,UL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},zL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Tk={};Tk[Ik.ForwardRef]=UL;Tk[Ik.Memo]=zL;var BS={},jL={get exports(){return BS},set exports(t){BS=t}},ge={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=Symbol.for("react.element"),a0=Symbol.for("react.portal"),uh=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),dh=Symbol.for("react.provider"),hh=Symbol.for("react.context"),VL=Symbol.for("react.server_context"),ph=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),vh=Symbol.for("react.memo"),yh=Symbol.for("react.lazy"),BL=Symbol.for("react.offscreen"),kk;kk=Symbol.for("react.module.reference");function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o0:switch(t=t.type,t){case uh:case fh:case ch:case mh:case gh:return t;default:switch(t=t&&t.$$typeof,t){case VL:case hh:case ph:case yh:case vh:case dh:return t;default:return e}}case a0:return e}}}ge.ContextConsumer=hh;ge.ContextProvider=dh;ge.Element=o0;ge.ForwardRef=ph;ge.Fragment=uh;ge.Lazy=yh;ge.Memo=vh;ge.Portal=a0;ge.Profiler=fh;ge.StrictMode=ch;ge.Suspense=mh;ge.SuspenseList=gh;ge.isAsyncMode=function(){return!1};ge.isConcurrentMode=function(){return!1};ge.isContextConsumer=function(t){return vn(t)===hh};ge.isContextProvider=function(t){return vn(t)===dh};ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0};ge.isForwardRef=function(t){return vn(t)===ph};ge.isFragment=function(t){return vn(t)===uh};ge.isLazy=function(t){return vn(t)===yh};ge.isMemo=function(t){return vn(t)===vh};ge.isPortal=function(t){return vn(t)===a0};ge.isProfiler=function(t){return vn(t)===fh};ge.isStrictMode=function(t){return vn(t)===ch};ge.isSuspense=function(t){return vn(t)===mh};ge.isSuspenseList=function(t){return vn(t)===gh};ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uh||t===fh||t===ch||t===mh||t===gh||t===BL||typeof t=="object"&&t!==null&&(t.$$typeof===yh||t.$$typeof===vh||t.$$typeof===dh||t.$$typeof===hh||t.$$typeof===ph||t.$$typeof===kk||t.getModuleId!==void 0)};ge.typeOf=vn;(function(t){t.exports=ge})(jL);function qL(){const t=xL();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const qS={notify(){},get:()=>[]};function WL(t,e){let n,r=qS;function i(f){return l(),r.subscribe(f)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=qL())}function u(){n&&(n(),n=void 0,r.clear(),r=qS)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const HL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GL=HL?x.useLayoutEffect:x.useEffect;function KL({store:t,context:e,children:n,serverState:r}){const i=x.useMemo(()=>{const a=WL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=x.useMemo(()=>t.getState(),[t]);GL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||ii;return hn.createElement(o.Provider,{value:i},n)}function Ck(t=ii){const e=t===ii?bk:()=>x.useContext(t);return function(){const{store:r}=e();return r}}const QL=Ck();function YL(t=ii){const e=t===ii?QL:Ck(t);return function(){return e().dispatch}}const xk=YL();AL(Qg.useSyncExternalStoreWithSelector);CL(rf.unstable_batchedUpdates);function En(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function si(t){return!!t&&!!t[Oe]}function lr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===s$}(t)||Array.isArray(t)||!!t[XS]||!!(!((e=t.constructor)===null||e===void 0)&&e[XS])||l0(t)||u0(t))}function hs(t,e,n){n===void 0&&(n=!1),ta(t)===0?(n?Object.keys:So)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function ta(t){var e=t[Oe];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:l0(t)?2:u0(t)?3:0}function wo(t,e){return ta(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function XL(t,e){return ta(t)===2?t.get(e):t[e]}function Ok(t,e,n){var r=ta(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ak(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function l0(t){return r$&&t instanceof Map}function u0(t){return i$&&t instanceof Set}function Li(t){return t.o||t.t}function c0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Pk(t);delete e[Oe];for(var n=So(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function f0(t,e){return e===void 0&&(e=!1),d0(t)||si(t)||!lr(t)||(ta(t)>1&&(t.set=t.add=t.clear=t.delete=JL),Object.freeze(t),e&&hs(t,function(n,r){return f0(r,!0)},!0)),t}function JL(){En(2)}function d0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Un(t){var e=ev[t];return e||En(18,t),e}function ZL(t,e){ev[t]||(ev[t]=e)}function Xg(){return Al}function Zp(t,e){e&&(Un("Patches"),t.u=[],t.s=[],t.v=e)}function jf(t){Jg(t),t.p.forEach(e$),t.p=null}function Jg(t){t===Al&&(Al=t.l)}function WS(t){return Al={p:[],l:Al,h:t,m:!0,_:0}}function e$(t){var e=t[Oe];e.i===0||e.i===1?e.j():e.g=!0}function em(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Un("ES5").S(e,t,r),r?(n[Oe].P&&(jf(e),En(4)),lr(t)&&(t=Vf(e,t),e.l||Bf(e,t)),e.u&&Un("Patches").M(n[Oe].t,t,e.u,e.s)):t=Vf(e,n,[]),jf(e),e.u&&e.v(e.u,e.s),t!==Nk?t:void 0}function Vf(t,e,n){if(d0(e))return e;var r=e[Oe];if(!r)return hs(e,function(a,l){return HS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Bf(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=c0(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),hs(s,function(a,l){return HS(t,r,i,a,l,n,o)}),Bf(t,i,!1),n&&t.u&&Un("Patches").N(r,n,t.u,t.s)}return r.o}function HS(t,e,n,r,i,s,o){if(si(i)){var a=Vf(t,i,s&&e&&e.i!==3&&!wo(e.R,r)?s.concat(r):void 0);if(Ok(n,r,a),!si(a))return;t.m=!1}else o&&n.add(i);if(lr(i)&&!d0(i)){if(!t.h.D&&t._<1)return;Vf(t,i),e&&e.A.l||Bf(t,i)}}function Bf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&f0(e,n)}function tm(t,e){var n=t[Oe];return(n?Li(n):t)[e]}function GS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Dr(t){t.P||(t.P=!0,t.l&&Dr(t.l))}function nm(t){t.o||(t.o=c0(t.t))}function Zg(t,e,n){var r=l0(e)?Un("MapSet").F(e,n):u0(e)?Un("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Xg(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Nl;o&&(l=[a],u=La);var c=Proxy.revocable(l,u),f=c.revoke,d=c.proxy;return a.k=d,a.j=f,d}(e,n):Un("ES5").J(e,n);return(n?n.A:Xg()).p.push(r),r}function t$(t){return si(t)||En(22,t),function e(n){if(!lr(n))return n;var r,i=n[Oe],s=ta(n);if(i){if(!i.P&&(i.i<4||!Un("ES5").K(i)))return i.t;i.I=!0,r=KS(n,s),i.I=!1}else r=KS(n,s);return hs(r,function(o,a){i&&XL(i.t,o)===a||Ok(r,o,e(a))}),s===3?new Set(r):r}(t)}function KS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return c0(t)}function n$(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Oe];return Nl.get(l,s)},set:function(l){var u=this[Oe];Nl.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Oe];if(!a.P)switch(a.i){case 5:r(a)&&Dr(a);break;case 4:n(a)&&Dr(a)}}}function n(s){for(var o=s.t,a=s.k,l=So(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Oe){var f=o[c];if(f===void 0&&!wo(o,c))return!0;var d=a[c],p=d&&d[Oe];if(p?p.t!==f:!Ak(d,f))return!0}}var v=!!o[Oe];return l.length!==So(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};ZL("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,f){if(c){for(var d=Array(f.length),p=0;p<f.length;p++)Object.defineProperty(d,""+p,t(p,!0));return d}var v=Pk(f);delete v[Oe];for(var m=So(v),w=0;w<m.length;w++){var g=m[w];v[g]=t(g,c||!!v[g].enumerable)}return Object.create(Object.getPrototypeOf(f),v)}(a,s),u={i:a?5:4,A:o?o.A:Xg(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Oe,{value:u,writable:!0}),l},S:function(s,o,a){a?si(o)&&o[Oe].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Oe];if(c){var f=c.t,d=c.k,p=c.R,v=c.i;if(v===4)hs(d,function(y){y!==Oe&&(f[y]!==void 0||wo(f,y)?p[y]||l(d[y]):(p[y]=!0,Dr(c)))}),hs(f,function(y){d[y]!==void 0||wo(d,y)||(p[y]=!1,Dr(c))});else if(v===5){if(r(c)&&(Dr(c),p.length=!0),d.length<f.length)for(var m=d.length;m<f.length;m++)p[m]=!1;else for(var w=f.length;w<d.length;w++)p[w]=!0;for(var g=Math.min(d.length,f.length),h=0;h<g;h++)d.hasOwnProperty(h)||(p[h]=!0),p[h]===void 0&&l(d[h])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var QS,Al,h0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",r$=typeof Map<"u",i$=typeof Set<"u",YS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Nk=h0?Symbol.for("immer-nothing"):((QS={})["immer-nothing"]=!0,QS),XS=h0?Symbol.for("immer-draftable"):"__$immer_draftable",Oe=h0?Symbol.for("immer-state"):"__$immer_state",s$=""+Object.prototype.constructor,So=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Pk=Object.getOwnPropertyDescriptors||function(t){var e={};return So(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},ev={},Nl={get:function(t,e){if(e===Oe)return t;var n=Li(t);if(!wo(n,e))return function(i,s,o){var a,l=GS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!lr(r)?r:r===tm(t.t,e)?(nm(t),t.o[e]=Zg(t.A.h,r,t)):r},has:function(t,e){return e in Li(t)},ownKeys:function(t){return Reflect.ownKeys(Li(t))},set:function(t,e,n){var r=GS(Li(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=tm(Li(t),e),s=i==null?void 0:i[Oe];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(Ak(n,i)&&(n!==void 0||wo(t.t,e)))return!0;nm(t),Dr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return tm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,nm(t),Dr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Li(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){En(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){En(12)}},La={};hs(Nl,function(t,e){La[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),La.deleteProperty=function(t,e){return La.set.call(this,t,e,void 0)},La.set=function(t,e,n){return Nl.set.call(this,t[0],e,n,t[0])};var o$=function(){function t(n){var r=this;this.O=YS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var w=this;m===void 0&&(m=a);for(var g=arguments.length,h=Array(g>1?g-1:0),y=1;y<g;y++)h[y-1]=arguments[y];return l.produce(m,function(b){var S;return(S=s).call.apply(S,[w,b].concat(h))})}}var u;if(typeof s!="function"&&En(6),o!==void 0&&typeof o!="function"&&En(7),lr(i)){var c=WS(r),f=Zg(r,i,void 0),d=!0;try{u=s(f),d=!1}finally{d?jf(c):Jg(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return Zp(c,o),em(m,c)},function(m){throw jf(c),m}):(Zp(c,o),em(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===Nk&&(u=void 0),r.D&&f0(u,!0),o){var p=[],v=[];Un("Patches").M(i,u,p,v),o(p,v)}return u}En(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(f))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){lr(n)||En(8),si(n)&&(n=t$(n));var r=WS(this),i=Zg(this,n,void 0);return i[Oe].C=!0,Jg(r),i},e.finishDraft=function(n,r){var i=n&&n[Oe],s=i.A;return Zp(s,r),em(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!YS&&En(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Un("Patches").$;return si(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),en=new o$,a$=en.produce;en.produceWithPatches.bind(en);en.setAutoFreeze.bind(en);en.setUseProxies.bind(en);en.applyPatches.bind(en);en.createDraft.bind(en);en.finishDraft.bind(en);const Dk=a$;function Pl(t){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function l$(t,e){if(Pl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u$(t){var e=l$(t,"string");return Pl(e)==="symbol"?e:String(e)}function c$(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(n),!0).forEach(function(r){c$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _t(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var eb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),rm=function(){return Math.random().toString(36).substring(7).split("").join(".")},qf={INIT:"@@redux/INIT"+rm(),REPLACE:"@@redux/REPLACE"+rm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+rm()}};function f$(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Rk(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_t(1));return n(Rk)(t,e)}if(typeof t!="function")throw new Error(_t(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(_t(3));return s}function f(m){if(typeof m!="function")throw new Error(_t(4));if(l)throw new Error(_t(5));var w=!0;return u(),a.push(m),function(){if(w){if(l)throw new Error(_t(6));w=!1,u();var h=a.indexOf(m);a.splice(h,1),o=null}}}function d(m){if(!f$(m))throw new Error(_t(7));if(typeof m.type>"u")throw new Error(_t(8));if(l)throw new Error(_t(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var h=w[g];h()}return m}function p(m){if(typeof m!="function")throw new Error(_t(10));i=m,d({type:qf.REPLACE})}function v(){var m,w=f;return m={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(_t(11));function y(){h.next&&h.next(c())}y();var b=w(y);return{unsubscribe:b}}},m[eb]=function(){return this},m}return d({type:qf.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:p},r[eb]=v,r}function d$(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:qf.INIT});if(typeof r>"u")throw new Error(_t(12));if(typeof n(void 0,{type:qf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_t(13))})}function Mk(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{d$(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,f={},d=0;d<s.length;d++){var p=s[d],v=n[p],m=l[p],w=v(m,u);if(typeof w>"u")throw u&&u.type,new Error(_t(14));f[p]=w,c=c||w!==m}return c=c||s.length!==Object.keys(l).length,c?f:l}}function Wf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function h$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(_t(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Wf.apply(void 0,a)(i.dispatch),ZS(ZS({},i),{},{dispatch:s})}}}function Lk(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var $k=Lk();$k.withExtraArgument=Lk;const tb=$k;var Fk=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),p$=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$o=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},m$=Object.defineProperty,g$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,nb=Object.getOwnPropertySymbols,y$=Object.prototype.hasOwnProperty,w$=Object.prototype.propertyIsEnumerable,rb=function(t,e,n){return e in t?m$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},bo=function(t,e){for(var n in e||(e={}))y$.call(e,n)&&rb(t,n,e[n]);if(nb)for(var r=0,i=nb(e);r<i.length;r++){var n=i[r];w$.call(e,n)&&rb(t,n,e[n])}return t},im=function(t,e){return g$(t,v$(e))},S$=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},b$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wf:Wf.apply(null,arguments)};function E$(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var _$=function(t){Fk(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,$o([void 0],n[0].concat(this)))):new(e.bind.apply(e,$o([void 0],n.concat(this))))},e}(Array),I$=function(t){Fk(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,$o([void 0],n[0].concat(this)))):new(e.bind.apply(e,$o([void 0],n.concat(this))))},e}(Array);function ib(t){return lr(t)?Dk(t,function(){}):t}function T$(t){return typeof t=="boolean"}function k$(){return function(e){return C$(e)}}function C$(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new _$;return n&&(T$(n)?r.push(tb):r.push(tb.withExtraArgument(n.extraArgument))),r}var x$=!0;function O$(t){var e=k$(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,f=n.enhancers,d=f===void 0?void 0:f,p;if(typeof i=="function")p=i;else if(E$(i))p=Mk(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var m=h$.apply(void 0,v),w=Wf;l&&(w=b$(bo({trace:!x$},typeof l=="object"&&l)));var g=new I$(m),h=g;Array.isArray(d)?h=$o([m],d):typeof d=="function"&&(h=d(g));var y=w.apply(void 0,h);return Rk(p,c,y)}function Cn(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return bo(bo({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function A$(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function N$(t){return typeof t=="function"}function Uk(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?A$(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(N$(t))l=function(){return ib(t())};else{var u=ib(t);l=function(){return u}}function c(f,d){f===void 0&&(f=l());var p=$o([s[d.type]],o.filter(function(v){var m=v.matcher;return m(d)}).map(function(v){var m=v.reducer;return m}));return p.filter(function(v){return!!v}).length===0&&(p=[a]),p.reduce(function(v,m){if(m)if(si(v)){var w=v,g=m(w,d);return g===void 0?v:g}else{if(lr(v))return Dk(v,function(h){return m(h,d)});var g=m(v,d);if(g===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return v},f)}return c.getInitialState=l,c}var P$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D$=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=P$[Math.random()*64|0];return e},R$=["name","message","stack","code"],sm=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),sb=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),M$=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=R$;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Cn(e+"/fulfilled",function(u,c,f,d){return{payload:u,meta:im(bo({},d||{}),{arg:f,requestId:c,requestStatus:"fulfilled"})}}),s=Cn(e+"/pending",function(u,c,f){return{payload:void 0,meta:im(bo({},f||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Cn(e+"/rejected",function(u,c,f,d,p){return{payload:d,error:(r&&r.serializeError||M$)(u||"Rejected"),meta:im(bo({},p||{}),{arg:f,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,f,d){var p=r!=null&&r.idGenerator?r.idGenerator(u):D$(),v=new a,m;function w(h){m=h,v.abort()}var g=function(){return S$(this,null,function(){var h,y,b,S,E,I,_;return p$(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),S=(h=r==null?void 0:r.condition)==null?void 0:h.call(r,u,{getState:f,extra:d}),$$(S)?[4,S]:[3,2];case 1:S=A.sent(),A.label=2;case 2:if(S===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(P,H){return v.signal.addEventListener("abort",function(){return H({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:p,arg:u},{getState:f,extra:d}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:c,getState:f,extra:d,requestId:p,signal:v.signal,abort:w,rejectWithValue:function(P,H){return new sm(P,H)},fulfillWithValue:function(P,H){return new sb(P,H)}})).then(function(P){if(P instanceof sm)throw P;return P instanceof sb?i(P.payload,p,u,P.meta):i(P,p,u)})])];case 3:return b=A.sent(),[3,5];case 4:return I=A.sent(),b=I instanceof sm?o(null,p,u,I.payload,I.meta):o(I,p,u),[3,5];case 5:return _=r&&!r.dispatchConditionRejection&&o.match(b)&&b.meta.condition,_||c(b),[2,b]}})})}();return Object.assign(g,{abort:w,requestId:p,arg:u,unwrap:function(){return g.then(L$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function L$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function $$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var p0="listenerMiddleware";Cn(p0+"/add");Cn(p0+"/removeAll");Cn(p0+"/remove");var ob;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);n$();const zk=Cn("is fetching"),jk=Cn("success"),Vk=Cn("failure"),om={isFetching:zk,success:jk,failure:Vk},rs={NORMAL:"normal",FETCHING:"is fetching",SUCCESS:"success",FAILURE:"failure"},F$={status:rs.NORMAL,movies:{popularMovies:null,topRatedMovies:null,upcomingMovies:null}},U$=Uk(F$,t=>{t.addCase(zk,(e,n)=>({...e,status:rs.FETCHING})).addCase(jk,(e,n)=>{const{payload:r}=n,{category:i,movies:s}=r;return{...e,status:rs.SUCCESS,movies:{...e.movies,[i]:s}}}).addCase(Vk,(e,n)=>({...e,status:rs.FAILURE}))}),am=({category:t,handleButtonClick:e,handleMovieClick:n})=>{const r="https://image.tmdb.org/t/p/w185",i=Jd(l=>l.movies),s=xk();x.useEffect(()=>{a(t,s)},[]);let o=null;switch(i.status){case rs.NORMAL:o=null;break;case rs.FETCHING:o=null;break;case rs.SUCCESS:o=i.movies[t];break;default:o=null}return C(oL,{className:"slick-slider",slidesToShow:3,slidesToScroll:1,children:o&&o.map((l,u)=>ne("div",{className:"slider_container",children:[C("img",{className:"movie_poster",src:r+l.poster_path,onClick:()=>n(l)}),C("h6",{className:"movie-title",children:l.title}),C("button",{className:"payment_button",onClick:()=>e(l),children:"59kr"})]},u))});async function a(l,u){const f=`https://api.themoviedb.org/3/movie/${l}?api_key=305f99214975faee28a0f129881c6ec9&language=en-US&region=SE`;u(om.isFetching());try{let v=(await(await fetch(f)).json()).results;const m={category:l,movies:v};u(om.success(m))}catch{u(om.failure())}}};const z$="/MovieShop/assets/movie_wheel-b7b55921.png",j$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAdVBMVEUAAAD///+JiYmNjY2rq6vq6uqampr5+fm0tLTj4+Py8vLc3Nw3Nzf39/eSkpLv7++FhYVRUVFDQ0N8fHy9vb0tLS3Hx8c8PDzMzMxiYmJubm5nZ2e2trZYWFiYmJimpqYhISEZGRlJSUkmJiYLCwszMzN2dnY8dmuPAAAIF0lEQVR4nO1dB2LqMAwlQEgh7EAYLaOF3/sf8ZNSWsqQZFuSTcI7gJ0Xy9a0XKux4X06XmTD5jc2w2wxnr7zDe8V3dfGJG0n0TV67XRSX3R9f6ATRv08vsXtHEmc90e+P9QK2/4cI3eGvLH1/cFmGG/adHbfSFtj359NRbdlTu+Idv+f748nYDm3pHfE/NU3ARj7fseJX4FB3zeL+5huDM4WAMlm65vKTWyZ+B057n3TucaGjd4RLd+ELpDxrd8JSeab1BlWKTu/Amkwts6LCL8CTd/UvrBwVxD30Vn5plerNQX5FfC9jB+2Bhod7ZlPgkNxfgU8HqpvKgSj6M0Tv52MjriF1IuJM5Y8Qy8x8OA7rhT5HZAstAlmugQP+NQl2FAnGEXDshNUpeiHoCJFXwTVKOofMr9QOW5s1USS5pO3lwJvk9zaWFDwNcYW3NrN+rXGHtdfbqYzEIjnOXamlky7BenqpXFwvCNtwJmJV9rAXZ9xw3BMWYJG3kST6tnNjOIgL5IEDfzB2Cx03Y/pQwv6ix/kj2iba646naNc/oZ6KiQNq+HJlkSbmdcPqEEn+40yIc4gFJ5a0GaPXeK4K6KoyniLNE24cZyFJigxC6MLkE50Blf8lWTouP7IGyCZoyza+J1kAfBHUSnTculiyoHDbtpQXCa+9DQlGcmt9wmbg9M9JajGAeN0NdJPXbJOuMQnXHPOt9UmWKt9ojMmnH4UvoT8ERRcUBlT/VN0F0rUwLRQinxzoUso47KhSoNN7e+xJZRyuzEdzBbR6CMTJUzzXGHaQ2bm2v2YyS0X4XtFZmYywDHVJGAE/wDzNHi8KKScUszh/sIAnjznmKOL/EbZwiXMpeGYA1FLorG9Ghq/5FDEcPhJ7Bw9YQufpwx7BMlT2EXVTLCGP8DdE4btGdlj5ghYWbl7GLCQaqQs4UC78z+G/SaRkNcVYI3hKqawxaZTVg/vRNdoBqzuWQiggI/TuePooFshrQtPAEO1jjtlBC6hVuUnbNi45b3BbSicjT0DmM1wU8m53NAmAM+aidPQ4M/Tq4gEdZZT4LQLHTQa9swJ4J92GRj0sTXv7YCesIv/VocG1rwpCJ6mLucBFM8T95vOsYMYuuS8oXCe5jaEv8TFqoEcC93LLJCr37Ef9h06Sut8n08A5EL17IedAsMqasMCUCFIMrUeFoxgMH4+AaBmtlcX4I9j/HwKIDfYvnIYSt7rmd1HQFaNvRMMbW+WaLMBIHVhzxCyldwsenNAXo59vA1iqH1jDvoWewsZGlUrgkH5lidDu1G1GUJufjkYln8NnwztAOWdyqEPy2/TlN8uBavzGb+eAsi3sK+LDMg/nMn4h+X38csfpwFjbboKEYrcuiQuyh8vDSbmDSafXCK3YK21Zt4C1FsueQtwYMmqy0uAmfwPh4HLnz8MJQcMpp7cijHAPL5eG06wAtTNyyl/LQZcT6PVqRqup3Gs6gHH1jJrwDph1+pBcCMGUdfm6orD96vKUJtY/vpSpEZYw4WCxcj9QIcvI2gsIlys717nXf5afazdh/sEMLbw1UAO4xi5mycdGUauWXLIEHbvSbb7FtZuhGWS0t9dQ685SpZ/YX2pmAQI+Y9CzWIKYJc7ueQHuwccSb36g94DZjM4Qr3L7RIK/gv0Pr6MyoD9moizDhvRupFM3E2zpwKheRO/9YbuftZS+j06G3tvE7zlD2/QHZcY5uaphJ5GzO43occQp6DiIhoNmNt8UvpE8e0Lgsjw94ek9PriUhqomogkdDAcOT1Na59v/sU/Ur82gVgtqd1fzz3ltsRMtS+IJL5ofRNdPQ1al1uZ+BCxzfXAxaNZYH7MN4Tcbmr/0ret5QQ7av9SseQstQdtzy7Etya39xaL8M2oXxB1zNtJNEgnjDRFg5b6g/XWYODdmrgBxSma9PPuvVHPg9XEvP28WD7BrH963NqhI05bBq28FSi+G0pTFDcX27uj7RYvdvQKSAnq2OI9g3QyvHq7ebYY2r8BIUsRC5/eQTKI0/z7Xe48jQccT0JKCSreWVQNUquo854cCRWgKCWoT4qakBJUn08iXUCKovLbeRCkBHWm+f4hDCmKe703LDGIeRpyTx2bQoxiOEeqmDPVlX8PmAi50iXpN5031BeE5Cgu7D08HPGK/kiSYBUh5b0NOxyjhgFQnMnojfTkNYMtx84gWUaYmQY3cAzO0mchUKy1OJz2XyTrPwnQAAT1YOJQ0ppUXCVb/Z+oX9jwmKq9W8nkIAT1sI4GT/zdQ/vONwayigf1SElR30d+P04exF48om9ryt1bvm8EIqhfmK3NSaZrtCg9JIoHktmcvifjPCPV3AckqEd0GxPcEognhCd1TwiOYoFRoznv9K7tgaQ3mDcbpnd4wxLUc0xHn1m2bh2xzrLlyLL0JlyKbAhSUHkRjOqXw1NQq0TxgfdiBQS1AhQrIKgVoPgU1CpRfGBBrcAqPvdilQT1gSlWQFArQLECgloBik9BrRLFBxbUCqzicy9WSVAfmGIFBLUCFCsgqE+lUQaK1FXUbNbNDCpF/PJnsCAKquuT5T5BpCjXhU0eNEHVfiqHFSSKCXMPH12QBFW2qaU0KBQfWCcWIAiq7pPG/MApPjpDXFAfniG6iu59pL0DofjYZ+kRsKBK9V1VBUTxkQ3TMwCC+sD+0x/cpaj9vqEc7gkqQ7/6UHB7Fc17dQWMWxQ13+NSwHXXoFKtYIHd39b5aYn24A8W+c+Vj3lZ1MQl9qtGs9lcr84smf9DpnBfHqpjlQAAAABJRU5ErkJggg==",V$="/MovieShop/assets/play-1dcdfbaa.png";function ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hf(t){return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function B$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q$(t,e,n){return e&&lb(t.prototype,e),n&&lb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m0(t,e){return H$(t)||K$(t,e)||Bk(t,e)||Y$()}function pu(t){return W$(t)||G$(t)||Bk(t)||Q$()}function W$(t){if(Array.isArray(t))return tv(t)}function H$(t){if(Array.isArray(t))return t}function G$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Bk(t,e){if(t){if(typeof t=="string")return tv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tv(t,e)}}function tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ub=function(){},g0={},qk={},Wk=null,Hk={mark:ub,measure:ub};try{typeof window<"u"&&(g0=window),typeof document<"u"&&(qk=document),typeof MutationObserver<"u"&&(Wk=MutationObserver),typeof performance<"u"&&(Hk=performance)}catch{}var X$=g0.navigator||{},cb=X$.userAgent,fb=cb===void 0?"":cb,oi=g0,Te=qk,db=Wk,cc=Hk;oi.document;var yr=!!Te.documentElement&&!!Te.head&&typeof Te.addEventListener=="function"&&typeof Te.createElement=="function",Gk=~fb.indexOf("MSIE")||~fb.indexOf("Trident/"),fc,dc,hc,pc,mc,ur="___FONT_AWESOME___",nv=16,Kk="fa",Qk="svg-inline--fa",ps="data-fa-i2svg",rv="data-fa-pseudo-element",J$="data-fa-pseudo-element-pending",v0="data-prefix",y0="data-icon",hb="fontawesome-i2svg",Z$="async",eF=["HTML","HEAD","STYLE","SCRIPT"],Yk=function(){try{return!0}catch{return!1}}(),Ee="classic",ze="sharp",w0=[Ee,ze];function mu(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ee]}})}var Dl=mu((fc={},Ze(fc,Ee,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Ze(fc,ze,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),fc)),Rl=mu((dc={},Ze(dc,Ee,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Ze(dc,ze,{solid:"fass",regular:"fasr",light:"fasl"}),dc)),Ml=mu((hc={},Ze(hc,Ee,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Ze(hc,ze,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),hc)),tF=mu((pc={},Ze(pc,Ee,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Ze(pc,ze,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),pc)),nF=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Xk="fa-layers-text",rF=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,iF=mu((mc={},Ze(mc,Ee,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Ze(mc,ze,{900:"fass",400:"fasr",300:"fasl"}),mc)),Jk=[1,2,3,4,5,6,7,8,9,10],sF=Jk.concat([11,12,13,14,15,16,17,18,19,20]),oF=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Gi={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ll=new Set;Object.keys(Rl[Ee]).map(Ll.add.bind(Ll));Object.keys(Rl[ze]).map(Ll.add.bind(Ll));var aF=[].concat(w0,pu(Ll),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Gi.GROUP,Gi.SWAP_OPACITY,Gi.PRIMARY,Gi.SECONDARY]).concat(Jk.map(function(t){return"".concat(t,"x")})).concat(sF.map(function(t){return"w-".concat(t)})),el=oi.FontAwesomeConfig||{};function lF(t){var e=Te.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function uF(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Te&&typeof Te.querySelector=="function"){var cF=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];cF.forEach(function(t){var e=m0(t,2),n=e[0],r=e[1],i=uF(lF(n));i!=null&&(el[r]=i)})}var Zk={styleDefault:"solid",familyDefault:"classic",cssPrefix:Kk,replacementClass:Qk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};el.familyPrefix&&(el.cssPrefix=el.familyPrefix);var Fo=U(U({},Zk),el);Fo.autoReplaceSvg||(Fo.observeMutations=!1);var j={};Object.keys(Zk).forEach(function(t){Object.defineProperty(j,t,{enumerable:!0,set:function(n){Fo[t]=n,tl.forEach(function(r){return r(j)})},get:function(){return Fo[t]}})});Object.defineProperty(j,"familyPrefix",{enumerable:!0,set:function(e){Fo.cssPrefix=e,tl.forEach(function(n){return n(j)})},get:function(){return Fo.cssPrefix}});oi.FontAwesomeConfig=j;var tl=[];function fF(t){return tl.push(t),function(){tl.splice(tl.indexOf(t),1)}}var _r=nv,Rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function dF(t){if(!(!t||!yr)){var e=Te.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Te.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Te.head.insertBefore(e,r),t}}var hF="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function $l(){for(var t=12,e="";t-- >0;)e+=hF[Math.random()*62|0];return e}function na(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function S0(t){return t.classList?na(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function eC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pF(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(eC(t[n]),'" ')},"").trim()}function wh(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function b0(t){return t.size!==Rn.size||t.x!==Rn.x||t.y!==Rn.y||t.rotate!==Rn.rotate||t.flipX||t.flipY}function mF(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function gF(t){var e=t.transform,n=t.width,r=n===void 0?nv:n,i=t.height,s=i===void 0?nv:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&Gk?l+="translate(".concat(e.x/_r-r/2,"em, ").concat(e.y/_r-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/_r,"em), calc(-50% + ").concat(e.y/_r,"em)) "):l+="translate(".concat(e.x/_r,"em, ").concat(e.y/_r,"em) "),l+="scale(".concat(e.size/_r*(e.flipX?-1:1),", ").concat(e.size/_r*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var vF=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function tC(){var t=Kk,e=Qk,n=j.cssPrefix,r=j.replacementClass,i=vF;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var pb=!1;function lm(){j.autoAddCss&&!pb&&(dF(tC()),pb=!0)}var yF={mixout:function(){return{dom:{css:tC,insertCss:lm}}},hooks:function(){return{beforeDOMElementCreation:function(){lm()},beforeI2svg:function(){lm()}}}},cr=oi||{};cr[ur]||(cr[ur]={});cr[ur].styles||(cr[ur].styles={});cr[ur].hooks||(cr[ur].hooks={});cr[ur].shims||(cr[ur].shims=[]);var _n=cr[ur],nC=[],wF=function t(){Te.removeEventListener("DOMContentLoaded",t),Gf=1,nC.map(function(e){return e()})},Gf=!1;yr&&(Gf=(Te.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Te.readyState),Gf||Te.addEventListener("DOMContentLoaded",wF));function SF(t){yr&&(Gf?setTimeout(t,0):nC.push(t))}function gu(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?eC(t):"<".concat(e," ").concat(pF(r),">").concat(s.map(gu).join(""),"</").concat(e,">")}function mb(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var bF=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},um=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?bF(n,i):n,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function EF(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function iv(t){var e=EF(t);return e.length===1?e[0].toString(16):null}function _F(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function gb(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function sv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=gb(e);typeof _n.hooks.addPack=="function"&&!i?_n.hooks.addPack(t,gb(e)):_n.styles[t]=U(U({},_n.styles[t]||{}),s),t==="fas"&&sv("fa",e)}var gc,vc,yc,oo=_n.styles,IF=_n.shims,TF=(gc={},Ze(gc,Ee,Object.values(Ml[Ee])),Ze(gc,ze,Object.values(Ml[ze])),gc),E0=null,rC={},iC={},sC={},oC={},aC={},kF=(vc={},Ze(vc,Ee,Object.keys(Dl[Ee])),Ze(vc,ze,Object.keys(Dl[ze])),vc);function CF(t){return~aF.indexOf(t)}function xF(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!CF(i)?i:null}var lC=function(){var e=function(s){return um(oo,function(o,a,l){return o[l]=um(a,s,{}),o},{})};rC=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),iC=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),aC=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in oo||j.autoFetchSvg,r=um(IF,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});sC=r.names,oC=r.unicodes,E0=Sh(j.styleDefault,{family:j.familyDefault})};fF(function(t){E0=Sh(t.styleDefault,{family:j.familyDefault})});lC();function _0(t,e){return(rC[t]||{})[e]}function OF(t,e){return(iC[t]||{})[e]}function Ki(t,e){return(aC[t]||{})[e]}function uC(t){return sC[t]||{prefix:null,iconName:null}}function AF(t){var e=oC[t],n=_0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ai(){return E0}var I0=function(){return{prefix:null,iconName:null,rest:[]}};function Sh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Ee:n,i=Dl[r][t],s=Rl[r][t]||Rl[r][i],o=t in _n.styles?t:null;return s||o||null}var vb=(yc={},Ze(yc,Ee,Object.keys(Ml[Ee])),Ze(yc,ze,Object.keys(Ml[ze])),yc);function bh(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Ze(e,Ee,"".concat(j.cssPrefix,"-").concat(Ee)),Ze(e,ze,"".concat(j.cssPrefix,"-").concat(ze)),e),o=null,a=Ee;(t.includes(s[Ee])||t.some(function(u){return vb[Ee].includes(u)}))&&(a=Ee),(t.includes(s[ze])||t.some(function(u){return vb[ze].includes(u)}))&&(a=ze);var l=t.reduce(function(u,c){var f=xF(j.cssPrefix,c);if(oo[c]?(c=TF[a].includes(c)?tF[a][c]:c,o=c,u.prefix=c):kF[a].indexOf(c)>-1?(o=c,u.prefix=Sh(c,{family:a})):f?u.iconName=f:c!==j.replacementClass&&c!==s[Ee]&&c!==s[ze]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var d=o==="fa"?uC(u.iconName):{},p=Ki(u.prefix,u.iconName);d.prefix&&(o=null),u.iconName=d.iconName||p||u.iconName,u.prefix=d.prefix||u.prefix,u.prefix==="far"&&!oo.far&&oo.fas&&!j.autoFetchSvg&&(u.prefix="fas")}return u},I0());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===ze&&(oo.fass||j.autoFetchSvg)&&(l.prefix="fass",l.iconName=Ki(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=ai()||"fas"),l}var NF=function(){function t(){B$(this,t),this.definitions={}}return q$(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=U(U({},n.definitions[a]||{}),o[a]),sv(a,o[a]);var l=Ml[Ee][a];l&&sv(l,o[a]),lC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(f){typeof f=="string"&&(n[a][f]=u)}),n[a][l]=u}),n}}]),t}(),yb=[],ao={},Eo={},PF=Object.keys(Eo);function DF(t,e){var n=e.mixoutsTo;return yb=t,ao={},Object.keys(Eo).forEach(function(r){PF.indexOf(r)===-1&&delete Eo[r]}),yb.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),Hf(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){ao[o]||(ao[o]=[]),ao[o].push(s[o])})}r.provides&&r.provides(Eo)}),n}function ov(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=ao[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function ms(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=ao[t]||[];i.forEach(function(s){s.apply(null,n)})}function fr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Eo[t]?Eo[t].apply(null,e):void 0}function av(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||ai();if(e)return e=Ki(n,e)||e,mb(cC.definitions,n,e)||mb(_n.styles,n,e)}var cC=new NF,RF=function(){j.autoReplaceSvg=!1,j.observeMutations=!1,ms("noAuto")},MF={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return yr?(ms("beforeI2svg",e),fr("pseudoElements2svg",e),fr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;j.autoReplaceSvg===!1&&(j.autoReplaceSvg=!0),j.observeMutations=!0,SF(function(){$F({autoReplaceSvgRoot:n}),ms("watch",e)})}},LF={icon:function(e){if(e===null)return null;if(Hf(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ki(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Sh(e[0]);return{prefix:r,iconName:Ki(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(j.cssPrefix,"-"))>-1||e.match(nF))){var i=bh(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||ai(),iconName:Ki(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=ai();return{prefix:s,iconName:Ki(s,e)||e}}}},an={noAuto:RF,config:j,dom:MF,parse:LF,library:cC,findIconDefinition:av,toHtml:gu},$F=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Te:n;(Object.keys(_n.styles).length>0||j.autoFetchSvg)&&yr&&j.autoReplaceSvg&&an.dom.i2svg({node:r})};function Eh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return gu(r)})}}),Object.defineProperty(t,"node",{get:function(){if(yr){var r=Te.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function FF(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(b0(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=wh(U(U({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function UF(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(j.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:U(U({},i),{},{id:o}),children:r}]}]}function T0(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,c=t.titleId,f=t.extra,d=t.watchable,p=d===void 0?!1:d,v=r.found?r:n,m=v.width,w=v.height,g=i==="fak",h=[j.replacementClass,s?"".concat(j.cssPrefix,"-").concat(s):""].filter(function(A){return f.classes.indexOf(A)===-1}).filter(function(A){return A!==""||!!A}).concat(f.classes).join(" "),y={children:[],attributes:U(U({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:h,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(w)})},b=g&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/w*16*.0625,"em")}:{};p&&(y.attributes[ps]=""),l&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(c||$l())},children:[l]}),delete y.attributes.title);var S=U(U({},y),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:U(U({},b),f.styles)}),E=r.found&&n.found?fr("generateAbstractMask",S)||{children:[],attributes:{}}:fr("generateAbstractIcon",S)||{children:[],attributes:{}},I=E.children,_=E.attributes;return S.children=I,S.attributes=_,a?UF(S):FF(S)}function wb(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=U(U(U({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[ps]="");var c=U({},o.styles);b0(i)&&(c.transform=gF({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var f=wh(c);f.length>0&&(u.style=f);var d=[];return d.push({tag:"span",attributes:u,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function zF(t){var e=t.content,n=t.title,r=t.extra,i=U(U(U({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=wh(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var cm=_n.styles;function lv(t){var e=t[0],n=t[1],r=t.slice(4),i=m0(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(j.cssPrefix,"-").concat(Gi.GROUP)},children:[{tag:"path",attributes:{class:"".concat(j.cssPrefix,"-").concat(Gi.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(j.cssPrefix,"-").concat(Gi.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var jF={found:!1,width:512,height:512};function VF(t,e){!Yk&&!j.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function uv(t,e){var n=e;return e==="fa"&&j.styleDefault!==null&&(e=ai()),new Promise(function(r,i){if(fr("missingIconAbstract"),n==="fa"){var s=uC(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&cm[e]&&cm[e][t]){var o=cm[e][t];return r(lv(o))}VF(t,e),r(U(U({},jF),{},{icon:j.showMissingIcons&&t?fr("missingIconAbstract")||{}:{}}))})}var Sb=function(){},cv=j.measurePerformance&&cc&&cc.mark&&cc.measure?cc:{mark:Sb,measure:Sb},$a='FA "6.4.0"',BF=function(e){return cv.mark("".concat($a," ").concat(e," begins")),function(){return fC(e)}},fC=function(e){cv.mark("".concat($a," ").concat(e," ends")),cv.measure("".concat($a," ").concat(e),"".concat($a," ").concat(e," begins"),"".concat($a," ").concat(e," ends"))},k0={begin:BF,end:fC},Bc=function(){};function bb(t){var e=t.getAttribute?t.getAttribute(ps):null;return typeof e=="string"}function qF(t){var e=t.getAttribute?t.getAttribute(v0):null,n=t.getAttribute?t.getAttribute(y0):null;return e&&n}function WF(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(j.replacementClass)}function HF(){if(j.autoReplaceSvg===!0)return qc.replace;var t=qc[j.autoReplaceSvg];return t||qc.replace}function GF(t){return Te.createElementNS("http://www.w3.org/2000/svg",t)}function KF(t){return Te.createElement(t)}function dC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?GF:KF:n;if(typeof t=="string")return Te.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(dC(o,{ceFn:r}))}),i}function QF(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var qc={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(dC(i),n)}),n.getAttribute(ps)===null&&j.keepOriginalSource){var r=Te.createComment(QF(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~S0(n).indexOf(j.replacementClass))return qc.replace(e);var i=new RegExp("".concat(j.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===j.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return gu(a)}).join(`
`);n.setAttribute(ps,""),n.innerHTML=o}};function Eb(t){t()}function hC(t,e){var n=typeof e=="function"?e:Bc;if(t.length===0)n();else{var r=Eb;j.mutateApproach===Z$&&(r=oi.requestAnimationFrame||Eb),r(function(){var i=HF(),s=k0.begin("mutate");t.map(i),s(),n()})}}var C0=!1;function pC(){C0=!0}function fv(){C0=!1}var Kf=null;function _b(t){if(db&&j.observeMutations){var e=t.treeCallback,n=e===void 0?Bc:e,r=t.nodeCallback,i=r===void 0?Bc:r,s=t.pseudoElementsCallback,o=s===void 0?Bc:s,a=t.observeMutationsRoot,l=a===void 0?Te:a;Kf=new db(function(u){if(!C0){var c=ai();na(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!bb(f.addedNodes[0])&&(j.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&j.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&bb(f.target)&&~oF.indexOf(f.attributeName))if(f.attributeName==="class"&&qF(f.target)){var d=bh(S0(f.target)),p=d.prefix,v=d.iconName;f.target.setAttribute(v0,p||c),v&&f.target.setAttribute(y0,v)}else WF(f.target)&&i(f.target)})}}),yr&&Kf.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function YF(){Kf&&Kf.disconnect()}function XF(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function JF(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=bh(S0(t));return i.prefix||(i.prefix=ai()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=OF(i.prefix,t.innerText)||_0(i.prefix,iv(t.innerText))),!i.iconName&&j.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ZF(t){var e=na(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return j.autoA11y&&(n?e["aria-labelledby"]="".concat(j.replacementClass,"-title-").concat(r||$l()):(e["aria-hidden"]="true",e.focusable="false")),e}function e3(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ib(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=JF(t),r=n.iconName,i=n.prefix,s=n.rest,o=ZF(t),a=ov("parseNodeAttributes",{},t),l=e.styleParser?XF(t):[];return U({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var t3=_n.styles;function mC(t){var e=j.autoReplaceSvg==="nest"?Ib(t,{styleParser:!1}):Ib(t);return~e.extra.classes.indexOf(Xk)?fr("generateLayersText",t,e):fr("generateSvgReplacementMutation",t,e)}var li=new Set;w0.map(function(t){li.add("fa-".concat(t))});Object.keys(Dl[Ee]).map(li.add.bind(li));Object.keys(Dl[ze]).map(li.add.bind(li));li=pu(li);function Tb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!yr)return Promise.resolve();var n=Te.documentElement.classList,r=function(f){return n.add("".concat(hb,"-").concat(f))},i=function(f){return n.remove("".concat(hb,"-").concat(f))},s=j.autoFetchSvg?li:w0.map(function(c){return"fa-".concat(c)}).concat(Object.keys(t3));s.includes("fa")||s.push("fa");var o=[".".concat(Xk,":not([").concat(ps,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(ps,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=na(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=k0.begin("onTree"),u=a.reduce(function(c,f){try{var d=mC(f);d&&c.push(d)}catch(p){Yk||p.name==="MissingIcon"&&console.error(p)}return c},[]);return new Promise(function(c,f){Promise.all(u).then(function(d){hC(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(d){l(),f(d)})})}function n3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;mC(t).then(function(n){n&&hC([n],e)})}function r3(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:av(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:av(i||{})),t(r,U(U({},n),{},{mask:i}))}}var i3=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Rn:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,f=n.title,d=f===void 0?null:f,p=n.titleId,v=p===void 0?null:p,m=n.classes,w=m===void 0?[]:m,g=n.attributes,h=g===void 0?{}:g,y=n.styles,b=y===void 0?{}:y;if(e){var S=e.prefix,E=e.iconName,I=e.icon;return Eh(U({type:"icon"},e),function(){return ms("beforeDOMElementCreation",{iconDefinition:e,params:n}),j.autoA11y&&(d?h["aria-labelledby"]="".concat(j.replacementClass,"-title-").concat(v||$l()):(h["aria-hidden"]="true",h.focusable="false")),T0({icons:{main:lv(I),mask:l?lv(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:E,transform:U(U({},Rn),i),symbol:o,title:d,maskId:c,titleId:v,extra:{attributes:h,styles:b,classes:w}})})}},s3={mixout:function(){return{icon:r3(i3)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Tb,n.nodeCallback=n3,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Te:r,s=n.callback,o=s===void 0?function(){}:s;return Tb(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,c=r.mask,f=r.maskId,d=r.extra;return new Promise(function(p,v){Promise.all([uv(i,a),c.iconName?uv(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var w=m0(m,2),g=w[0],h=w[1];p([n,T0({icons:{main:g,mask:h},prefix:a,iconName:i,transform:l,symbol:u,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(v)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=wh(a);l.length>0&&(i.style=l);var u;return b0(o)&&(u=fr("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},o3={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return Eh({type:"layer"},function(){ms("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(j.cssPrefix,"-layers")].concat(pu(s)).join(" ")},children:o}]})}}}},a3={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,c=r.styles,f=c===void 0?{}:c;return Eh({type:"counter",content:n},function(){return ms("beforeDOMElementCreation",{content:n,params:r}),zF({content:n.toString(),title:s,extra:{attributes:u,styles:f,classes:["".concat(j.cssPrefix,"-layers-counter")].concat(pu(a))}})})}}}},l3={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Rn:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,c=r.attributes,f=c===void 0?{}:c,d=r.styles,p=d===void 0?{}:d;return Eh({type:"text",content:n},function(){return ms("beforeDOMElementCreation",{content:n,params:r}),wb({content:n,transform:U(U({},Rn),s),title:a,extra:{attributes:f,styles:p,classes:["".concat(j.cssPrefix,"-layers-text")].concat(pu(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(Gk){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();a=c.width/u,l=c.height/u}return j.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,wb({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},u3=new RegExp('"',"ug"),kb=[1105920,1112319];function c3(t){var e=t.replace(u3,""),n=_F(e,0),r=n>=kb[0]&&n<=kb[1],i=e.length===2?e[0]===e[1]:!1;return{value:iv(i?e[0]:e),isSecondary:r||i}}function Cb(t,e){var n="".concat(J$).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=na(t.children),o=s.filter(function(I){return I.getAttribute(rv)===e})[0],a=oi.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(rF),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&c!=="none"&&c!==""){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?ze:Ee,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Rl[d][l[2].toLowerCase()]:iF[d][u],v=c3(f),m=v.value,w=v.isSecondary,g=l[0].startsWith("FontAwesome"),h=_0(p,m),y=h;if(g){var b=AF(m);b.iconName&&b.prefix&&(h=b.iconName,p=b.prefix)}if(h&&!w&&(!o||o.getAttribute(v0)!==p||o.getAttribute(y0)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);var S=e3(),E=S.extra;E.attributes[rv]=e,uv(h,p).then(function(I){var _=T0(U(U({},S),{},{icons:{main:I,mask:I0()},prefix:p,iconName:y,extra:E,watchable:!0})),A=Te.createElement("svg");e==="::before"?t.insertBefore(A,t.firstChild):t.appendChild(A),A.outerHTML=_.map(function(P){return gu(P)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function f3(t){return Promise.all([Cb(t,"::before"),Cb(t,"::after")])}function d3(t){return t.parentNode!==document.head&&!~eF.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(rv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function xb(t){if(yr)return new Promise(function(e,n){var r=na(t.querySelectorAll("*")).filter(d3).map(f3),i=k0.begin("searchPseudoElements");pC(),Promise.all(r).then(function(){i(),fv(),e()}).catch(function(){i(),fv(),n()})})}var h3={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=xb,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Te:r;j.searchPseudoElements&&xb(i)}}},Ob=!1,p3={mixout:function(){return{dom:{unwatch:function(){pC(),Ob=!0}}}},hooks:function(){return{bootstrap:function(){_b(ov("mutationObserverCallbacks",{}))},noAuto:function(){YF()},watch:function(n){var r=n.observeMutationsRoot;Ob?fv():_b(ov("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Ab=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},m3={mixout:function(){return{parse:{transform:function(n){return Ab(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Ab(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(c)},d={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:f,path:d};return{tag:"g",attributes:U({},p.outer),children:[{tag:"g",attributes:U({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:U(U({},r.icon.attributes),p.path)}]}]}}}},fm={x:0,y:0,width:"100%",height:"100%"};function Nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function g3(t){return t.tag==="g"?t.children:[t]}var v3={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?bh(i.split(" ").map(function(o){return o.trim()})):I0();return s.prefix||(s.prefix=ai()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,f=o.width,d=o.icon,p=mF({transform:l,containerWidth:f,iconWidth:u}),v={tag:"rect",attributes:U(U({},fm),{},{fill:"white"})},m=c.children?{children:c.children.map(Nb)}:{},w={tag:"g",attributes:U({},p.inner),children:[Nb(U({tag:c.tag,attributes:U(U({},c.attributes),p.path)},m))]},g={tag:"g",attributes:U({},p.outer),children:[w]},h="mask-".concat(a||$l()),y="clip-".concat(a||$l()),b={tag:"mask",attributes:U(U({},fm),{},{id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,g]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:g3(d)},b]};return r.push(S,{tag:"rect",attributes:U({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(h,")")},fm)}),{children:r,attributes:i}}}},y3={provides:function(e){var n=!1;oi.matchMedia&&(n=oi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:U(U({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=U(U({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:U(U({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:U(U({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:U(U({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:U(U({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:U(U({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:U(U({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:U(U({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},w3={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},S3=[yF,s3,o3,a3,l3,h3,p3,m3,v3,y3,w3];DF(S3,{mixoutsTo:an});an.noAuto;an.config;an.library;an.dom;var dv=an.parse;an.findIconDefinition;an.toHtml;var b3=an.icon;an.layer;an.text;an.counter;var te={},E3={get exports(){return te},set exports(t){te=t}},_3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I3=_3,T3=I3;function gC(){}function vC(){}vC.resetWarningCache=gC;var k3=function(){function t(r,i,s,o,a,l){if(l!==T3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vC,resetWarningCache:gC};return n.PropTypes=n,n};E3.exports=k3();function Pb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pb(Object(n),!0).forEach(function(r){lo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qf(t){return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function lo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function x3(t,e){if(t==null)return{};var n=C3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hv(t){return O3(t)||A3(t)||N3(t)||P3()}function O3(t){if(Array.isArray(t))return pv(t)}function A3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N3(t,e){if(t){if(typeof t=="string")return pv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pv(t,e)}}function pv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,c=t.spinReverse,f=t.pulse,d=t.fixedWidth,p=t.inverse,v=t.border,m=t.listItem,w=t.flip,g=t.size,h=t.rotation,y=t.pull,b=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":d,"fa-inverse":p,"fa-border":v,"fa-li":m,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},lo(e,"fa-".concat(g),typeof g<"u"&&g!==null),lo(e,"fa-rotate-".concat(h),typeof h<"u"&&h!==null&&h!==0),lo(e,"fa-pull-".concat(y),typeof y<"u"&&y!==null),lo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(b).map(function(S){return b[S]?S:null}).filter(function(S){return S})}function R3(t){return t=t-0,t===t}function yC(t){return R3(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var M3=["style"];function L3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $3(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=yC(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[L3(i)]=s:e[i]=s,e},{})}function wC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return wC(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=$3(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[yC(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=x3(n,M3);return i.attrs.style=Br(Br({},i.attrs.style),o),t.apply(void 0,[e.tag,Br(Br({},i.attrs),a)].concat(hv(r)))}var SC=!1;try{SC=!0}catch{}function F3(){if(!SC&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Db(t){if(t&&Qf(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(dv.icon)return dv.icon(t);if(t===null)return null;if(t&&Qf(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function dm(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?lo({},t,e):{}}var zn=hn.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,u=Db(n),c=dm("classes",[].concat(hv(D3(t)),hv(s.split(" ")))),f=dm("transform",typeof t.transform=="string"?dv.transform(t.transform):t.transform),d=dm("mask",Db(r)),p=b3(u,Br(Br(Br(Br({},c),f),d),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!p)return F3("Could not find icon",u),null;var v=p.abstract,m={ref:e};return Object.keys(t).forEach(function(w){zn.defaultProps.hasOwnProperty(w)||(m[w]=t[w])}),U3(v[0],m)});zn.displayName="FontAwesomeIcon";zn.propTypes={beat:te.bool,border:te.bool,beatFade:te.bool,bounce:te.bool,className:te.string,fade:te.bool,flash:te.bool,mask:te.oneOfType([te.object,te.array,te.string]),maskId:te.string,fixedWidth:te.bool,inverse:te.bool,flip:te.oneOf([!0,!1,"horizontal","vertical","both"]),icon:te.oneOfType([te.object,te.array,te.string]),listItem:te.bool,pull:te.oneOf(["right","left"]),pulse:te.bool,rotation:te.oneOf([0,90,180,270]),shake:te.bool,size:te.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:te.bool,spinPulse:te.bool,spinReverse:te.bool,symbol:te.oneOfType([te.bool,te.string]),title:te.string,titleId:te.string,transform:te.oneOfType([te.string,te.object]),swapOpacity:te.bool};zn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var U3=wC.bind(null,hn.createElement),z3={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20V180h44c11 0 20-9 20-20s-9-20-20-20H356V96c0-11-9-20-20-20s-20 9-20 20v44H272c-11 0-20 9-20 20z"]},j3={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},V3={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},B3={prefix:"fas",iconName:"thumbs-down",icon:[512,512,[128078,61576],"f165","M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2H464c26.5 0 48-21.5 48-48c0-18.5-10.5-34.6-25.9-42.6C497 236.6 504 223.1 504 208c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48H294.5c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7V192v48 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 384H96c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H32C14.3 96 0 110.3 0 128V352c0 17.7 14.3 32 32 32z"]},q3={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},bC=q3,W3={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new G3;const d=s<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K3=function(t){const e=EC(t);return _C.encodeByteArray(e,!0)},Yf=function(t){return K3(t).replace(/\./g,"")},IC=function(t){try{return _C.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Q3(n)||(t[n]=Xf(t[n],e[n]));return t}function Q3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=()=>Y3().__FIREBASE_DEFAULTS__,J3=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IC(t[1]);return e&&JSON.parse(e)},_h=()=>{try{return X3()||J3()||Z3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e4=t=>{var e,n;return(n=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t4=()=>{var t;return(t=_h())===null||t===void 0?void 0:t.config},TC=t=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Yf(JSON.stringify(n)),Yf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function s4(){var t;const e=(t=_h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o4(){return typeof self=="object"&&self.self===self}function a4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function l4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u4(){const t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c4(){return!s4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kC(){try{return typeof indexedDB=="object"}catch{return!1}}function f4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d4,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ds.prototype.create)}}class Ds{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?h4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kn(i,a,r)}}function h4(t,e){return t.replace(p4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const p4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function m4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mb(s)&&Mb(o)){if(!Jf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CC(t,e){const n=new g4(t,e);return n.subscribe.bind(n)}class g4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hm),i.error===void 0&&(i.error=hm),i.complete===void 0&&(i.complete=hm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t){return t&&t._delegate?t._delegate:t}class dr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w4(t){return t===$i?void 0:t}function S4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=[];var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const xC={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},E4=ue.INFO,_4={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},I4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=I4,this._userLogHandler=null,x0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}function T4(t){x0.forEach(e=>{e.setLogLevel(t)})}function k4(t,e){for(const n of x0){let r=null;e&&e.level&&(r=xC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ue[s].toLowerCase(),message:a,args:o,type:i.name})}}}const C4=(t,e)=>e.some(n=>t instanceof n);let Lb,$b;function x4(){return Lb||(Lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return $b||($b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,mv=new WeakMap,AC=new WeakMap,pm=new WeakMap,O0=new WeakMap;function A4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OC.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function N4(t){if(mv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mv.set(t,e)}let gv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P4(t){gv=t(gv)}function D4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mm(this),e,...n);return AC.set(r,e.sort?e.sort():[e]),Zr(r)}:O4().includes(t)?function(...e){return t.apply(mm(this),e),Zr(OC.get(this))}:function(...e){return Zr(t.apply(mm(this),e))}}function R4(t){return typeof t=="function"?D4(t):(t instanceof IDBTransaction&&N4(t),C4(t,x4())?new Proxy(t,gv):t)}function Zr(t){if(t instanceof IDBRequest)return A4(t);if(pm.has(t))return pm.get(t);const e=R4(t);return e!==t&&(pm.set(t,e),O0.set(e,t)),e}const mm=t=>O0.get(t);function M4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zr(o.result),l.oldVersion,l.newVersion,Zr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const L4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],gm=new Map;function Fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return gm.set(e,s),s}P4(t=>({...t,get:(e,n,r)=>Fb(e,n)||t.get(e,n,r),has:(e,n)=>!!Fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vv="@firebase/app",Ub="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ih("@firebase/app"),z4="@firebase/app-compat",j4="@firebase/analytics-compat",V4="@firebase/analytics",B4="@firebase/app-check-compat",q4="@firebase/app-check",W4="@firebase/auth",H4="@firebase/auth-compat",G4="@firebase/database",K4="@firebase/database-compat",Q4="@firebase/functions",Y4="@firebase/functions-compat",X4="@firebase/installations",J4="@firebase/installations-compat",Z4="@firebase/messaging",eU="@firebase/messaging-compat",tU="@firebase/performance",nU="@firebase/performance-compat",rU="@firebase/remote-config",iU="@firebase/remote-config-compat",sU="@firebase/storage",oU="@firebase/storage-compat",aU="@firebase/firestore",lU="@firebase/firestore-compat",uU="firebase",cU="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]",fU={[vv]:"fire-core",[z4]:"fire-core-compat",[V4]:"fire-analytics",[j4]:"fire-analytics-compat",[q4]:"fire-app-check",[B4]:"fire-app-check-compat",[W4]:"fire-auth",[H4]:"fire-auth-compat",[G4]:"fire-rtdb",[K4]:"fire-rtdb-compat",[Q4]:"fire-fn",[Y4]:"fire-fn-compat",[X4]:"fire-iid",[J4]:"fire-iid-compat",[Z4]:"fire-fcm",[eU]:"fire-fcm-compat",[tU]:"fire-perf",[nU]:"fire-perf-compat",[rU]:"fire-rc",[iU]:"fire-rc-compat",[sU]:"fire-gcs",[oU]:"fire-gcs-compat",[aU]:"fire-fst",[lU]:"fire-fst-compat","fire-js":"fire-js",[uU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Map,Fl=new Map;function Zf(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function NC(t,e){t.container.addOrOverwriteComponent(e)}function fi(t){const e=t.name;if(Fl.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Fl.set(e,t);for(const n of ci.values())Zf(n,t);return!0}function Th(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dU(t,e,n=ui){Th(t,e).clearInstance(n)}function hU(){Fl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rr=new Ds("app","Firebase",pU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mU=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=cU;function A0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ui,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rr.create("bad-app-name",{appName:String(i)});if(n||(n=t4()),!n)throw rr.create("no-options");const s=ci.get(i);if(s){if(Jf(n,s.options)&&Jf(r,s.config))return s;throw rr.create("duplicate-app",{appName:i})}const o=new b4(i);for(const l of Fl.values())o.addComponent(l);const a=new mU(n,r,o);return ci.set(i,a),a}function PC(t=ui){const e=ci.get(t);if(!e&&t===ui)return A0();if(!e)throw rr.create("no-app",{appName:t});return e}function gU(){return Array.from(ci.values())}async function DC(t){const e=t.name;ci.has(e)&&(ci.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function jn(t,e,n){var r;let i=(r=fU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(a.join(" "));return}fi(new dr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function RC(t,e){if(t!==null&&typeof t!="function")throw rr.create("invalid-log-argument");k4(t,e)}function MC(t){T4(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="firebase-heartbeat-database",yU=1,Ul="firebase-heartbeat-store";let vm=null;function LC(){return vm||(vm=M4(vU,yU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ul)}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),vm}async function wU(t){try{return(await LC()).transaction(Ul).objectStore(Ul).get($C(t))}catch(e){if(e instanceof Kn)gs.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(n.message)}}}async function zb(t,e){try{const r=(await LC()).transaction(Ul,"readwrite");return await r.objectStore(Ul).put(e,$C(t)),r.done}catch(n){if(n instanceof Kn)gs.warn(n.message);else{const r=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gs.warn(r.message)}}}function $C(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=1024,bU=30*24*60*60*1e3;class EU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=bU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jb(),{heartbeatsToSend:n,unsentEntries:r}=_U(this._heartbeatsCache.heartbeats),i=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function jb(){return new Date().toISOString().substring(0,10)}function _U(t,e=SU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Vb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kC()?f4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await wU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Vb(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){fi(new dr("platform-logger",e=>new F4(e),"PRIVATE")),fi(new dr("heartbeat",e=>new EU(e),"PRIVATE")),jn(vv,Ub,t),jn(vv,Ub,"esm2017"),jn("fire-js","")}TU("");const kU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Kn,SDK_VERSION:Ii,_DEFAULT_ENTRY_NAME:ui,_addComponent:Zf,_addOrOverwriteComponent:NC,_apps:ci,_clearComponents:hU,_components:Fl,_getProvider:Th,_registerComponent:fi,_removeServiceInstance:dU,deleteApp:DC,getApp:PC,getApps:gU,initializeApp:A0,onLog:RC,registerVersion:jn,setLogLevel:MC},Symbol.toStringTag,{value:"Module"}));function N0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CU=FC,UC=new Ds("auth","Firebase",FC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Ih("@firebase/auth");function xU(t,...e){ed.logLevel<=ue.WARN&&ed.warn(`Auth (${Ii}): ${t}`,...e)}function Wc(t,...e){ed.logLevel<=ue.ERROR&&ed.error(`Auth (${Ii}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw P0(t,...e)}function Vn(t,...e){return P0(t,...e)}function OU(t,e,n){const r=Object.assign(Object.assign({},CU()),{[e]:n});return new Ds("auth","Firebase",r).create(e,{appName:t.name})}function P0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UC.create(t,...e)}function X(t,e,...n){if(!t)throw P0(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function hr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AU(){return Bb()==="http:"||Bb()==="https:"}function Bb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AU()||a4()||"connection"in navigator)?navigator.onLine:!0}function PU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=i4()||l4()}get(){return NU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=new yu(3e4,6e4);function ra(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ia(t,e,n,r,i={}){return jC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zC.fetch()(VC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},DU),e);try{const i=new MU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw wc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OU(t,c,u);On(t,c)}}catch(i){if(i instanceof Kn)throw i;On(t,"network-request-failed",{message:String(i)})}}async function wu(t,e,n,r,i={}){const s=await ia(t,e,n,r,i);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s}function VC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?D0(t.config,i):`${t.config.apiScheme}://${i}`}class MU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),RU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e){return ia(t,"POST","/v1/accounts:delete",e)}async function $U(t,e){return ia(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FU(t,e=!1){const n=ye(t),r=await n.getIdToken(e),i=R0(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nl(ym(i.auth_time)),issuedAtTime:nl(ym(i.iat)),expirationTime:nl(ym(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ym(t){return Number(t)*1e3}function R0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=IC(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UU(t){const e=R0(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&zU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,$U(n,{idToken:r}));X(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qU(s.providerUserInfo):[],a=BU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function VU(t){const e=ye(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qU(t){return t.map(e=>{var{providerId:n}=e,r=N0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){const n=await jC(t,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=VC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await WU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jl;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class is{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=N0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FU(this,e)}reload(){return VU(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new is(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zl(this,LU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:b,isAnonymous:S,providerData:E,stsTokenManager:I}=n;X(y&&I,e,"internal-error");const _=jl.fromJSON(this.name,I);X(typeof y=="string",e,"internal-error"),Ir(f,e.name),Ir(d,e.name),X(typeof b=="boolean",e,"internal-error"),X(typeof S=="boolean",e,"internal-error"),Ir(p,e.name),Ir(v,e.name),Ir(m,e.name),Ir(w,e.name),Ir(g,e.name),Ir(h,e.name);const A=new is({uid:y,auth:e,email:d,emailVerified:b,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:h});return E&&Array.isArray(E)&&(A.providerData=E.map(P=>Object.assign({},P))),w&&(A._redirectEventId=w),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new jl;i.updateFromServerResponse(n);const s=new is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await td(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=new Map;function er(t){hr(t instanceof Function,"Expected a class definition");let e=qb.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qC.type="NONE";const Wb=qC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}class _o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?is._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _o(er(Wb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||er(Wb);const o=Hc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const f=is._fromJSON(e,c);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new _o(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new _o(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QC(e))return"Blackberry";if(YC(e))return"Webos";if(M0(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WC(t=et()){return/firefox\//i.test(t)}function M0(t=et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=et()){return/crios\//i.test(t)}function GC(t=et()){return/iemobile/i.test(t)}function KC(t=et()){return/android/i.test(t)}function QC(t=et()){return/blackberry/i.test(t)}function YC(t=et()){return/webos/i.test(t)}function kh(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HU(t=et()){var e;return kh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GU(){return u4()&&document.documentMode===10}function XC(t=et()){return kh(t)||KC(t)||YC(t)||QC(t)||/windows phone/i.test(t)||GC(t)}function KU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e=[]){let n;switch(t){case"Browser":n=Hb(et());break;case"Worker":n=`${Hb(et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ii}/${r}`}async function ZC(t,e){return ia(t,"GET","/v2/recaptchaConfig",ra(t,e))}function Gb(t){return t!==void 0&&t.enterprise!==void 0}class ex{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",QU().appendChild(r)})}function YU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XU="https://www.google.com/recaptcha/enterprise.js?render=",JU="recaptcha-enterprise";class nx{constructor(e){this.type=JU,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ZC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ex(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Gb(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Gb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}tx(XU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function nd(t,e,n,r=!1){const i=new nx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kb(this),this.idTokenSubscription=new Kb(this),this.beforeStateQueue=new ZU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ye(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}async initializeRecaptchaConfig(){const e=await ZC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new ex(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new nx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ds("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return X(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return ye(t)}class Kb{constructor(e){this.auth=e,this.observer=null,this.addObserver=CC(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(t,e){const n=Th(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jf(s,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function nz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rz(t,e,n){const r=sa(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=rx(e),{host:o,port:a}=iz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sz()}function rx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iz(t){const e=rx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Qb(o)}}}function Qb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function oz(t,e){return ia(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(t,e){return wu(t,"POST","/v1/accounts:signInWithPassword",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}async function lz(t,e){return wu(t,"POST","/v1/accounts:signInWithEmailLink",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends L0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await nd(e,r,"signInWithPassword");return wm(e,i)}else return wm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await nd(e,r,"signInWithPassword");return wm(e,s)}else return Promise.reject(i)});case"emailLink":return az(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return oz(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return lz(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return wu(t,"POST","/v1/accounts:signInWithIdp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="http://localhost";class vs extends L0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=N0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:uz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fz(t){const e=Fa(Ua(t)).link,n=e?Fa(Ua(e)).deep_link_id:null,r=Fa(Ua(t)).deep_link_id;return(r?Fa(Ua(r)).link:null)||r||n||e||t}class $0{constructor(e){var n,r,i,s,o,a;const l=Fa(Ua(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=cz((i=l.mode)!==null&&i!==void 0?i:null);X(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fz(e);try{return new $0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$0.parseLink(n);return X(r,"argument-error"),Vl._fromEmailAndCode(e,r.code,r.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends ix{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Su{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mr.credential(n,r)}catch{return null}}}Mr.GOOGLE_SIGN_IN_METHOD="google.com";Mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Su{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Su{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t,e){return wu(t,"POST","/v1/accounts:signUp",ra(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await is._fromIdTokenResponse(e,r,i),o=Yb(r);return new ys({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yb(r);return new ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rd(e,n,r,i)}}function sx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rd._fromErrorAndOperation(t,s,e,r):s})}async function dz(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await zl(t,sx(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=R0(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),ys._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&On(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(t,e,n=!1){const r="signIn",i=await sx(t,r,e),s=await ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function pz(t,e){return ox(sa(t),e)}async function mz(t,e,n){var r;const i=sa(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await nd(i,s,"signUpPassword");o=Sm(i,u)}else o=Sm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await nd(i,s,"signUpPassword");return Sm(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function gz(t,e,n){return pz(ye(t),oa.credential(e,n))}function vz(t,e,n,r){return ye(t).onIdTokenChanged(e,n,r)}function yz(t,e,n){return ye(t).beforeAuthStateChanged(e,n)}function Ch(t,e,n,r){return ye(t).onAuthStateChanged(e,n,r)}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(){const t=et();return M0(t)||kh(t)}const Sz=1e3,bz=10;class lx extends ax{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wz()&&KU(),this.fallbackToPolling=XC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);GU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lx.type="LOCAL";const Ez=lx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux extends ax{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ux.type="SESSION";const cx=ux;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _z(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=F0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function Tz(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function kz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xz(){return fx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="firebaseLocalStorageDb",Oz=1,sd="firebaseLocalStorage",hx="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function Az(){const t=indexedDB.deleteDatabase(dx);return new bu(t).toPromise()}function wv(){const t=indexedDB.open(dx,Oz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:hx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await Az(),e(await wv()))})})}async function Xb(t,e,n){const r=Oh(t,!0).put({[hx]:e,value:n});return new bu(r).toPromise()}async function Nz(t,e){const n=Oh(t,!1).get(e),r=await new bu(n).toPromise();return r===void 0?null:r.value}function Jb(t,e){const n=Oh(t,!0).delete(e);return new bu(n).toPromise()}const Pz=800,Dz=3;class px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(xz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kz(),!this.activeServiceWorker)return;this.sender=new Iz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wv();return await Xb(e,id,"1"),await Jb(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Oh(i,!1).getAll();return new bu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}px.type="LOCAL";const Rz=px;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t,e){return e?er(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends L0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lz(t){return ox(t.auth,new U0(t),t.bypassAuthState)}function $z(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),hz(n,new U0(t),t.bypassAuthState)}async function Fz(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),dz(n,new U0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lz;case"linkViaPopup":case"linkViaRedirect":return Fz;case"reauthViaPopup":case"reauthViaRedirect":return $z;default:On(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=new yu(2e3,1e4);class uo extends mx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Uz.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="pendingRedirect",Gc=new Map;class jz extends mx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await Vz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vz(t,e){const n=Wz(e),r=qz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Bz(t,e){Gc.set(t._key(),e)}function qz(t){return er(t._redirectPersistence)}function Wz(t){return Hc(zz,t.config.apiKey,t.name)}async function Hz(t,e,n=!1){const r=sa(t),i=Mz(r,e),o=await new jz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=10*60*1e3;class Kz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zb(e))}saveEventToCache(e){this.cachedEventUids.add(Zb(e)),this.lastProcessedEventTime=Date.now()}}function Zb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,e={}){return ia(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jz=/^https?/;async function Zz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yz(t);for(const n of e)try{if(ej(n))return}catch{}On(t,"unauthorized-domain")}function ej(t){const e=yv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Jz.test(n))return!1;if(Xz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new yu(3e4,6e4);function eE(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nj(t){return new Promise((e,n)=>{var r,i,s;function o(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Vn(t,"network-request-failed"))},timeout:tj.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bn().gapi)===null||s===void 0)&&s.load)o();else{const a=YU("iframefcb");return Bn()[a]=()=>{gapi.load?o():n(Vn(t,"network-request-failed"))},tx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function rj(t){return Kc=Kc||nj(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new yu(5e3,15e3),sj="__/auth/iframe",oj="emulator/auth/iframe",aj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uj(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D0(e,oj):`https://${t.config.authDomain}/${sj}`,r={apiKey:e.apiKey,appName:t.name,v:Ii},i=lj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vu(r).slice(1)}`}async function cj(t){const e=await rj(t),n=Bn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:uj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Bn().setTimeout(()=>{s(o)},ij.get());function l(){Bn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dj=500,hj=600,pj="_blank",mj="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gj(t,e,n,r=dj,i=hj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},fj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=et().toLowerCase();n&&(a=HC(u)?pj:n),WC(u)&&(e=e||mj,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,v])=>`${d}${p}=${v},`,"");if(HU(u)&&a!=="_self")return vj(e||"",a),new tE(null);const f=window.open(e||"",a,c);X(f,t,"popup-blocked");try{f.focus()}catch{}return new tE(f)}function vj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="__/auth/handler",wj="emulator/auth/handler",Sj=encodeURIComponent("fac");async function nE(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ii,eventId:i};if(e instanceof ix){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Su){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Sj}=${encodeURIComponent(l)}`:"";return`${bj(t)}?${vu(a).slice(1)}${u}`}function bj({config:t}){return t.emulator?D0(t,wj):`https://${t.authDomain}/${yj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class Ej{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cx,this._completeRedirectFn=Hz,this._overrideRedirectResult=Bz}async _openPopup(e,n,r,i){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await nE(e,n,r,yv(),i);return gj(e,o,F0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nE(e,n,r,yv(),i);return Tz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cj(e),r=new Kz(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bm];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XC()||M0()||kh()}}const _j=Ej;var rE="@firebase/auth",iE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function kj(t){fi(new dr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),X(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},u=new ez(r,i,s,l);return nz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fi(new dr("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new Ij(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(rE,iE,Tj(t)),jn(rE,iE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=5*60,xj=TC("authIdTokenMaxAge")||Cj;let sE=null;const Oj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xj)return;const i=n==null?void 0:n.token;sE!==i&&(sE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function di(t=PC()){const e=Th(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tz(t,{popupRedirectResolver:_j,persistence:[Rz,Ez,cx]}),r=TC("authTokenSyncURL");if(r){const s=Oj(r);yz(n,s,()=>s(n.currentUser)),vz(n,o=>s(o))}const i=e4("auth");return i&&rz(n,`http://${i}`),n}kj("Browser");var vx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},oE=hn.createContext&&hn.createContext(vx),ei=globalThis&&globalThis.__assign||function(){return ei=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ei.apply(this,arguments)},Aj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yx(t){return t&&t.map(function(e,n){return hn.createElement(e.tag,ei({key:n},e.attr),yx(e.child))})}function Nj(t){return function(e){return hn.createElement(Pj,ei({attr:ei({},t.attr)},e),yx(t.child))}}function Pj(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Aj(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),hn.createElement("svg",ei({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ei(ei({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&hn.createElement("title",null,s),t.children)};return oE!==void 0?hn.createElement(oE.Consumer,null,function(n){return e(n)}):e(vx)}function Dj(t){return Nj({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(t)}const Rj=()=>{const t=Ps(),e=di(),[n,r]=x.useState(!1);Ch(e,a=>{a?(r(!0),console.log("setSginedIn körs - to true")):(r(!1),console.log("setSginedIn körs - to false"))});const i=()=>{t("/login")},s=()=>{t("/userpage")};return ne("nav",{className:"navbar",children:[C("img",{src:z$,alt:"Movie Wheel Logo",className:"movie_wheel"}),ne("div",{className:"search_bar",children:[C("input",{type:"text",placeholder:"Search movies..."}),C("img",{src:j$,alt:"Search icon",className:"search_icon"})]}),(()=>n?C("img",{src:V$,onClick:s,alt:"Play Button",className:"play_folder"}):C(Dj,{className:"user_icon",onClick:i}))()]})},wx=Cn("select movie"),Sx=Cn("clear movie"),Em={selectMovie:wx,clearMovie:Sx},Mj={selectedMovie:null},Lj=Uk(Mj,t=>{t.addCase(wx,(e,n)=>{e.selectedMovie=n.payload}).addCase(Sx,(e,n)=>{e.selectedMovie=null,console.log(e.selectedMovie)})}),$j=t=>{let e=Ps(),n=xk();const r=di(),[i,s]=x.useState(!1);Ch(r,l=>{l?(s(!0),console.log("we have a logged in user")):(s(!1),console.log("No logged in user"))});const o=l=>{t.setMovie(l),n(Em.selectMovie(l)),e("/movieinfo/")},a=l=>{t.setMovie(l),n(Em.selectMovie(l)),e(i?"/payment/":"/login")};return x.useEffect(()=>{(location.pathname!=="/movieinfo/"||location.pathname!=="/payment/")&&n(Em.clearMovie())},[location.pathname,n]),ne("div",{className:"mainpage_container",children:[C("section",{children:C(Rj,{})}),ne("section",{className:"popular_movies_section",children:[C("h4",{children:"Popular Movies"}),C(am,{category:"popular",handleButtonClick:a,handleMovieClick:o})]}),ne("section",{className:"toprated_movies_section",children:[C("h4",{children:"Top Rated Movies On IMDb"}),C(am,{category:"top_rated",handleButtonClick:a,handleMovieClick:o})]}),ne("section",{className:"now_playing_section",children:[C("h4",{children:"In Theaters Now"}),C(am,{category:"now_playing",handleButtonClick:a,handleMovieClick:o})]})]})},Fj="https://image.tmdb.org/t/p/w185";const Uj=["xxl","xl","lg","md","sm","xs"],zj="xs",jj=x.createContext({prefixes:{},breakpoints:Uj,minBreakpoint:zj});function Vj(t,e){const{prefixes:n}=x.useContext(jj);return t||n[e]||e}const bx=x.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=Vj(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return C(n,{ref:s,...i,className:C2(r,e?`${o}${a}`:o)})});bx.displayName="Container";const Bj=bx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this._delegate=e,this.firebase=n,Zf(e,new dr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),DC(this._delegate)))}_getService(e,n=ui){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ui){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Zf(this._delegate,e)}_addOrOverwriteComponent(e){NC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},aE=new Ds("app-compat","Firebase",Wj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:jn,setLogLevel:MC,onLog:RC,apps:null,SDK_VERSION:Ii,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:kU}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ui,!Rb(e,u))throw aE.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const f=A0(u,c);if(Rb(e,f.name))return e[f.name];const d=new t(f,n);return e[f.name]=d,d}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,f=c.replace("-compat","");if(fi(u)&&u.type==="PUBLIC"){const d=(p=i())=>{if(typeof p[f]!="function")throw aE.create("invalid-app-argument",{appName:c});return p[f]()};u.serviceProps!==void 0&&Xf(d,u.serviceProps),n[f]=d,t.prototype[f]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[f]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){const t=Hj(qj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Ex,extendNamespace:e,createSubscribe:CC,ErrorFactory:Ds,deepExtend:Xf});function e(n){Xf(t,n)}return t}const Gj=Ex();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Ih("@firebase/app-compat"),Kj="@firebase/app-compat",Qj="0.2.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){jn(Kj,Qj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(o4()&&self.firebase!==void 0){lE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&lE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Rs=Gj;Yj();var Xj="firebase",Jj="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.registerVersion(Xj,Jj,"app-compat");var Zj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,z0=z0||{},J=Zj||self;function od(){}function Ah(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Eu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eV(t){return Object.prototype.hasOwnProperty.call(t,_m)&&t[_m]||(t[_m]=++tV)}var _m="closure_uid_"+(1e9*Math.random()>>>0),tV=0;function nV(t,e,n){return t.call.apply(t.bind,arguments)}function rV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=nV:Tt=rV,Tt.apply(null,arguments)}function Sc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function wt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ti(){this.s=this.s,this.o=this.o}var iV=0;Ti.prototype.s=!1;Ti.prototype.na=function(){!this.s&&(this.s=!0,this.M(),iV!=0)&&eV(this)};Ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function j0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function uE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ah(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var sV=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",od,e),J.removeEventListener("test",od,e)}catch{}return t}();function ad(t){return/^[\s\xa0]*$/.test(t)}var cE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Im(t,e){return t<e?-1:t>e?1:0}function Nh(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Dn(t){return Nh().indexOf(t)!=-1}function V0(t){return V0[" "](t),t}V0[" "]=od;function oV(t){var e=uV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var aV=Dn("Opera"),Uo=Dn("Trident")||Dn("MSIE"),Ix=Dn("Edge"),Sv=Ix||Uo,Tx=Dn("Gecko")&&!(Nh().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),lV=Nh().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge");function kx(){var t=J.document;return t?t.documentMode:void 0}var ld;e:{var Tm="",km=function(){var t=Nh();if(Tx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ix)return/Edge\/([\d\.]+)/.exec(t);if(Uo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lV)return/WebKit\/(\S+)/.exec(t);if(aV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(km&&(Tm=km?km[1]:""),Uo){var Cm=kx();if(Cm!=null&&Cm>parseFloat(Tm)){ld=String(Cm);break e}}ld=Tm}var uV={};function cV(){return oV(function(){let t=0;const e=cE(String(ld)).split("."),n=cE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Im(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Im(i[2].length==0,s[2].length==0)||Im(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var bv;if(J.document&&Uo){var fE=kx();bv=fE||parseInt(ld,10)||void 0}else bv=void 0;var fV=bv;function Bl(t,e){if(kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Tx){e:{try{V0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bl.X.h.call(this)}}wt(Bl,kt);var dV={2:"touch",3:"pen",4:"mouse"};Bl.prototype.h=function(){Bl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _u="closure_listenable_"+(1e6*Math.random()|0),hV=0;function pV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++hV,this.ba=this.ea=!1}function Ph(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function B0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Cx(t){const e={};for(const n in t)e[n]=t[n];return e}const dE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<dE.length;s++)n=dE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dh(t){this.src=t,this.g={},this.h=0}Dh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=_v(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new pV(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Ev(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_x(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ph(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _v(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var q0="closure_lm_"+(1e6*Math.random()|0),xm={};function Ox(t,e,n,r,i){if(r&&r.once)return Nx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ox(t,e[s],n,r,i);return null}return n=G0(n),t&&t[_u]?t.N(e,n,Eu(r)?!!r.capture:!!r,i):Ax(t,e,n,!1,r,i)}function Ax(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Eu(i)?!!i.capture:!!i,a=H0(t);if(a||(t[q0]=a=new Dh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=mV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)sV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function mV(){function t(n){return e.call(t.src,t.listener,n)}const e=gV;return t}function Nx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nx(t,e[s],n,r,i);return null}return n=G0(n),t&&t[_u]?t.O(e,n,Eu(r)?!!r.capture:!!r,i):Ax(t,e,n,!0,r,i)}function Px(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Px(t,e[s],n,r,i);else r=Eu(r)?!!r.capture:!!r,n=G0(n),t&&t[_u]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=_v(s,n,r,i),-1<n&&(Ph(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=H0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_v(e,n,r,i)),(n=-1<t?e[t]:null)&&W0(n))}function W0(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[_u])Ev(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=H0(e))?(Ev(n,t),n.h==0&&(n.src=null,e[q0]=null)):Ph(t)}}}function Dx(t){return t in xm?xm[t]:xm[t]="on"+t}function gV(t,e){if(t.ba)t=!0;else{e=new Bl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&W0(t),t=n.call(r,e)}return t}function H0(t){return t=t[q0],t instanceof Dh?t:null}var Om="__closure_events_fn_"+(1e9*Math.random()>>>0);function G0(t){return typeof t=="function"?t:(t[Om]||(t[Om]=function(e){return t.handleEvent(e)}),t[Om])}function lt(){Ti.call(this),this.i=new Dh(this),this.P=this,this.I=null}wt(lt,Ti);lt.prototype[_u]=!0;lt.prototype.removeEventListener=function(t,e,n,r){Px(this,t,e,n,r)};function gt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new kt(e,t);else if(e instanceof kt)e.target=e.target||t;else{var i=e;e=new kt(r,t),xx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bc(o,r,!0,e)&&i}if(o=e.g=t,i=bc(o,r,!0,e)&&i,i=bc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=bc(o,r,!1,e)&&i}lt.prototype.M=function(){if(lt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ph(n[r]);delete t.g[e],t.h--}}this.I=null};lt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Ev(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var K0=J.JSON.stringify;function vV(){var t=Lx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yV{constructor(){this.h=this.g=null}add(e,n){const r=Rx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Rx=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new wV,t=>t.reset());class wV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function SV(t){J.setTimeout(()=>{throw t},0)}function Mx(t,e){Iv||bV(),Tv||(Iv(),Tv=!0),Lx.add(t,e)}var Iv;function bV(){var t=J.Promise.resolve(void 0);Iv=function(){t.then(EV)}}var Tv=!1,Lx=new yV;function EV(){for(var t;t=vV();){try{t.h.call(t.g)}catch(n){SV(n)}var e=Rx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Tv=!1}function Rh(t,e){lt.call(this),this.h=t||1,this.g=e||J,this.j=Tt(this.lb,this),this.l=Date.now()}wt(Rh,lt);V=Rh.prototype;V.ca=!1;V.R=null;V.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gt(this,"tick"),this.ca&&(Q0(this),this.start()))}};V.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Q0(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}V.M=function(){Rh.X.M.call(this),Q0(this),delete this.g};function Y0(t,e,n){if(typeof t=="function")n&&(t=Tt(t,n));else if(t&&typeof t.handleEvent=="function")t=Tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function $x(t){t.g=Y0(()=>{t.g=null,t.i&&(t.i=!1,$x(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class _V extends Ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$x(this)}M(){super.M(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ql(t){Ti.call(this),this.h=t,this.g={}}wt(ql,Ti);var hE=[];function Fx(t,e,n,r){Array.isArray(n)||(n&&(hE[0]=n.toString()),n=hE);for(var i=0;i<n.length;i++){var s=Ox(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ux(t){B0(t.g,function(e,n){this.g.hasOwnProperty(n)&&W0(e)},t),t.g={}}ql.prototype.M=function(){ql.X.M.call(this),Ux(this)};ql.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mh(){this.g=!0}Mh.prototype.Aa=function(){this.g=!1};function IV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var f=c.split("_");o=2<=f.length&&f[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function TV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function co(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CV(t,n)+(r?" "+r:"")})}function kV(t,e){t.info(function(){return"TIMEOUT: "+e})}Mh.prototype.info=function(){};function CV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return K0(n)}catch{return e}}var Ms={},pE=null;function Lh(){return pE=pE||new lt}Ms.Pa="serverreachability";function zx(t){kt.call(this,Ms.Pa,t)}wt(zx,kt);function Wl(t){const e=Lh();gt(e,new zx(e))}Ms.STAT_EVENT="statevent";function jx(t,e){kt.call(this,Ms.STAT_EVENT,t),this.stat=e}wt(jx,kt);function Dt(t){const e=Lh();gt(e,new jx(e,t))}Ms.Qa="timingevent";function Vx(t,e){kt.call(this,Ms.Qa,t),this.size=e}wt(Vx,kt);function Iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var $h={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Bx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function X0(){}X0.prototype.h=null;function mE(t){return t.h||(t.h=t.i())}function qx(){}var Tu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function J0(){kt.call(this,"d")}wt(J0,kt);function Z0(){kt.call(this,"c")}wt(Z0,kt);var kv;function Fh(){}wt(Fh,X0);Fh.prototype.g=function(){return new XMLHttpRequest};Fh.prototype.i=function(){return{}};kv=new Fh;function ku(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ql(this),this.O=xV,t=Sv?125:void 0,this.T=new Rh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wx}function Wx(){this.i=null,this.g="",this.h=!1}var xV=45e3,Cv={},ud={};V=ku.prototype;V.setTimeout=function(t){this.O=t};function xv(t,e,n){t.K=1,t.v=zh(pr(e)),t.s=n,t.P=!0,Hx(t,null)}function Hx(t,e){t.F=Date.now(),Cu(t),t.A=pr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),eO(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Wx,t.g=bO(t.l,n?e:null,!t.s),0<t.N&&(t.L=new _V(Tt(t.La,t,t.g),t.N)),Fx(t.S,t.g,"readystatechange",t.ib),e=t.H?Cx(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Wl(),IV(t.j,t.u,t.A,t.m,t.U,t.s)}V.ib=function(t){t=t.target;const e=this.L;e&&tr(t)==3?e.l():this.La(t)};V.La=function(t){try{if(t==this.g)e:{const c=tr(this.g);var e=this.g.Ea();const f=this.g.aa();if(!(3>c)&&(c!=3||Sv||this.g&&(this.h.h||this.g.fa()||wE(this.g)))){this.I||c!=4||e==7||(e==8||0>=f?Wl(3):Wl(2)),Uh(this);var n=this.g.aa();this.Y=n;t:if(Gx(this)){var r=wE(this.g);t="";var i=r.length,s=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qi(this),rl(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,TV(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ad(a)){var u=a;break t}}u=null}if(n=u)co(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ov(this,n);else{this.i=!1,this.o=3,Dt(12),Qi(this),rl(this);break e}}this.P?(Kx(this,c,o),Sv&&this.i&&c==3&&(Fx(this.S,this.T,"tick",this.hb),this.T.start())):(co(this.j,this.m,o,null),Ov(this,o)),c==4&&Qi(this),this.i&&!this.I&&(c==4?vO(this.l,this):(this.i=!1,Cu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Dt(12)):(this.o=0,Dt(13)),Qi(this),rl(this)}}}catch{}finally{}};function Gx(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Kx(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=OV(t,n),i==ud){e==4&&(t.o=4,Dt(14),r=!1),co(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Cv){t.o=4,Dt(15),co(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else co(t.j,t.m,i,null),Ov(t,i);Gx(t)&&i!=ud&&i!=Cv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Dt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ow(e),e.K=!0,Dt(11))):(co(t.j,t.m,n,"[Invalid Chunked Response]"),Qi(t),rl(t))}V.hb=function(){if(this.g){var t=tr(this.g),e=this.g.fa();this.C<e.length&&(Uh(this),Kx(this,t,e),this.i&&t!=4&&Cu(this))}};function OV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ud:(n=Number(e.substring(n,r)),isNaN(n)?Cv:(r+=1,r+n>e.length?ud:(e=e.substr(r,n),t.C=r+n,e)))}V.cancel=function(){this.I=!0,Qi(this)};function Cu(t){t.V=Date.now()+t.O,Qx(t,t.O)}function Qx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Iu(Tt(t.gb,t),e)}function Uh(t){t.B&&(J.clearTimeout(t.B),t.B=null)}V.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(kV(this.j,this.A),this.K!=2&&(Wl(),Dt(17)),Qi(this),this.o=2,rl(this)):Qx(this,this.V-t)};function rl(t){t.l.G==0||t.I||vO(t.l,t)}function Qi(t){Uh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Q0(t.T),Ux(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ov(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Av(n.h,t))){if(!t.J&&Av(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)dd(n),Bh(n);else break e;sw(n),Dt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Iu(Tt(n.cb,n),6e3));if(1>=rO(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Yi(n,11)}else if((t.J||n.g==t)&&dd(n),!ad(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const f=u[4];f!=null&&(n.Ca=f,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.h;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ew(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ne(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=SO(r,r.H?r.ka:null,r.V),o.J){iO(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Uh(a),Cu(a)),r.g=o}else mO(r);0<n.i.length&&qh(n)}else u[0]!="stop"&&u[0]!="close"||Yi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Yi(n,7):iw(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Wl(4)}catch{}}function AV(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ah(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function NV(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ah(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ah(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=NV(t),r=AV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Xx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ss(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ss){this.h=e!==void 0?e:t.h,cd(this,t.j),this.s=t.s,this.g=t.g,fd(this,t.m),this.l=t.l,e=t.i;var n=new Hl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),gE(this,n),this.o=t.o}else t&&(n=String(t).match(Xx))?(this.h=!!e,cd(this,n[1]||"",!0),this.s=za(n[2]||""),this.g=za(n[3]||"",!0),fd(this,n[4]),this.l=za(n[5]||"",!0),gE(this,n[6]||"",!0),this.o=za(n[7]||"")):(this.h=!!e,this.i=new Hl(null,this.h))}ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ja(e,vE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ja(e,vE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ja(n,n.charAt(0)=="/"?MV:RV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ja(n,$V)),t.join("")};function pr(t){return new ss(t)}function cd(t,e,n){t.j=n?za(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function fd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function gE(t,e,n){e instanceof Hl?(t.i=e,FV(t.i,t.h)):(n||(e=ja(e,LV)),t.i=new Hl(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function zh(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function za(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ja(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,DV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function DV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var vE=/[#\/\?@]/g,RV=/[#\?:]/g,MV=/[#\?]/g,LV=/[#\?@]/g,$V=/#/g;function Hl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ki(t){t.g||(t.g=new Map,t.h=0,t.i&&PV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Hl.prototype;V.add=function(t,e){ki(this),this.i=null,t=aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Jx(t,e){ki(t),e=aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Zx(t,e){return ki(t),e=aa(t,e),t.g.has(e)}V.forEach=function(t,e){ki(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.oa=function(){ki(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.W=function(t){ki(this);let e=[];if(typeof t=="string")Zx(this,t)&&(e=e.concat(this.g.get(aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return ki(this),this.i=null,t=aa(this,t),Zx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function eO(t,e,n){Jx(t,e),0<n.length&&(t.i=null,t.g.set(aa(t,e),j0(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FV(t,e){e&&!t.j&&(ki(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Jx(this,r),eO(this,i,n))},t)),t.j=e}var UV=class{constructor(e,n){this.h=e,this.g=n}};function tO(t){this.l=t||zV,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ga&&J.g.Ga()&&J.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zV=10;function nO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rO(t){return t.h?1:t.g?t.g.size:0}function Av(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ew(t,e){t.g?t.g.add(e):t.h=e}function iO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tO.prototype.cancel=function(){if(this.i=sO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sO(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return j0(t.i)}function tw(){}tw.prototype.stringify=function(t){return J.JSON.stringify(t,void 0)};tw.prototype.parse=function(t){return J.JSON.parse(t,void 0)};function jV(){this.g=new tw}function VV(t,e,n){const r=n||"";try{Yx(t,function(i,s){let o=i;Eu(i)&&(o=K0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BV(t,e){const n=new Mh;if(J.Image){const r=new Image;r.onload=Sc(Ec,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sc(Ec,n,r,"TestLoadImage: error",!1,e),r.onabort=Sc(Ec,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sc(Ec,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ec(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xu(t){this.l=t.ac||null,this.j=t.jb||!1}wt(xu,X0);xu.prototype.g=function(){return new jh(this.l,this.j)};xu.prototype.i=function(t){return function(){return t}}({});function jh(t,e){lt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=nw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt(jh,lt);var nw=0;V=jh.prototype;V.open=function(t,e){if(this.readyState!=nw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Gl(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||J).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ou(this)),this.readyState=nw};V.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Gl(this)),this.g&&(this.readyState=3,Gl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oO(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function oO(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}V.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ou(this):Gl(this),this.readyState==3&&oO(this)}};V.Va=function(t){this.g&&(this.response=this.responseText=t,Ou(this))};V.Ua=function(t){this.g&&(this.response=t,Ou(this))};V.ga=function(){this.g&&Ou(this)};function Ou(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Gl(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qV=J.JSON.parse;function je(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aO,this.K=this.L=!1}wt(je,lt);var aO="",WV=/^https?$/i,HV=["POST","PUT"];V=je.prototype;V.Ka=function(t){this.L=t};V.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kv.g(),this.C=this.u?mE(this.u):mE(kv),this.g.onreadystatechange=Tt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){yE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=_x(HV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cO(this),0<this.B&&((this.K=GV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.qa,this)):this.A=Y0(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){yE(this,s)}};function GV(t){return Uo&&cV()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.qa=function(){typeof z0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function yE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lO(t),Vh(t)}function lO(t){t.D||(t.D=!0,gt(t,"complete"),gt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),Vh(this))};V.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vh(this,!0)),je.X.M.call(this)};V.Ha=function(){this.s||(this.F||this.v||this.l?uO(this):this.fb())};V.fb=function(){uO(this)};function uO(t){if(t.h&&typeof z0<"u"&&(!t.C[1]||tr(t)!=4||t.aa()!=2)){if(t.v&&tr(t)==4)Y0(t.Ha,0,t);else if(gt(t,"readystatechange"),tr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Xx)[1]||null;if(!i&&J.self&&J.self.location){var s=J.self.location.protocol;i=s.substr(0,s.length-1)}r=!WV.test(i?i.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var o=2<tr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",lO(t)}}finally{Vh(t)}}}}function Vh(t,e){if(t.g){cO(t);const n=t.g,r=t.C[0]?od:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function cO(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}function tr(t){return t.g?t.g.readyState:0}V.aa=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}};V.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qV(e)}};function wE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case aO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}V.Ea=function(){return this.m};V.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fO(t){let e="";return B0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ta(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dO(t){this.Ca=0,this.i=[],this.j=new Mh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ta("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ta("baseRetryDelayMs",5e3,t),this.bb=Ta("retryDelaySeedMs",1e4,t),this.$a=Ta("forwardChannelMaxRetries",2,t),this.ta=Ta("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new tO(t&&t.concurrentRequestLimit),this.Fa=new jV,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}V=dO.prototype;V.ma=8;V.G=1;function iw(t){if(hO(t),t.G==3){var e=t.U++,n=pr(t.F);Ne(n,"SID",t.I),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Au(t,n),e=new ku(t,t.j,e,void 0),e.K=2,e.v=zh(pr(n)),n=!1,J.navigator&&J.navigator.sendBeacon&&(n=J.navigator.sendBeacon(e.v.toString(),"")),!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=bO(e.l,null),e.g.da(e.v)),e.F=Date.now(),Cu(e)}wO(t)}function Bh(t){t.g&&(ow(t),t.g.cancel(),t.g=null)}function hO(t){Bh(t),t.u&&(J.clearTimeout(t.u),t.u=null),dd(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function qh(t){nO(t.h)||t.m||(t.m=!0,Mx(t.Ja,t),t.C=0)}function KV(t,e){return rO(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Iu(Tt(t.Ja,t,e),yO(t,t.C)),t.C++,!0)}V.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new ku(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Cx(s),xx(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pO(this,i,e),n=pr(this.F),Ne(n,"RID",t),Ne(n,"CVER",22),this.D&&Ne(n,"X-HTTP-Session-Id",this.D),Au(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(fO(s)))+"&"+e:this.o&&rw(n,this.o,s)),ew(this.h,i),this.Ya&&Ne(n,"TYPE","init"),this.O?(Ne(n,"$req",e),Ne(n,"SID","null"),i.Z=!0,xv(i,n,null)):xv(i,n,e),this.G=2}}else this.G==3&&(t?SE(this,t):this.i.length==0||nO(this.h)||SE(this))};function SE(t,e){var n;e?n=e.m:n=t.U++;const r=pr(t.F);Ne(r,"SID",t.I),Ne(r,"RID",n),Ne(r,"AID",t.T),Au(t,r),t.o&&t.s&&rw(r,t.o,t.s),n=new ku(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=pO(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ew(t.h,n),xv(n,r,e)}function Au(t,e){t.ia&&B0(t.ia,function(n,r){Ne(e,r,n)}),t.l&&Yx({},function(n,r){Ne(e,r,n)})}function pO(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Tt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{VV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function mO(t){t.g||t.u||(t.Z=1,Mx(t.Ia,t),t.A=0)}function sw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Iu(Tt(t.Ia,t),yO(t,t.A)),t.A++,!0)}V.Ia=function(){if(this.u=null,gO(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Iu(Tt(this.eb,this),t)}};V.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Dt(10),Bh(this),gO(this))};function ow(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function gO(t){t.g=new ku(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=pr(t.sa);Ne(e,"RID","rpc"),Ne(e,"SID",t.I),Ne(e,"CI",t.L?"0":"1"),Ne(e,"AID",t.T),Ne(e,"TYPE","xmlhttp"),Au(t,e),t.o&&t.s&&rw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=zh(pr(e)),n.s=null,n.P=!0,Hx(n,t)}V.cb=function(){this.v!=null&&(this.v=null,Bh(this),sw(this),Dt(19))};function dd(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function vO(t,e){var n=null;if(t.g==e){dd(t),ow(t),t.g=null;var r=2}else if(Av(t.h,e))n=e.D,iO(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Lh(),gt(r,new Vx(r,n)),qh(t)}else mO(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&KV(t,e)||r==2&&sw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Yi(t,5);break;case 4:Yi(t,10);break;case 3:Yi(t,6);break;default:Yi(t,2)}}}function yO(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Yi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Tt(t.kb,t);n||(n=new ss("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||cd(n,"https"),zh(n)),BV(n.toString(),r)}else Dt(2);t.G=0,t.l&&t.l.va(e),wO(t),hO(t)}V.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function wO(t){if(t.G=0,t.la=[],t.l){const e=sO(t.h);(e.length!=0||t.i.length!=0)&&(uE(t.la,e),uE(t.la,t.i),t.h.i.length=0,j0(t.i),t.i.length=0),t.l.ua()}}function SO(t,e,n){var r=n instanceof ss?pr(n):new ss(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),fd(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ss(null,void 0);r&&cd(s,r),e&&(s.g=e),i&&fd(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ma),Au(t,r),r}function bO(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new je(new xu({jb:!0})):new je(t.ra),e.Ka(t.H),e}function EO(){}V=EO.prototype;V.xa=function(){};V.wa=function(){};V.va=function(){};V.ua=function(){};V.Ra=function(){};function hd(){if(Uo&&!(10<=Number(fV)))throw Error("Environmental error: no available transport.")}hd.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){lt.call(this),this.g=new dO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ad(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ad(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new la(this)}wt(tn,lt);tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Dt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=SO(t,null,t.V),qh(t)};tn.prototype.close=function(){iw(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=K0(t),t=n);e.i.push(new UV(e.ab++,t)),e.G==3&&qh(e)};tn.prototype.M=function(){this.g.l=null,delete this.j,iw(this.g),delete this.g,tn.X.M.call(this)};function _O(t){J0.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}wt(_O,J0);function IO(){Z0.call(this),this.status=1}wt(IO,Z0);function la(t){this.g=t}wt(la,EO);la.prototype.xa=function(){gt(this.g,"a")};la.prototype.wa=function(t){gt(this.g,new _O(t))};la.prototype.va=function(t){gt(this.g,new IO)};la.prototype.ua=function(){gt(this.g,"b")};hd.prototype.createWebChannel=hd.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;$h.NO_ERROR=0;$h.TIMEOUT=8;$h.HTTP_ERROR=6;Bx.COMPLETE="complete";qx.EventType=Tu;Tu.OPEN="a";Tu.CLOSE="b";Tu.ERROR="c";Tu.MESSAGE="d";lt.prototype.listen=lt.prototype.N;je.prototype.listenOnce=je.prototype.O;je.prototype.getLastError=je.prototype.Oa;je.prototype.getLastErrorCode=je.prototype.Ea;je.prototype.getStatus=je.prototype.aa;je.prototype.getResponseJson=je.prototype.Sa;je.prototype.getResponseText=je.prototype.fa;je.prototype.send=je.prototype.da;je.prototype.setWithCredentials=je.prototype.Ka;var QV=function(){return new hd},YV=function(){return Lh()},Am=$h,XV=Bx,JV=Ms,bE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ZV=xu,_c=qx,e5=je;const EE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Ih("@firebase/firestore");function Nv(){return hi.logLevel}function t5(t){hi.setLogLevel(t)}function N(t,...e){if(hi.logLevel<=ue.DEBUG){const n=e.map(aw);hi.debug(`Firestore (${ua}): ${t}`,...n)}}function We(t,...e){if(hi.logLevel<=ue.ERROR){const n=e.map(aw);hi.error(`Firestore (${ua}): ${t}`,...n)}}function mr(t,...e){if(hi.logLevel<=ue.WARN){const n=e.map(aw);hi.warn(`Firestore (${ua}): ${t}`,...n)}}function aw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+t;throw We(e),new Error(e)}function B(t,e){t||F()}function n5(t,e){t||F()}function L(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class i5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s5{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new at;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new at,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new at)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(B(typeof r.accessToken=="string"),new TO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(e===null||typeof e=="string"),new it(e)}}class o5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class a5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new o5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B(typeof n.token=="string"),this.T=n.token,new l5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=c5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function zo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function CO(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new De(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new De(0,0))}static max(){return new W(new De(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&F(),r===void 0?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ce extends Kl{construct(e,n,r){return new ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ce(n)}static emptyPath(){return new ce([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends Kl{construct(e,n,r){return new He(e,n,r)}static isValidIdentifier(e){return f5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new He(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(ce.fromString(e))}static fromName(e){return new M(ce.fromString(e).popFirst(5))}static empty(){return new M(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ce(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Pv(t){return t.fields.find(e=>e.kind===2)}function Fi(t){return t.fields.filter(e=>e.kind!==2)}xO.UNKNOWN_ID=-1;class d5{constructor(e,n){this.fieldPath=e,this.kind=n}}class pd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new pd(0,nn.min())}}function OO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new De(n+1,0):new De(n,r));return new nn(i,M.empty(),e)}function AO(t){return new nn(t.readTime,t.key,-1)}class nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new nn(W.min(),M.empty(),-1)}static max(){return new nn(W.max(),M.empty(),-1)}}function lw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==NO)throw t;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.R=new at,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new il(e,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=uw(r.target.error);this.R.reject(new il(e,i))}}static open(e,n,r,i){try{return new Wh(n,e.transaction(i,r))}catch(s){throw new il(n,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new p5(n)}}class In{constructor(e,n,r){this.name=e,this.version=n,this.V=r,In.S(et())===12.2&&We("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),Ui(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!kC())return!1;if(In.C())return!0;const e=et(),n=In.S(e),r=0<n&&n<10,i=In.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static O(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new O(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new O(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new il(e,o))},i.onupgradeneeded=s=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.M(o,i.transaction,s.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=Wh.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(N("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class h5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ui(this.L.delete())}}class il extends O{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xi(t){return t.name==="IndexedDbTransactionError"}class p5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ui(r)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),Ui(this.store.add(e))}get(e){return Ui(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),Ui(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),Ui(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new T((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){N("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}X(e){const n=this.cursor({});return new T((r,i)=>{n.onerror=s=>{const o=uw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new T((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new h5(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(f=>(l.done(),T.reject(f)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ui(t){return new T((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=uw(r.target.error);n(i)}})}let _E=!1;function uw(t){const e=In.S(et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _E||(_E=!0,setTimeout(()=>{throw r},0)),r}}return t}class m5{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){N("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{N("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){xi(n)?N("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ci(n)}await this.et(6e4)})}}class g5{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return T.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return N("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(N("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=AO(s);lw(o,r)>0&&(r=o)}),new nn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Vt.ct=-1;function Nu(t){return t==null}function Ql(t){return t===0&&1/t==-1/0}function DO(t){return typeof t=="number"&&Number.isInteger(t)&&!Ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=IE(e)),e=v5(t.get(n),e);return IE(e)}function v5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function IE(t){return t+""}function Mn(t){const e=t.length;if(B(e>=2),e===2)return B(t.charAt(0)===""&&t.charAt(1)===""),ce.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&F(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:F()}s=o+2}return new ce(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e){return[t,Mt(e)]}function RO(t,e,n){return[t,Mt(e),n]}const y5={},w5=["prefixPath","collectionGroup","readTime","documentId"],S5=["prefixPath","collectionGroup","documentId"],b5=["collectionGroup","readTime","prefixPath","documentId"],E5=["canonicalId","targetId"],_5=["targetId","path"],I5=["path","targetId"],T5=["collectionId","parent"],k5=["indexId","uid"],C5=["uid","sequenceNumber"],x5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],O5=["indexId","uid","orderedDocumentKey"],A5=["userId","collectionPath","documentId"],N5=["userId","collectionPath","largestBatchId"],P5=["userId","collectionGroup","largestBatchId"],MO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],D5=[...MO,"documentOverlays"],LO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$O=LO,R5=[...$O,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv extends PO{constructor(e,n){super(),this.at=e,this.currentSequenceNumber=n}}function ct(t,e){const n=L(t);return In.O(n.at,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ht(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ve)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ve(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new ve(He.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new M5("Invalid base64 string: "+i):i}}(e);return new tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const $5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(B(!!t),typeof t=="string"){let e=0;const n=$5.exec(t);if(B(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UO(t){const e=t.mapValue.fields.__previous_value__;return cw(e)?UO(e):e}function Yl(t){const e=pi(t.mapValue.fields.__local_write_time__.timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class mi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new mi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof mi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Yc={nullValue:"NULL_VALUE"};function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cw(t)?4:zO(t)?9007199254740991:10:F()}function Hn(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yl(t).isEqual(Yl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=pi(r.timestampValue),o=pi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ws(r.bytesValue).isEqual(ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ue(r.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ue(r.integerValue)===Ue(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ue(r.doubleValue),o=Ue(i.doubleValue);return s===o?Ql(s)===Ql(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return zo(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(kE(s)!==kE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Hn(s[a],o[a])))return!1;return!0}(t,e);default:return F()}}function Xl(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function gi(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ue(i.integerValue||i.doubleValue),a=Ue(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xE(t.timestampValue,e.timestampValue);case 4:return xE(Yl(t),Yl(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ws(i),a=ws(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Z(o[l],a[l]);if(u!==0)return u}return Z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Z(Ue(i.latitude),Ue(s.latitude));return o!==0?o:Z(Ue(i.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=gi(o[l],a[l]);if(u)return u}return Z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qr.mapValue&&s===qr.mapValue)return 0;if(i===qr.mapValue)return 1;if(s===qr.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const f=Z(a[c],u[c]);if(f!==0)return f;const d=gi(o[a[c]],l[u[c]]);if(d!==0)return d}return Z(a.length,u.length)}(t.mapValue,e.mapValue);default:throw F()}}function xE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=pi(t),r=pi(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function jo(t){return Rv(t)}function Rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=pi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ws(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Rv(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e,n}function bs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mv(t){return!!t&&"integerValue"in t}function Jl(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function AE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xc(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function U5(t){return"nullValue"in t?Yc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?bs(mi.empty(),M.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:F()}function z5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?bs(mi.empty(),M.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?qr:F()}function NE(t,e){const n=gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PE(t,e){const n=gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.value=e}static empty(){return new pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=He.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new pt(sl(this.value))}}function jO(t){const e=[];return Ls(t.fields,(n,r)=>{const i=new He([n]);if(Xc(r)){const s=jO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _e(e,0,W.min(),W.min(),W.min(),pt.empty(),0)}static newFoundDocument(e,n,r,i){return new _e(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new _e(e,2,n,W.min(),W.min(),pt.empty(),0)}static newUnknownDocument(e,n){return new _e(e,3,n,W.min(),W.min(),pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this.position=e,this.inclusive=n}}function DE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=gi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n="asc"){this.field=e,this.dir=n}}function j5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{}class se extends VO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new V5(e,n,r):n==="array-contains"?new W5(e,r):n==="in"?new KO(e,r):n==="not-in"?new H5(e,r):n==="array-contains-any"?new G5(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B5(e,r):new q5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gi(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class he extends VO{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new he(e,n)}matches(e){return Vo(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Vo(t){return t.op==="and"}function Lv(t){return t.op==="or"}function fw(t){return BO(t)&&Vo(t)}function BO(t){for(const e of t.filters)if(e instanceof he)return!1;return!0}function $v(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(fw(t))return t.filters.map(e=>$v(e)).join(",");{const e=t.filters.map(n=>$v(n)).join(",");return`${t.op}(${e})`}}function qO(t,e){return t instanceof se?function(n,r){return r instanceof se&&n.op===r.op&&n.field.isEqual(r.field)&&Hn(n.value,r.value)}(t,e):t instanceof he?function(n,r){return r instanceof he&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&qO(s,r.filters[o]),!0):!1}(t,e):void F()}function WO(t,e){const n=t.filters.concat(e);return he.create(n,t.op)}function HO(t){return t instanceof se?function(e){return`${e.field.canonicalString()} ${e.op} ${jo(e.value)}`}(t):t instanceof he?function(e){return e.op.toString()+" {"+e.getFilters().map(HO).join(" ,")+"}"}(t):"Filter"}class V5 extends se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class B5 extends se{constructor(e,n){super(e,"in",n),this.keys=GO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q5 extends se{constructor(e,n){super(e,"not-in",n),this.keys=GO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class W5 extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jl(n)&&Xl(n.arrayValue,this.value)}}class KO extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class H5 extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class G5 extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Fv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new K5(t,e,n,r,i,s,o)}function Es(t){const e=L(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.ft=n}return e.ft}function Pu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!j5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RE(t.startAt,e.startAt)&&RE(t.endAt,e.endAt)}function md(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function gd(t,e){return t.filters.filter(n=>n instanceof se&&n.field.isEqual(e))}function ME(t,e,n){let r=Yc,i=!0;for(const s of gd(t,e)){let o=Yc,a=!0;switch(s.op){case"<":case"<=":o=U5(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Yc}NE({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];NE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function LE(t,e,n){let r=qr,i=!0;for(const s of gd(t,e)){let o=qr,a=!0;switch(s.op){case">=":case">":o=z5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=qr}PE({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function QO(t,e,n,r,i,s,o,a){return new wr(t,e,n,r,i,s,o,a)}function ca(t){return new wr(t)}function $E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function hw(t){return t.collectionGroup!==null}function os(t){const e=L(t);if(e.dt===null){e.dt=[];const n=Hh(e),r=dw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new To(n)),e.dt.push(new To(He.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new To(He.keyField(),s))}}}return e.dt}function Kt(t){const e=L(t);if(!e.wt)if(e.limitType==="F")e.wt=Fv(e.path,e.collectionGroup,os(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of os(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new To(s.field,o))}const r=e.endAt?new vi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new vi(e.startAt.position,e.startAt.inclusive):null;e.wt=Fv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Uv(t,e){e.getFirstInequalityField(),Hh(t);const n=t.filters.concat([e]);return new wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vd(t,e,n){return new wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Du(t,e){return Pu(Kt(t),Kt(e))&&t.limitType===e.limitType}function YO(t){return`${Es(Kt(t))}|lt:${t.limitType}`}function zv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HO(r)).join(", ")}]`),Nu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),`Target(${n})`}(Kt(t))}; limitType=${t.limitType})`}function Ru(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of os(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=DE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,os(n),r)||n.endAt&&!function(i,s,o){const a=DE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,os(n),r))}(t,e)}function XO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JO(t){return(e,n)=>{let r=!1;for(const i of os(t)){const s=Q5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Q5(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?gi(a,l):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Ve(M.comparator);function qt(){return Y5}const ZO=new Ve(M.comparator);function Va(...t){let e=ZO;for(const n of t)e=e.insert(n.key,n);return e}function eA(t){let e=ZO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ln(){return ol()}function tA(){return ol()}function ol(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const X5=new Ve(M.comparator),J5=new ve(M.comparator);function ee(...t){let e=J5;for(const n of t)e=e.add(n);return e}const Z5=new ve(Z);function Gh(){return Z5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function rA(t){return{integerValue:""+t}}function iA(t,e){return DO(e)?rA(e):nA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function eB(t,e,n){return t instanceof Bo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof _s?oA(t,e):t instanceof Is?aA(t,e):function(r,i){const s=sA(r,i),o=FE(s)+FE(r._t);return Mv(s)&&Mv(r._t)?rA(o):nA(r.serializer,o)}(t,e)}function tB(t,e,n){return t instanceof _s?oA(t,e):t instanceof Is?aA(t,e):n}function sA(t,e){return t instanceof qo?Mv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Bo extends Kh{}class _s extends Kh{constructor(e){super(),this.elements=e}}function oA(t,e){const n=lA(e);for(const r of t.elements)n.some(i=>Hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Is extends Kh{constructor(e){super(),this.elements=e}}function aA(t,e){let n=lA(e);for(const r of t.elements)n=n.filter(i=>!Hn(i,r));return{arrayValue:{values:n}}}class qo extends Kh{constructor(e,n){super(),this.serializer=e,this._t=n}}function FE(t){return Ue(t.integerValue||t.doubleValue)}function lA(t){return Jl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.field=e,this.transform=n}}function nB(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof _s&&r instanceof _s||n instanceof Is&&r instanceof Is?zo(n.elements,r.elements,Hn):n instanceof qo&&r instanceof qo?Hn(n._t,r._t):n instanceof Bo&&r instanceof Bo}(t.transform,e.transform)}class rB{constructor(e,n){this.version=e,this.transformResults=n}}class Pe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pe}static exists(e){return new Pe(void 0,e)}static updateTime(e){return new Pe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qh{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new da(t.key,Pe.none()):new fa(t.key,t.data,Pe.none());{const n=t.data,r=pt.empty();let i=new ve(He.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Sr(t.key,r,new Bt(i.toArray()),Pe.none())}}function iB(t,e,n){t instanceof fa?function(r,i,s){const o=r.value.clone(),a=zE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(r,i,s){if(!Jc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=zE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(cA(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof fa?function(i,s,o,a){if(!Jc(i.precondition,s))return o;const l=i.value.clone(),u=jE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sr?function(i,s,o,a){if(!Jc(i.precondition,s))return o;const l=jE(i.fieldTransforms,a,s),u=s.data;return u.setAll(cA(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Jc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function sB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sA(r.transform,i||null);s!=null&&(n===null&&(n=pt.empty()),n.set(r.field,s))}return n||null}function UE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&zo(n,r,(i,s)=>nB(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fa extends Qh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends Qh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zE(t,e,n){const r=new Map;B(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tB(o,a,n[i]))}return r}function jE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eB(s,o,e))}return r}class da extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pw extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=uA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,r)=>UE(n,r))&&zo(this.baseMutations,e.baseMutations,(n,r)=>UE(n,r))}}class gw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){B(e.mutations.length===r.length);let i=X5;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new gw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,le;function fA(t){switch(t){default:return F();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function dA(t){if(t===void 0)return We("GRPC error has no .code"),k.UNKNOWN;switch(t){case Qe.OK:return k.OK;case Qe.CANCELLED:return k.CANCELLED;case Qe.UNKNOWN:return k.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return k.INTERNAL;case Qe.UNAVAILABLE:return k.UNAVAILABLE;case Qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Qe.NOT_FOUND:return k.NOT_FOUND;case Qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Qe.ABORTED:return k.ABORTED;case Qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Qe.DATA_LOSS:return k.DATA_LOSS;default:return F()}}(le=Qe||(Qe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tc}static getOrCreateInstance(){return Tc===null&&(Tc=new yw),Tc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Tc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lu(W.min(),i,Gh(),qt(),ee())}}class $u{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $u(r,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hA{constructor(e,n){this.targetId=e,this.Et=n}}class pA{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VE{constructor(){this.At=0,this.Rt=qE(),this.vt=tt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ee(),n=ee(),r=ee();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new $u(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=qE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class aB{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=qt(),this.qt=BE(),this.Ut=new ve(Z)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(md(o))if(i===0){const a=new M(o.path);this.Qt(r,a,_e.newNoDocument(a,W.min()))}else B(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=yw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&md(a.target)){const l=new M(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,_e.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ee();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Lu(e,n,this.Ut,this.Lt,r);return this.Lt=qt(),this.qt=BE(),this.Ut=new ve(Z),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new VE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new ve(Z),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new VE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function BE(){return new Ve(M.comparator)}function qE(){return new Ve(M.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cB=(()=>({and:"AND",or:"OR"}))();class fB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dB(t,e){return Wo(t,e.toTimestamp())}function Ge(t){return B(!!t),W.fromTimestamp(function(e){const n=pi(e);return new De(n.seconds,n.nanos)}(t))}function ww(t,e){return function(n){return new ce(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gA(t){const e=ce.fromString(t);return B(TA(e)),e}function Zl(t,e){return ww(t.databaseId,e.path)}function qn(t,e){const n=gA(e);if(n.get(1)!==t.databaseId.projectId)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(yA(n))}function jv(t,e){return ww(t.databaseId,e)}function vA(t){const e=gA(t);return e.length===4?ce.emptyPath():yA(e)}function eu(t){return new ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yA(t){return B(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function WE(t,e,n){return{name:Zl(t,e),fields:n.value.mapValue.fields}}function wA(t,e,n){const r=qn(t,e.name),i=Ge(e.updateTime),s=e.createTime?Ge(e.createTime):W.min(),o=new pt({mapValue:{fields:e.fields}}),a=_e.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function hB(t,e){return"found"in e?function(n,r){B(!!r.found),r.found.name,r.found.updateTime;const i=qn(n,r.found.name),s=Ge(r.found.updateTime),o=r.found.createTime?Ge(r.found.createTime):W.min(),a=new pt({mapValue:{fields:r.found.fields}});return _e.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){B(!!r.missing),B(!!r.readTime);const i=qn(n,r.missing),s=Ge(r.readTime);return _e.newNoDocument(i,s)}(t,e):F()}function pB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:F()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(B(u===void 0||typeof u=="string"),tt.fromBase64String(u||"")):(B(u===void 0||u instanceof Uint8Array),tt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?k.UNKNOWN:dA(l.code);return new O(u,l.message||"")}(o);n=new pA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qn(t,r.document.name),s=Ge(r.document.updateTime),o=r.document.createTime?Ge(r.document.createTime):W.min(),a=new pt({mapValue:{fields:r.document.fields}}),l=_e.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Zc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qn(t,r.document),s=r.readTime?Ge(r.readTime):W.min(),o=_e.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qn(t,r.document),s=r.removedTargetIds||[];n=new Zc([],s,i,null)}else{if(!("filter"in e))return F();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new oB(i),o=r.targetId;n=new hA(o,s)}}return n}function tu(t,e){let n;if(e instanceof fa)n={update:WE(t,e.key,e.value)};else if(e instanceof da)n={delete:Zl(t,e.key)};else if(e instanceof Sr)n={update:WE(t,e.key,e.data),updateMask:SB(e.fieldMask)};else{if(!(e instanceof pw))return F();n={verify:Zl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Bo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _s)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Is)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qo)return{fieldPath:s.field.canonicalString(),increment:o._t};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:dB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:F()}(t,e.precondition)),n}function Vv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Pe.updateTime(Ge(i.updateTime)):i.exists!==void 0?Pe.exists(i.exists):Pe.none()}(e.currentDocument):Pe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)B(o.setToServerValue==="REQUEST_TIME"),a=new Bo;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new _s(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new Is(u)}else"increment"in o?a=new qo(s,o.increment):F();const l=He.fromServerFormat(o.fieldPath);return new Mu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=qn(t,e.update.name),s=new pt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Bt(l.map(u=>He.fromServerFormat(u)))}(e.updateMask);return new Sr(i,s,o,n,r)}return new fa(i,s,n,r)}if(e.delete){const i=qn(t,e.delete);return new da(i,n)}if(e.verify){const i=qn(t,e.verify);return new pw(i,n)}return F()}function mB(t,e){return t&&t.length>0?(B(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ge(r.updateTime):Ge(i);return s.isEqual(W.min())&&(s=Ge(i)),new rB(s,r.transformResults||[])}(n,e))):[]}function SA(t,e){return{documents:[jv(t,e.path)]}}function bA(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return IA(he.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ws(c.field),direction:vB(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||Nu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EA(t){let e=vA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){B(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const f=_A(c);return f instanceof he&&fw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(f){return new To(Hs(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(c)));let a=null;n.limit&&(a=function(c){let f;return f=typeof c=="object"?c.value:c,Nu(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(c){const f=!!c.before,d=c.values||[];return new vi(d,f)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const f=!c.before,d=c.values||[];return new vi(d,f)}(n.endAt)),QO(e,i,o,s,a,"F",l,u)}function gB(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function _A(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Hs(e.unaryFilter.field);return se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Hs(e.unaryFilter.field);return se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hs(e.unaryFilter.field);return se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hs(e.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):t.fieldFilter!==void 0?function(e){return se.create(Hs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return he.create(e.compositeFilter.filters.map(n=>_A(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F()}function vB(t){return lB[t]}function yB(t){return uB[t]}function wB(t){return cB[t]}function Ws(t){return{fieldPath:t.canonicalString()}}function Hs(t){return He.fromServerFormat(t.fieldPath)}function IA(t){return t instanceof se?function(e){if(e.op==="=="){if(AE(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NAN"}};if(OE(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(AE(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NOT_NAN"}};if(OE(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(e.field),op:yB(e.op),value:e.value}}}(t):t instanceof he?function(e){const n=e.getFilters().map(r=>IA(r));return n.length===1?n[0]:{compositeFilter:{op:wB(e.op),filters:n}}}(t):F()}function SB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r,i,s=W.min(),o=W.min(),a=tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.se=e}}function bB(t,e){let n;if(e.document)n=wA(t.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=M.fromSegments(e.noDocument.path),i=ks(e.noDocument.readTime);n=_e.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return F();{const r=M.fromSegments(e.unknownDocument.path),i=ks(e.unknownDocument.version);n=_e.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new De(r[0],r[1]);return W.fromTimestamp(i)}(e.readTime)),n}function HE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Zl(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Wo(i,s.version.toTimestamp()),createTime:Wo(i,s.createTime.toTimestamp())}}(t.se,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ts(e.version)};else{if(!e.isUnknownDocument())return F();r.unknownDocument={path:n.path.toArray(),version:Ts(e.version)}}return r}function yd(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ts(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ks(t){const e=new De(t.seconds,t.nanoseconds);return W.fromTimestamp(e)}function zi(t,e){const n=(e.baseMutations||[]).map(s=>Vv(t.se,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Vv(t.se,s)),i=De.fromMillis(e.localWriteTimeMs);return new mw(e.batchId,i,n,r)}function Ba(t){const e=ks(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ks(t.lastLimboFreeSnapshotVersion):W.min();let r;var i;return t.query.documents!==void 0?(B((i=t.query).documents.length===1),r=Kt(ca(vA(i.documents[0])))):r=function(s){return Kt(EA(s))}(t.query),new ti(r,t.targetId,0,t.lastListenSequenceNumber,e,n,tt.fromBase64String(t.resumeToken))}function CA(t,e){const n=Ts(e.snapshotVersion),r=Ts(e.lastLimboFreeSnapshotVersion);let i;i=md(e.target)?SA(t.se,e.target):bA(t.se,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Es(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Sw(t){const e=EA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vd(e,e.limit,"L"):e}function Nm(t,e){return new vw(e.largestBatchId,Vv(t.se,e.overlayMutation))}function GE(t,e){const n=e.path.lastSegment();return[t,Mt(e.path.popLast()),n]}function KE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ts(r.readTime),documentKey:Mt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{getBundleMetadata(e,n){return QE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:ks(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return QE(e).put({bundleId:(r=n).id,createTime:Ts(Ge(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return YE(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Sw(i.bundledQuery),readTime:ks(i.readTime)};var i})}saveNamedQuery(e,n){return YE(e).put(function(r){return{name:r.name,readTime:Ts(Ge(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function QE(t){return ct(t,"bundles")}function YE(t){return ct(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.serializer=e,this.userId=n}static ie(e,n){const r=n.uid||"";return new Yh(e,r)}getOverlay(e,n){return ka(e).get(GE(this.userId,n)).next(r=>r?Nm(this.serializer,r):null)}getOverlays(e,n){const r=Ln();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new vw(n,o);i.push(this.re(e,a))}),T.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Mt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ka(e).J("collectionPathOverlayIndex",a))}),T.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ln(),s=Mt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ka(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Nm(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Ln();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ka(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const f=Nm(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):c.done()}).next(()=>s)}re(e,n){return ka(e).put(function(r,i,s){const[o,a,l]=GE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:tu(r.se,s.mutation)}}(this.serializer,this.userId,n))}}function ka(t){return ct(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){}oe(e,n){this.ue(e,n),n.ce()}ue(e,n){if("nullValue"in e)this.ae(n,5);else if("booleanValue"in e)this.ae(n,10),n.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(n,15),n.he(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),Ql(r)?n.he(0):n.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(n,20),typeof r=="string"?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,n),this.de(n);else if("bytesValue"in e)this.ae(n,30),n.we(ws(e.bytesValue)),this.de(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in e?zO(e)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,n),this.de(n)):"arrayValue"in e?(this.ge(e.arrayValue,n),this.de(n)):F()}fe(e,n){this.ae(n,25),this.ye(e,n)}ye(e,n){n.le(e)}me(e,n){const r=e.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(e,n){const r=e.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(e,n){this.ae(n,37),M.fromName(e).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(e,n){e.he(n)}de(e){e.he(2)}}ji.pe=new ji;function _B(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function XE(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=_B(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class IB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Te(r.value),r=n.next();this.Ee()}Ae(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.ve()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=n.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(e){const n=this.Se(e),r=XE(n);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ce(e){const n=this.Se(e),r=XE(n);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Te(e){const n=255&e;n===0?(this.Ne(0),this.Ne(255)):n===255?(this.Ne(255),this.Ne(0)):this.Ne(n)}Re(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TB{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class kB{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class Ca{constructor(){this.Me=new IB,this.Fe=new TB(this.Me),this.Be=new kB(this.Me)}seed(e){this.Me.seed(e)}Le(e){return e===0?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}qe(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Vi(this.indexId,this.documentKey,this.arrayValue,r)}}function Tr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=JE(t.arrayValue,e.arrayValue),n!==0?n:(n=JE(t.directionalValue,e.directionalValue),n!==0?n:M.comparator(t.documentKey,e.documentKey)))}function JE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){B(e.collectionGroup===this.collectionId);const n=Pv(e);if(n!==void 0&&!this.ze(n))return!1;const r=Fi(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.Ge!==void 0){const o=r[i];if(!this.je(this.Ge,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}ze(e){for(const n of this.Ke)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){var e,n;if(B(t instanceof se||t instanceof he),t instanceof se){if(t instanceof KO){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>se.create(t.field,"==",s)))||[];return he.create(i,"or")}return t}const r=t.filters.map(i=>xA(i));return he.create(r,t.op)}function xB(t){if(t.getFilters().length===0)return[];const e=Wv(xA(t));return B(OA(e)),Bv(e)||qv(e)?[e]:e.getFilters()}function Bv(t){return t instanceof se}function qv(t){return t instanceof he&&fw(t)}function OA(t){return Bv(t)||qv(t)||function(e){if(e instanceof he&&Lv(e)){for(const n of e.getFilters())if(!Bv(n)&&!qv(n))return!1;return!0}return!1}(t)}function Wv(t){if(B(t instanceof se||t instanceof he),t instanceof se)return t;if(t.filters.length===1)return Wv(t.filters[0]);const e=t.filters.map(r=>Wv(r));let n=he.create(e,t.op);return n=wd(n),OA(n)?n:(B(n instanceof he),B(Vo(n)),B(n.filters.length>1),n.filters.reduce((r,i)=>bw(r,i)))}function bw(t,e){let n;return B(t instanceof se||t instanceof he),B(e instanceof se||e instanceof he),n=t instanceof se?e instanceof se?function(r,i){return he.create([r,i],"and")}(t,e):ZE(t,e):e instanceof se?ZE(e,t):function(r,i){if(B(r.filters.length>0&&i.filters.length>0),Vo(r)&&Vo(i))return WO(r,i.getFilters());const s=Lv(r)?r:i,o=Lv(r)?i:r,a=s.filters.map(l=>bw(l,o));return he.create(a,"or")}(t,e),wd(n)}function ZE(t,e){if(Vo(e))return WO(e,t.getFilters());{const n=e.filters.map(r=>bw(t,r));return he.create(n,"or")}}function wd(t){if(B(t instanceof se||t instanceof he),t instanceof se)return t;const e=t.getFilters();if(e.length===1)return wd(e[0]);if(BO(t))return t;const n=e.map(i=>wd(i)),r=[];return n.forEach(i=>{i instanceof se?r.push(i):i instanceof he&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:he.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(){this.He=new Ew}addToCollectionParentIndex(e,n){return this.He.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(nn.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(nn.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class Ew{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ve(ce.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ve(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new Uint8Array(0);class AB{constructor(e,n){this.user=e,this.databaseId=n,this.Je=new Ew,this.Ye=new Oi(r=>Es(r),(r,i)=>Pu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Je.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Je.add(n)});const s={collectionId:r,parent:Mt(i)};return e_(e).put(s)}return T.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[CO(n),""],!1,!0);return e_(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Mn(o.parent))}return r})}addFieldIndex(e,n){const r=Cc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Oa(e);return s.next(a=>{o.put(KE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Cc(e),i=Oa(e),s=xa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=xa(e);let i=!0;const s=new Map;return T.forEach(this.Ze(n),o=>this.Xe(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ee();const a=[];return T.forEach(s,(l,u)=>{var c;N("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(y=>`${y.fieldPath}:${y.kind}`).join(",")}`} to execute ${Es(n)}`);const f=function(y,b){const S=Pv(b);if(S===void 0)return null;for(const E of gd(y,S.fieldPath))switch(E.op){case"array-contains-any":return E.value.arrayValue.values||[];case"array-contains":return[E.value]}return null}(u,l),d=function(y,b){const S=new Map;for(const E of Fi(b))for(const I of gd(y,E.fieldPath))switch(I.op){case"==":case"in":S.set(E.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return S.set(E.fieldPath.canonicalString(),I.value),Array.from(S.values())}return null}(u,l),p=function(y,b){const S=[];let E=!0;for(const I of Fi(b)){const _=I.kind===0?ME(y,I.fieldPath,y.startAt):LE(y,I.fieldPath,y.startAt);S.push(_.value),E&&(E=_.inclusive)}return new vi(S,E)}(u,l),v=function(y,b){const S=[];let E=!0;for(const I of Fi(b)){const _=I.kind===0?LE(y,I.fieldPath,y.endAt):ME(y,I.fieldPath,y.endAt);S.push(_.value),E&&(E=_.inclusive)}return new vi(S,E)}(u,l),m=this.tn(l,u,p),w=this.tn(l,u,v),g=this.en(l,u,d),h=this.nn(l.indexId,f,m,p.inclusive,w,v.inclusive,g);return T.forEach(h,y=>r.H(y,n.limit).next(b=>{b.forEach(S=>{const E=M.fromSegments(S.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return T.resolve(null)})}Ze(e){let n=this.Ye.get(e);return n||(e.filters.length===0?n=[e]:n=xB(he.create(e.filters,"and")).map(r=>Fv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,n),n)}nn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const d=n?this.sn(n[f/u]):kc,p=this.rn(e,d,r[f%u],i),v=this.on(e,d,s[f%u],o),m=a.map(w=>this.rn(e,d,w,!0));c.push(...this.createRange(p,v,m))}return c}rn(e,n,r,i){const s=new Vi(e,M.empty(),n,r);return i?s:s.qe()}on(e,n,r,i){const s=new Vi(e,M.empty(),n,r);return i?s.qe():s}Xe(e,n){const r=new CB(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Qe(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return T.forEach(i,s=>this.Xe(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new ve(He.comparator),u=!1;for(const c of a.filters)for(const f of c.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?u=!0:l=l.add(f.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}un(e,n){const r=new Ca;for(const i of Fi(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Le(i.kind);ji.pe.oe(s,o)}return r.$e()}sn(e){const n=new Ca;return ji.pe.oe(e,n.Le(0)),n.$e()}cn(e,n){const r=new Ca;return ji.pe.oe(bs(this.databaseId,n),r.Le(function(i){const s=Fi(i);return s.length===0?0:s[s.length-1].kind}(e))),r.$e()}en(e,n,r){if(r===null)return[];let i=[];i.push(new Ca);let s=0;for(const o of Fi(e)){const a=r[s++];for(const l of i)if(this.an(n,o.fieldPath)&&Jl(a))i=this.hn(i,o,a);else{const u=l.Le(o.kind);ji.pe.oe(a,u)}}return this.ln(i)}tn(e,n,r){return this.en(e,n,r.position)}ln(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}hn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ca;l.seed(a.$e()),ji.pe.oe(o,l.Le(n.kind)),s.push(l)}return s}an(e,n){return!!e.filters.find(r=>r instanceof se&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Cc(e),i=Oa(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return T.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const f=c?new pd(c.sequenceNumber,new nn(ks(c.readTime),new M(Mn(c.documentKey)),c.largestBatchId)):pd.empty(),d=u.fields.map(([p,v])=>new d5(He.fromServerFormat(p),v));return new xO(u.indexId,u.collectionGroup,d,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Z(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Cc(e),s=Oa(e);return this.fn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>s.put(KE(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return T.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?T.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),T.forEach(a,l=>this.dn(e,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?T.resolve():this._n(e,s,l,u,c)}))))})}mn(e,n,r,i){return xa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,n.key),documentKey:n.key.path.toArray()})}gn(e,n,r,i){return xa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,n.key),n.key.path.toArray()])}dn(e,n,r){const i=xa(e);let s=new ve(Tr);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,n)])},(o,a)=>{s=s.add(new Vi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new ve(Tr);const i=this.un(n,e);if(i==null)return r;const s=Pv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Jl(o))for(const a of o.arrayValue.values||[])r=r.add(new Vi(n.indexId,e.key,this.sn(a),i))}else r=r.add(new Vi(n.indexId,e.key,kc,i));return r}_n(e,n,r,i,s){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,f){const d=a.getIterator(),p=l.getIterator();let v=Bs(d),m=Bs(p);for(;v||m;){let w=!1,g=!1;if(v&&m){const h=u(v,m);h<0?g=!0:h>0&&(w=!0)}else v!=null?g=!0:w=!0;w?(c(m),m=Bs(p)):g?(f(v),v=Bs(d)):(v=Bs(d),m=Bs(p))}}(i,s,Tr,a=>{o.push(this.mn(e,n,r,a))},a=>{o.push(this.gn(e,n,r,a))}),T.waitFor(o)}fn(e){let n=1;return Oa(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Tr(o,a)).filter((o,a,l)=>!a||Tr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Tr(o,e),l=Tr(o,n);if(a===0)i[0]=e.qe();else if(a>0&&l<0)i.push(o),i.push(o.qe());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.yn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,kc,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,kc,[]];s.push(IDBKeyRange.bound(a,l))}return s}yn(e,n){return Tr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(t_)}getMinOffset(e,n){return T.mapArray(this.Ze(n),r=>this.Xe(e,r).next(i=>i||F())).next(t_)}}function e_(t){return ct(t,"collectionParents")}function xa(t){return ct(t,"indexEntries")}function Cc(t){return ct(t,"indexConfiguration")}function Oa(t){return ct(t,"indexState")}function t_(t){B(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;lw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new nn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ut{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,f,d)=>(a++,d.delete()));s.push(l.next(()=>{B(a===1)}));const u=[];for(const c of n.mutations){const f=RO(e,c.key.path,n.batchId);s.push(i.delete(f)),u.push(c.key)}return T.waitFor(s).next(()=>u)}function Sd(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw F();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(41943040,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);class Xh{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(e,n,r,i){B(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Xh(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kr(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Gs(e),o=kr(e);return o.add({}).next(a=>{B(typeof a=="number");const l=new mw(a,n,r,i),u=function(d,p,v){const m=v.baseMutations.map(g=>tu(d.se,g)),w=v.mutations.map(g=>tu(d.se,g));return{userId:p,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:m,mutations:w}}(this.serializer,this.userId,l),c=[];let f=new ve((d,p)=>Z(d.canonicalString(),p.canonicalString()));for(const d of i){const p=RO(this.userId,d.key.path,a);f=f.add(d.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,y5))}return f.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),T.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return kr(e).get(n).next(r=>r?(B(r.userId===this.userId),zi(this.serializer,r)):null)}In(e,n){return this.pn[n]?T.resolve(this.pn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.pn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return kr(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(B(a.batchId>=r),s=zi(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return kr(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kr(e).j("userMutationsIndex",n).next(r=>r.map(i=>zi(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Qc(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Gs(e).Z({range:i},(o,a,l)=>{const[u,c,f]=o,d=Mn(c);if(u===this.userId&&n.path.isEqual(d))return kr(e).get(f).next(p=>{if(!p)throw F();B(p.userId===this.userId),s.push(zi(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(Z);const i=[];return n.forEach(s=>{const o=Qc(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Gs(e).Z({range:a},(u,c,f)=>{const[d,p,v]=u,m=Mn(p);d===this.userId&&s.path.isEqual(m)?r=r.add(v):f.done()});i.push(l)}),T.waitFor(i).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Qc(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ve(Z);return Gs(e).Z({range:o},(l,u,c)=>{const[f,d,p]=l,v=Mn(d);f===this.userId&&r.isPrefixOf(v)?v.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Tn(e,a))}Tn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(kr(e).get(s).next(o=>{if(o===null)throw F();B(o.userId===this.userId),r.push(zi(this.serializer,o))}))}),T.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return AA(e.at,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.En(n.batchId)}),T.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Gs(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Mn(s[1]);i.push(l)}else a.done()}).next(()=>{B(i.length===0)})})}containsKey(e,n){return NA(e,this.userId,n)}An(e){return PA(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function NA(t,e,n){const r=Qc(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Gs(t).Z({range:s,Y:!0},(a,l,u)=>{const[c,f,d]=a;c===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function kr(t){return ct(t,"mutations")}function Gs(t){return ct(t,"documentMutations")}function PA(t){return ct(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Cs(0)}static bn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Pn(e).next(n=>{const r=new Cs(n.highestTargetId);return n.highestTargetId=r.next(),this.Vn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(n=>W.fromTimestamp(new De(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Pn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Vn(e,i)))}addTargetData(e,n){return this.Sn(e,n).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(n,r),this.Vn(e,r))))}updateTargetData(e,n){return this.Sn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>qs(e).delete(n.targetId)).next(()=>this.Pn(e)).next(r=>(B(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return qs(e).Z((o,a)=>{const l=Ba(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(s)).next(()=>i)}forEachTarget(e,n){return qs(e).Z((r,i)=>{const s=Ba(i);n(s)})}Pn(e){return r_(e).get("targetGlobalKey").next(n=>(B(n!==null),n))}Vn(e,n){return r_(e).put("targetGlobalKey",n)}Sn(e,n){return qs(e).put(CA(this.serializer,n))}Dn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Es(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return qs(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Ba(a);Pu(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Fr(e);return n.forEach(o=>{const a=Mt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),T.waitFor(i)}removeMatchingKeys(e,n,r){const i=Fr(e);return T.forEach(n,s=>{const o=Mt(s.path);return T.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Fr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Fr(e);let s=ee();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=Mn(o[1]),c=new M(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Mt(n.path),i=IDBKeyRange.bound([r],[CO(r)],!1,!0);let s=0;return Fr(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ne(e,n){return qs(e).get(n).next(r=>r?Ba(r):null)}}function qs(t){return ct(t,"targets")}function r_(t){return ct(t,"targetGlobal")}function Fr(t){return ct(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_([t,e],[n,r]){const i=Z(t,n);return i===0?Z(e,r):i}class PB{constructor(e){this.Cn=e,this.buffer=new ve(i_),this.xn=0}Nn(){return++this.xn}kn(e){const n=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}$n(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xi(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ci(n)}await this.$n(3e5)})}}class RB{constructor(e,n){this.Mn=e,this.params=n}calculateTargetCount(e,n){return this.Mn.Fn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return T.resolve(Vt.ct);const r=new PB(n);return this.Mn.forEachTarget(e,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(e,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Mn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Mn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(n_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.Ln(e,n))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Nv()<=ue.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),T.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new RB(r,i)}(this,n)}Fn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Bn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Bn(e,n){return this.Un(e,(r,i)=>n(i))}addReference(e,n,r){return xc(e,r)}removeReference(e,n,r){return xc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return xc(e,n)}Kn(e,n){return function(r,i){let s=!1;return PA(r).X(o=>NA(r,o,i).next(a=>(a&&(s=!0),T.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Un(e,(o,a)=>{if(a<=n){const l=this.Kn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,W.min()),Fr(e).delete([0,Mt(o.path)])))});i.push(l)}}).next(()=>T.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return xc(e,n)}Un(e,n){const r=Fr(e);let i,s=Vt.ct;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Vt.ct&&n(new M(Mn(i)),s),s=u,i=l):s=Vt.ct}).next(()=>{s!==Vt.ct&&n(new M(Mn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xc(t,e){return Fr(t).put(function(n,r){return{targetId:0,path:Mt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Pi(e).put(r)}removeEntry(e,n,r){return Pi(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],yd(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Gn(e,r)))}getEntry(e,n){let r=_e.newInvalidDocument(n);return Pi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Aa(n))},(i,s)=>{r=this.Qn(n,s)}).next(()=>r)}zn(e,n){let r={size:0,document:_e.newInvalidDocument(n)};return Pi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Aa(n))},(i,s)=>{r={document:this.Qn(n,s),size:Sd(s)}}).next(()=>r)}getEntries(e,n){let r=qt();return this.jn(e,n,(i,s)=>{const o=this.Qn(i,s);r=r.insert(i,o)}).next(()=>r)}Wn(e,n){let r=qt(),i=new Ve(M.comparator);return this.jn(e,n,(s,o)=>{const a=this.Qn(s,o);r=r.insert(s,a),i=i.insert(s,Sd(o))}).next(()=>({documents:r,Hn:i}))}jn(e,n,r){if(n.isEmpty())return T.resolve();let i=new ve(a_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Aa(i.first()),Aa(i.last())),o=i.getIterator();let a=o.getNext();return Pi(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const f=M.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&a_(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(Aa(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),yd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pi(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=qt();for(const c of l){const f=this.Qn(M.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);f.isFoundDocument()&&(Ru(n,f)||i.has(f.key))&&(u=u.insert(f.key,f))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=qt();const o=o_(n,r),a=o_(n,nn.max());return Pi(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const f=this.Qn(M.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new $B(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return s_(e).get("remoteDocumentGlobalKey").next(n=>(B(!!n),n))}Gn(e,n){return s_(e).put("remoteDocumentGlobalKey",n)}Qn(e,n){if(n){const r=bB(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(W.min())))return r}return _e.newInvalidDocument(e)}}function RA(t){return new LB(t)}class $B extends DA{constructor(e,n){super(),this.Jn=e,this.trackRemovals=n,this.Yn=new Oi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ve((s,o)=>Z(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Yn.get(s);if(n.push(this.Jn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=HE(this.Jn.serializer,o);i=i.add(s.path.popLast());const u=Sd(l);r+=u-a.size,n.push(this.Jn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=HE(this.Jn.serializer,o.convertToNoDocument(W.min()));n.push(this.Jn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Jn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Jn.updateMetadata(e,r)),T.waitFor(n)}getFromCache(e,n){return this.Jn.zn(e,n).next(r=>(this.Yn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Jn.Wn(e,n).next(({documents:r,Hn:i})=>(i.forEach((s,o)=>{this.Yn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function s_(t){return ct(t,"remoteDocumentGlobal")}function Pi(t){return ct(t,"remoteDocumentsV14")}function Aa(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o_(t,e){const n=e.documentKey.path.toArray();return[t,yd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function a_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Z(n[s],r[s]),i)return i;return i=Z(n.length,r.length),i||(i=Z(n[n.length-2],r[r.length-2]),i||Z(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,Bt.empty(),De.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=Ln();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Va();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ln();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qt();const o=ol(),a=ol();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Sr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),al(c.mutation,u,c.mutation.getFieldMask(),De.now())):o.set(u.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new FB(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Ve((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||ee()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=tA();c.forEach(d=>{if(!s.has(d)){const p=uA(n.get(d),r.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(Ln());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ee())).next(c=>({batchId:a,changes:eA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Va();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const l=function(u,c){return new wr(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,f)=>{s=s.insert(c,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,_e.newInvalidDocument(u)))});let o=Va();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&al(u.mutation,l,Bt.empty(),De.now()),Ru(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return T.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ge(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:Sw(r.bundledQuery),readTime:Ge(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(){this.overlays=new Ve(M.comparator),this.ts=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ln();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=Ln(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ve((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ln(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ln(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vw(n,r));let s=this.ts.get(n);s===void 0&&(s=ee(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.es=new ve(nt.ns),this.ss=new ve(nt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new nt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new nt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new M(new ce([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new M(new ce([])),r=new nt(n,e),i=new nt(n,e+1);let s=ee();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new nt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return M.comparator(e.key,n.key)||Z(e.ds,n.ds)}static rs(e,n){return Z(e.ds,n.ds)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new ve(nt.ns)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ve(Z);return n.forEach(i=>{const s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),T.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new nt(new M(s),0);let a=new ve(Z);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),T.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){B(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return T.forEach(n.mutations,i=>{const s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new nt(n,0),i=this._s.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.Ts=e,this.docs=new Ve(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():_e.newInvalidDocument(n))}getEntries(e,n){let r=qt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_e.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qt();const o=n.path,a=new M(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lw(AO(c),r)<=0||(i.has(c.key)||Ru(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){F()}Es(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BB(this)}getSize(e){return T.resolve(this.size)}}class BB extends DA{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.persistence=e,this.As=new Oi(n=>Es(n),Pu),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Rs=0,this.vs=new _w,this.targetCount=0,this.bs=Cs.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),T.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Sn(n),T.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Vt(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new qB(this),this.indexManager=new OB,this.remoteDocumentCache=function(r){return new VB(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new kA(n),this.xs=new UB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new jB(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new WB(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return T.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class WB extends PO{constructor(e){super(),this.currentSequenceNumber=e}}class Jh{constructor(e){this.persistence=e,this.$s=new _w,this.Ms=null}static Fs(e){return new Jh(e)}get Bs(){if(this.Ms)return this.Ms;throw F()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),T.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Bs,r=>{const i=M.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return T.or([()=>T.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.serializer=e}M(e,n,r,i){const s=new Wh("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TE,{unique:!0}),a.createObjectStore("documentMutations")}(e),l_(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=T.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),l_(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:W.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TE,{unique:!0});const c=l.store("mutations"),f=u.map(d=>c.put(d));return T.waitFor(f)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Us(s)))),r<7&&i>=7&&(o=o.next(()=>this.Ks(s))),r<8&&i>=8&&(o=o.next(()=>this.Gs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Qs(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:A5});l.createIndex("collectionPathOverlayIndex",N5,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",P5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:w5});l.createIndex("documentKeyIndex",S5),l.createIndex("collectionGroupIndex",b5)}(e)).next(()=>this.zs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:k5}).createIndex("sequenceNumberIndex",C5,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:x5}).createIndex("documentKeyIndex",O5,{unique:!1})}(e))),o}Us(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Sd(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>T.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>T.forEach(a,l=>{B(l.userId===s.userId);const u=zi(this.serializer,l);return AA(e,s.userId,u).next(()=>{})}))}))}Ks(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new ce(o),u=function(c){return[0,Mt(c)]}(l);s.push(n.get(u).next(c=>c?T.resolve():(f=>n.put({targetId:0,path:Mt(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(s))})}Gs(e,n){e.createObjectStore("collectionParents",{keyPath:T5});const r=n.store("collectionParents"),i=new Ew,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Mt(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new ce(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=Mn(a);return s(c.popLast())}))}Qs(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Ba(i),o=CA(this.serializer,s);return n.put(o)})}zs(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new M(ce.fromString(u.document.name).popFirst(5)):u.noDocument?M.fromSegments(u.noDocument.path):u.unknownDocument?M.fromSegments(u.unknownDocument.path):F()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>T.waitFor(i))}js(e,n){const r=n.store("mutations"),i=RA(this.serializer),s=new LA(Jh.Fs,this.serializer.se);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:ee();zi(this.serializer,l).keys().forEach(f=>c=c.add(f)),a.set(l.userId,c)}),T.forEach(a,(l,u)=>{const c=new it(u),f=Yh.ie(this.serializer,c),d=s.getIndexManager(c),p=Xh.ie(c,this.serializer,d,s.referenceDelegate);return new MA(i,p,f,d).recalculateAndSaveOverlaysForDocumentKeys(new Dv(n,Vt.ct),l).next()})})}}function l_(t){t.createObjectStore("targetDocuments",{keyPath:_5}).createIndex("documentTargetsIndex",I5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",E5,{unique:!0}),t.createObjectStore("targetGlobal")}const Pm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Iw{constructor(e,n,r,i,s,o,a,l,u,c,f=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ws=s,this.window=o,this.document=a,this.Hs=u,this.Js=c,this.Ys=f,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=d=>Promise.resolve(),!Iw.D())throw new O(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MB(this,i),this.si=n+"main",this.serializer=new kA(l),this.ii=new In(this.si,this.Ys,new HB(this.serializer)),this.Ds=new NB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RA(this.serializer),this.xs=new EB,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,c===!1&&We("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,Pm);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Vt(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){return this.ni=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(async()=>{this.started&&await this.oi()}))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Oc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(n=>{n||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(n=>this.isPrimary&&!n?this.di(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(xi(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Na(e).get("owner").next(n=>T.resolve(this._i(n)))}mi(e){return Oc(e).delete(this.clientId)}async gi(){if(this.isPrimary&&!this.yi(this.ei,18e5)){this.ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ct(n,"clientMetadata");return r.j().next(i=>{const s=this.pi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return T.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ri)for(const n of e)this.ri.removeItem(this.Ii(n.clientId))}}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?T.resolve(!0):Na(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)){if(this._i(n)&&this.networkEnabled)return!0;if(!this._i(n)){if(!n.allowTabSynchronization)throw new O(k.FAILED_PRECONDITION,Pm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Oc(e).j().next(r=>this.pi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),await this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Dv(e,Vt.ct);return this.di(n).next(()=>this.mi(n))}),this.ii.close(),this.vi()}pi(e,n){return e.filter(r=>this.yi(r.updateTimeMs,n)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Oc(e).j().next(n=>this.pi(n,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,n){return Xh.ie(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new AB(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Yh.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,n,r){N("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Ys)===15?R5:o===14?$O:o===13?LO:o===12?D5:o===11?MO:void F();var o;let a;return this.ii.runTransaction(e,i,s,l=>(a=new Dv(l,this.Vs?this.Vs.next():Vt.ct),n==="readwrite-primary"?this.li(a).next(u=>!!u||this.fi(a)).next(u=>{if(!u)throw We(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new O(k.FAILED_PRECONDITION,NO);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Pi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e){return Na(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)&&!this._i(n)&&!(this.Js||this.allowTabSynchronization&&n.allowTabSynchronization))throw new O(k.FAILED_PRECONDITION,Pm)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Na(e).put("owner",n)}static D(){return In.D()}di(e){const n=Na(e);return n.get("owner").next(r=>this._i(r)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}yi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(We(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ui(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground=this.document.visibilityState==="visible")}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ei();const n=/(?:Version|Mobile)\/1[456]/;c4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var n;try{const r=((n=this.ri)===null||n===void 0?void 0:n.getItem(this.Ii(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return We("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){We("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Na(t){return ct(t,"owner")}function Oc(t){return ct(t,"clientMetadata")}function Tw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if($E(n))return T.resolve(null);let r=Kt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vd(n,null,"F"),r=Kt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ee(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,vd(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return $E(n)||i.isEqual(W.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(Nv()<=ue.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zv(n)),this.Fi(e,o,n,OO(i,-1)))})}$i(e,n){let r=new ve(JO(e));return n.forEach((i,s)=>{Ru(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Nv()<=ue.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",zv(n)),this.xi.getDocumentsMatchingQuery(e,n,nn.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Ve(Z),this.qi=new Oi(s=>Es(s),Pu),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function FA(t,e,n,r){return new GB(t,e,n,r)}async function UA(t,e){const n=L(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function KB(t,e){const n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,f=c.keys();let d=T.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(a,p)).next(v=>{const m=l.docVersions.get(p);B(m!==null),v.version.compareTo(m)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zA(t){const e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function QB(t,e){const n=L(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,f).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?p=p.withResumeToken(tt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(v,m,w){return v.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=qt(),u=ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(jA(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(W.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(f=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function jA(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qt();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function YB(t,e){const n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ho(t,e){const n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ti(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Go(t,e,n){const r=L(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xi(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function bd(t,e,n){const r=L(t);let i=W.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=L(a),f=c.qi.get(u);return f!==void 0?T.resolve(c.Li.get(f)):c.Ds.getTargetData(l,u)}(r,o,Kt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:ee())).next(a=>(qA(r,XO(e),a),{documents:a,Wi:s})))}function VA(t,e){const n=L(t),r=L(n.Ds),i=n.Li.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function BA(t,e){const n=L(t),r=n.Ui.get(e)||W.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ki.getAllFromCollectionGroup(i,e,OO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qA(n,e,i),i))}function qA(t,e,n){let r=t.Ui.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}async function XB(t,e,n,r){const i=L(t);let s=ee(),o=qt();for(const u of n){const c=e.Hi(u.metadata.name);u.document&&(s=s.add(c));const f=e.Ji(u);f.setReadTime(e.Yi(u.metadata.readTime)),o=o.insert(c,f)}const a=i.Ki.newChangeBuffer({trackRemovals:!0}),l=await Ho(i,function(u){return Kt(ca(ce.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>jA(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Ds.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ds.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.zi,c.ji)).next(()=>c.zi)))}async function JB(t,e,n=ee()){const r=await Ho(t,Kt(Sw(e.bundledQuery))),i=L(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Ge(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.xs.saveNamedQuery(s,e);const a=r.withResumeToken(tt.EMPTY_BYTE_STRING,o);return i.Li=i.Li.insert(a.targetId,a),i.Ds.updateTargetData(s,a).next(()=>i.Ds.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ds.addMatchingKeys(s,n,r.targetId)).next(()=>i.xs.saveNamedQuery(s,e))})}function u_(t,e){return`firestore_clients_${t}_${e}`}function c_(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Dm(t,e){return`firestore_targets_${t}_${e}`}class Ed{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new O(i.error.code,i.error.message))),o?new Ed(e,n,i.state,s):(We("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ll{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new O(r.error.code,r.error.message))),s?new ll(e,r.state,i):(We("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _d{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Gh();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=DO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new _d(e,s):(We("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Cw{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Cw(n.clientId,n.onlineState):(We("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hv{constructor(){this.activeTargetIds=Gh()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rm{constructor(e,n,r,i,s){this.window=e,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Ve(Z),this.started=!1,this.ur=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=u_(this.persistenceKey,this.nr),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Hv),this.hr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.bi();for(const r of e){if(r===this.nr)continue;const i=this.getItem(u_(this.persistenceKey,r));if(i){const s=_d.Zi(r,i);s&&(this.rr=this.rr.insert(s.clientId,s))}}this.mr();const n=this.storage.getItem(this.wr);if(n){const r=this.gr(n);r&&this.yr(r)}for(const r of this.ur)this.ir(r);this.ur=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let n=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,n,r){this.Ir(e,n,r),this.Tr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Dm(this.persistenceKey,e));if(r){const i=ll.Zi(e,r);i&&(n=i.state)}}return this.Er.tr(e),this.mr(),n}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Dm(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ar(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Tr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){const n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void We("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.hr.test(n.key)){if(n.newValue==null){const r=this.br(n.key);return this.Pr(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.Pr(r.clientId,r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Cr(n.key,n.newValue);if(r)return this.Nr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.gr(n.newValue);if(r)return this.yr(r)}}else if(n.key===this.ar){const r=function(i){let s=Vt.ct;if(i!=null)try{const o=JSON.parse(i);B(typeof o=="number"),s=o}catch(o){We("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Vt.ct&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.ur.push(n)})}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,n,r){const i=new Ed(this.currentUser,e,n,r),s=c_(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Xi())}Tr(e){const n=c_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Rr(e){const n={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Ar(e,n,r){const i=Dm(this.persistenceKey,e),s=new ll(e,n,r);this.setItem(i,s.Xi())}vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}br(e){const n=this.hr.exec(e);return n?n[1]:null}Vr(e,n){const r=this.br(e);return _d.Zi(r,n)}Sr(e,n){const r=this.lr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ed.Zi(new it(s),i,n)}Cr(e,n){const r=this.dr.exec(e),i=Number(r[1]);return ll.Zi(i,n)}gr(e){return Cw.Zi(e)}kr(e){return JSON.parse(e)}async Dr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.$r(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,n){const r=n?this.rr.insert(e,n):this.rr.remove(e),i=this.pr(this.rr),s=this.pr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let n=Gh();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class WA{constructor(){this.Br=new Hv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Hv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function Mm(){return Ac===null?Ac=268435456+Math.round(2147483648*Math.random()):Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class n6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Mm(),a=this.ao(e,n);N("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(N("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw mr("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=e6[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Mm();return new Promise((o,a)=>{const l=new e5;l.setWithCredentials(!0),l.listenOnce(XV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Am.NO_ERROR:const c=l.getResponseJson();N(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Am.TIMEOUT:N(Et,`RPC '${e}' ${s} timed out`),a(new O(k.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const f=l.getStatus();if(N(Et,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const p=d==null?void 0:d.error;if(p&&p.status&&p.message){const v=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(w)>=0?w:k.UNKNOWN}(p.status);a(new O(v,p.message))}else a(new O(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(k.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{N(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);N(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Mm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QV(),a=YV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new ZV({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");N(Et,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let f=!1,d=!1;const p=new t6({Wr:m=>{d?N(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(N(Et,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),N(Et,`RPC '${e}' stream ${i} sending:`,m),c.send(m))},Hr:()=>c.close()}),v=(m,w,g)=>{m.listen(w,h=>{try{g(h)}catch(y){setTimeout(()=>{throw y},0)}})};return v(c,_c.EventType.OPEN,()=>{d||N(Et,`RPC '${e}' stream ${i} transport opened.`)}),v(c,_c.EventType.CLOSE,()=>{d||(d=!0,N(Et,`RPC '${e}' stream ${i} transport closed`),p.so())}),v(c,_c.EventType.ERROR,m=>{d||(d=!0,mr(Et,`RPC '${e}' stream ${i} transport errored:`,m),p.so(new O(k.UNAVAILABLE,"The operation could not be completed")))}),v(c,_c.EventType.MESSAGE,m=>{var w;if(!d){const g=m.data[0];B(!!g);const h=g,y=h.error||((w=h[0])===null||w===void 0?void 0:w.error);if(y){N(Et,`RPC '${e}' stream ${i} received error:`,y);const b=y.status;let S=function(I){const _=Qe[I];if(_!==void 0)return dA(_)}(b),E=y.message;S===void 0&&(S=k.INTERNAL,E="Unknown error status: "+b+" with message "+y.message),d=!0,p.so(new O(S,E)),c.close()}else N(Et,`RPC '${e}' stream ${i} received:`,g),p.io(g)}}),v(a,JV.STAT_EVENT,m=>{m.stat===bE.PROXY?N(Et,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===bE.NOPROXY&&N(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof window<"u"?window:null}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){return new fB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new xw(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(We(n.toString()),We("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new O(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r6 extends GA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=pB(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?Ge(s.readTime):W.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=eu(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=md(a)?{documents:SA(i,a)}:{query:bA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mA(i,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(o.readTime=Wo(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=gB(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=eu(this.serializer),n.removeTarget=e,this.Fo(n)}}class i6 extends GA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=mB(e.writeResults,e.commitTime),r=Ge(e.commitTime);return this.listener.Zo(r,n)}return B(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=eu(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tu(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(k.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(k.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class o6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(We(n),this.ru=!1):N("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Ai(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=L(a);l.du.add(4),await ha(l),l.mu.set("Unknown"),l.du.delete(4),await Uu(l)}(this))})}),this.mu=new o6(r,i)}}async function Uu(t){if(Ai(t))for(const e of t.wu)await e(!0)}async function ha(t){for(const e of t.wu)await e(!1)}function Zh(t,e){const n=L(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Nw(n)?Aw(n):ma(n).No()&&Ow(n,e))}function nu(t,e){const n=L(t),r=ma(n);n.fu.delete(e),r.No()&&KA(n,e),n.fu.size===0&&(r.No()?r.$o():Ai(n)&&n.mu.set("Unknown"))}function Ow(t,e){t.gu.Ot(e.targetId),ma(t).jo(e)}function KA(t,e){t.gu.Ot(e),ma(t).Wo(e)}function Aw(t){t.gu=new aB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),ma(t).start(),t.mu.ou()}function Nw(t){return Ai(t)&&!ma(t).xo()&&t.fu.size>0}function Ai(t){return L(t).du.size===0}function QA(t){t.gu=void 0}async function l6(t){t.fu.forEach((e,n)=>{Ow(t,e)})}async function u6(t,e){QA(t),Nw(t)?(t.mu.au(e),Aw(t)):t.mu.set("Unknown")}async function c6(t,e,n){if(t.mu.set("Online"),e instanceof pA&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(t,r)}else if(e instanceof Zc?t.gu.Kt(e):e instanceof hA?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(W.min()))try{const r=await zA(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(tt.EMPTY_BYTE_STRING,l.snapshotVersion)),KA(i,a);const u=new ti(l.target,a,1,l.sequenceNumber);Ow(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){N("RemoteStore","Failed to raise snapshot:",r),await Id(t,r)}}async function Id(t,e,n){if(!xi(e))throw e;t.du.add(1),await ha(t),t.mu.set("Offline"),n||(n=()=>zA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Uu(t)})}function YA(t,e){return e().catch(n=>Id(t,n,e))}async function pa(t){const e=L(t),n=yi(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;f6(e);)try{const i=await YB(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,d6(e,i)}catch(i){await Id(e,i)}XA(e)&&JA(e)}function f6(t){return Ai(t)&&t.lu.length<10}function d6(t,e){t.lu.push(e);const n=yi(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function XA(t){return Ai(t)&&!yi(t).xo()&&t.lu.length>0}function JA(t){yi(t).start()}async function h6(t){yi(t).tu()}async function p6(t){const e=yi(t);for(const n of t.lu)e.Yo(n.mutations)}async function m6(t,e,n){const r=t.lu.shift(),i=gw.from(r,e,n);await YA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await pa(t)}async function g6(t,e){e&&yi(t).Jo&&await async function(n,r){if(i=r.code,fA(i)&&i!==k.ABORTED){const s=n.lu.shift();yi(n).Oo(),await YA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await pa(n)}var i}(t,e),XA(t)&&JA(t)}async function d_(t,e){const n=L(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=Ai(n);n.du.add(3),await ha(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Uu(n)}async function Gv(t,e){const n=L(t);e?(n.du.delete(2),await Uu(n)):e||(n.du.add(2),await ha(n),n.mu.set("Unknown"))}function ma(t){return t.yu||(t.yu=function(e,n,r){const i=L(e);return i.nu(),new r6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:l6.bind(null,t),Zr:u6.bind(null,t),zo:c6.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Nw(t)?Aw(t):t.mu.set("Unknown")):(await t.yu.stop(),QA(t))})),t.yu}function yi(t){return t.pu||(t.pu=function(e,n,r){const i=L(e);return i.nu(),new i6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:h6.bind(null,t),Zr:g6.bind(null,t),Xo:p6.bind(null,t),Zo:m6.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await pa(t)):(await t.pu.stop(),t.lu.length>0&&(N("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new at,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Pw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ga(t,e){if(We("AsyncQueue",`${e}: ${t}`),xi(t))return new O(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new ko(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Iu=new Ve(M.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):F():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ko(e,n,ko.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Du(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.Eu=void 0,this.listeners=[]}}class y6{constructor(){this.queries=new Oi(e=>YO(e),Du),this.onlineState="Unknown",this.Au=new Set}}async function Dw(t,e){const n=L(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new v6),i)try{s.Eu=await n.onListen(r)}catch(o){const a=ga(o,`Initialization of query '${zv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Mw(n)}async function Rw(t,e){const n=L(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function w6(t,e){const n=L(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&Mw(n)}function S6(t,e,n){const r=L(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Mw(t){t.Au.forEach(e=>{e.next()})}class Lw{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.Nu=e,this.byteLength=n}ku(){return"metadata"in this.Nu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.serializer=e}Hi(e){return qn(this.serializer,e)}Ji(e){return e.metadata.exists?wA(this.serializer,e.document,!1):_e.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Ge(e)}}class E6{constructor(e,n,r){this.Ou=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZA(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++n;const r=ce.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,r=new p_(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Hi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ee()).add(s);n.set(o,a)}}return n}async complete(){const e=await XB(this.localStore,new p_(this.serializer),this.documents,this.Ou.id),n=this.Mu(this.documents);for(const r of this.queries)await JB(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:e}}}function ZA(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.key=e}}class tN{constructor(e){this.key=e}}class nN{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ee(),this.mutatedKeys=ee(),this.Ku=JO(e),this.Gu=new ko(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new h_,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=Ru(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;d&&p?d.data.isEqual(p.data)?v!==m&&(r.track({type:3,doc:p}),w=!0):this.Wu(d,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),w=!0):d&&!p&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(f,d){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return p(f)-p(d)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Ko(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new h_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ee(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new tN(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new eN(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ee();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Ko.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class _6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class I6{constructor(e){this.key=e,this.ec=!1}}class T6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Oi(a=>YO(a),Du),this.ic=new Map,this.rc=new Set,this.oc=new Ve(M.comparator),this.uc=new Map,this.cc=new _w,this.ac={},this.hc=new Map,this.lc=Cs.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function k6(t,e){const n=jw(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await Ho(n.localStore,Kt(e));n.isPrimaryClient&&Zh(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await $w(n,e,r,a==="current",o.resumeToken)}return i}async function $w(t,e,n,r,i){t.dc=(f,d,p)=>async function(v,m,w,g){let h=m.view.zu(w);h.Mi&&(h=await bd(v.localStore,m.query,!1).then(({documents:S})=>m.view.zu(S,h)));const y=g&&g.targetChanges.get(m.targetId),b=m.view.applyChanges(h,v.isPrimaryClient,y);return Kv(v,m.targetId,b.Yu),b.snapshot}(t,f,d,p);const s=await bd(t.localStore,e,!0),o=new nN(e,s.Wi),a=o.zu(s.documents),l=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Kv(t,n,u.Yu);const c=new _6(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function C6(t,e){const n=L(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Du(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Go(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nu(n.remoteStore,r.targetId),Qo(n,r.targetId)}).catch(Ci)):(Qo(n,r.targetId),await Go(n.localStore,r.targetId,!0))}async function x6(t,e,n){const r=Vw(t);try{const i=await function(s,o){const a=L(s),l=De.now(),u=o.reduce((d,p)=>d.add(p.key),ee());let c,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=qt(),v=ee();return a.Ki.getEntries(d,u).next(m=>{p=m,p.forEach((w,g)=>{g.isValidDocument()||(v=v.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,p)).next(m=>{c=m;const w=[];for(const g of o){const h=sB(g,c.get(g.key).overlayedDocument);h!=null&&w.push(new Sr(g.key,h,jO(h.value.mapValue),Pe.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,w,o)}).next(m=>{f=m;const w=m.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(d,m.batchId,w)})}).then(()=>({batchId:f.batchId,changes:eA(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ve(Z)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await br(r,i.changes),await pa(r.remoteStore)}catch(i){const s=ga(i,"Failed to persist write");n.reject(s)}}async function rN(t,e){const n=L(t);try{const r=await QB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(B(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?B(o.ec):i.removedDocuments.size>0&&(B(o.ec),o.ec=!1))}),await br(n,r,e)}catch(r){await Ci(r)}}function m_(t,e,n){const r=L(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const f of c.listeners)f.Ru(o)&&(l=!0)}),l&&Mw(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O6(t,e,n){const r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ve(M.comparator);o=o.insert(s,_e.newNoDocument(s,W.min()));const a=ee().add(s),l=new Lu(W.min(),new Map,new ve(Z),o,a);await rN(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),zw(r)}else await Go(r.localStore,e,!1).then(()=>Qo(r,e,n)).catch(Ci)}async function A6(t,e){const n=L(t),r=e.batch.batchId;try{const i=await KB(n.localStore,e);Uw(n,r,null),Fw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await br(n,i)}catch(i){await Ci(i)}}async function N6(t,e,n){const r=L(t);try{const i=await function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(B(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Uw(r,e,n),Fw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await br(r,i)}catch(i){await Ci(i)}}async function P6(t,e){const n=L(t);Ai(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=L(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.hc.get(r)||[];i.push(e),n.hc.set(r,i)}catch(r){const i=ga(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Fw(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Uw(t,e,n){const r=L(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Qo(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||iN(t,r)})}function iN(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(nu(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),zw(t))}function Kv(t,e,n){for(const r of n)r instanceof eN?(t.cc.addReference(r.key,e),D6(t,r)):r instanceof tN?(N("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||iN(t,r.key)):F()}function D6(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.rc.add(r),zw(t))}function zw(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new M(ce.fromString(e)),r=t.lc.next();t.uc.set(r,new I6(n)),t.oc=t.oc.insert(n,r),Zh(t.remoteStore,new ti(Kt(ca(n.path)),r,2,Vt.ct))}}async function br(t,e,n){const r=L(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=kw.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=L(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,f=>T.forEach(f.Vi,d=>u.persistence.referenceDelegate.addReference(c,f.targetId,d)).next(()=>T.forEach(f.Si,d=>u.persistence.referenceDelegate.removeReference(c,f.targetId,d)))))}catch(c){if(!xi(c))throw c;N("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const f=c.targetId;if(!c.fromCache){const d=u.Li.get(f),p=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(f,v)}}}(r.localStore,s))}async function R6(t,e){const n=L(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=await UA(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new O(k.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await br(n,r.Qi)}}function M6(t,e){const n=L(t),r=n.uc.get(e);if(r&&r.ec)return ee().add(r.key);{let i=ee();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}async function L6(t,e){const n=L(t),r=await bd(n.localStore,e.query,!0),i=e.view.Xu(r);return n.isPrimaryClient&&Kv(n,e.targetId,i.Yu),i}async function $6(t,e){const n=L(t);return BA(n.localStore,e).then(r=>br(n,r))}async function F6(t,e,n,r){const i=L(t),s=await function(o,a){const l=L(o),u=L(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.In(c,a).next(f=>f?l.localDocuments.getDocuments(c,f):T.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await pa(i.remoteStore):n==="acknowledged"||n==="rejected"?(Uw(i,e,r||null),Fw(i,e),function(o,a){L(L(o).mutationQueue).En(a)}(i.localStore,e)):F(),await br(i,s)):N("SyncEngine","Cannot apply mutation batch with id: "+e)}async function U6(t,e){const n=L(t);if(jw(n),Vw(n),e===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await g_(n,r.toArray());n.fc=!0,await Gv(n.remoteStore,!0);for(const s of i)Zh(n.remoteStore,s)}else if(e===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Qo(n,o),Go(n.localStore,o,!0))),nu(n.remoteStore,o)}),await i,await g_(n,r),function(s){const o=L(s);o.uc.forEach((a,l)=>{nu(o.remoteStore,l)}),o.cc.ls(),o.uc=new Map,o.oc=new Ve(M.comparator)}(n),n.fc=!1,await Gv(n.remoteStore,!1)}}async function g_(t,e,n){const r=L(t),i=[],s=[];for(const o of e){let a;const l=r.ic.get(o);if(l&&l.length!==0){a=await Ho(r.localStore,Kt(l[0]));for(const u of l){const c=r.sc.get(u),f=await L6(r,c);f.snapshot&&s.push(f.snapshot)}}else{const u=await VA(r.localStore,o);a=await Ho(r.localStore,u),await $w(r,sN(u),o,!1,a.resumeToken)}i.push(a)}return r.nc.zo(s),i}function sN(t){return QO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function z6(t){const e=L(t);return L(L(e.localStore).persistence).bi()}async function j6(t,e,n,r){const i=L(t);if(i.fc)return void N("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await BA(i.localStore,XO(s[0])),a=Lu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",tt.EMPTY_BYTE_STRING);await br(i,o,a);break}case"rejected":await Go(i.localStore,e,!0),Qo(i,e,r);break;default:F()}}async function V6(t,e,n){const r=jw(t);if(r.fc){for(const i of e){if(r.ic.has(i)){N("SyncEngine","Adding an already active target "+i);continue}const s=await VA(r.localStore,i),o=await Ho(r.localStore,s);await $w(r,sN(s),o.targetId,!1,o.resumeToken),Zh(r.remoteStore,o)}for(const i of n)r.ic.has(i)&&await Go(r.localStore,i,!1).then(()=>{nu(r.remoteStore,i),Qo(r,i)}).catch(Ci)}}function jw(t){const e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O6.bind(null,e),e.nc.zo=w6.bind(null,e.eventManager),e.nc.wc=S6.bind(null,e.eventManager),e}function Vw(t){const e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N6.bind(null,e),e}function B6(t,e,n){const r=L(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(f,d){const p=L(f),v=Ge(d.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",m=>p.xs.getBundleMetadata(m,d.id)).then(m=>!!m&&m.createTime.compareTo(v)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(ZA(a));const l=new E6(a,i.localStore,s.serializer);let u=await s._c();for(;u;){const f=await l.$u(u);f&&o._updateProgress(f),u=await s._c()}const c=await l.complete();return await br(i,c.Bu,void 0),await function(f,d){const p=L(f);return p.persistence.runTransaction("Save bundle","readwrite",v=>p.xs.saveBundleMetadata(v,d))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Fu)}catch(a){return mr("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Qv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FA(this.persistence,new $A,e.initialUser,this.serializer)}createPersistence(e){return new LA(Jh.Fs,this.serializer)}createSharedClientState(e){return new WA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class oN extends Qv{constructor(e,n,r){super(),this.mc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.mc.initialize(this,e),await Vw(this.mc.syncEngine),await pa(this.mc.remoteStore),await this.persistence.hi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return FA(this.persistence,new $A,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new DB(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new g5(n,this.persistence);return new m5(e.asyncQueue,r)}createPersistence(e){const n=Tw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new Iw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,HA(),ef(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WA}}class q6 extends oN{constructor(e,n){super(e,n,!1),this.mc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.mc.syncEngine;this.sharedClientState instanceof Rm&&(this.sharedClientState.syncEngine={$r:F6.bind(null,n),Mr:j6.bind(null,n),Fr:V6.bind(null,n),bi:z6.bind(null,n),Or:$6.bind(null,n)},await this.sharedClientState.start()),await this.persistence.hi(async r=>{await U6(this.mc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=HA();if(!Rm.D(n))throw new O(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Tw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Rm(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Bw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>m_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R6.bind(null,this.syncEngine),await Gv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new y6}createDatastore(e){const n=Fu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new n6(i));var i;return function(s,o,a,l){return new s6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>m_(this.syncEngine,a,0),o=f_.D()?new f_:new ZB,new a6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new T6(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=L(e);N("RemoteStore","RemoteStore shutting down."),n.du.add(5),await ha(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):We("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.Ic=e,this.serializer=n,this.metadata=new at,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}async getMetadata(){return this.metadata.promise}async _c(){return await this.getMetadata(),this.Ec()}async Ec(){const e=await this.Ac();if(e===null)return null;const n=this.Tc.decode(e),r=Number(n);isNaN(r)&&this.Rc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new b6(JSON.parse(i),e.length+r)}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ac(){for(;this.bc()<0&&!await this.Pc(););if(this.buffer.length===0)return null;const e=this.bc();e<0&&this.Rc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Pc()&&this.Rc("Reached the end of bundle when more is expected.");const n=this.Tc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pc(){const e=await this.Ic.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new O(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=L(r),o=eu(s.serializer)+"/documents",a={documents:i.map(f=>Zl(s.serializer,f))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(f=>{const d=hB(s.serializer,f);u.set(d.key.toString(),d)});const c=[];return i.forEach(f=>{const d=u.get(f.toString());B(!!d),c.push(d)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new da(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=M.fromPath(r);this.mutations.push(new pw(i,this.precondition(i)))}),await async function(n,r){const i=L(n),s=eu(i.serializer)+"/documents",o={writes:r.map(a=>tu(i.serializer,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw F();n=W.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new O(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(W.min())?Pe.exists(!1):Pe.updateTime(n):Pe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(W.min()))throw new O(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pe.updateTime(n)}return Pe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Vc=r.maxAttempts,this.Co=new xw(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){this.Co.Ao(async()=>{const e=new H6(this.datastore),n=this.Dc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Cc(i)}))}).catch(r=>{this.Cc(r)})})}Dc(e){try{const n=this.updateFunction(e);return!Nu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!fA(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=kO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{N("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(N("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new at;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ga(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qw(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>d_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>d_(e.remoteStore,s)),t._onlineComponents=e}function aN(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!aN(n))throw n;mr("Error using user provided cache. Falling back to memory cache: "+n),await tf(t,new Qv)}}else N("FirestoreClient","Using default OfflineComponentProvider"),await tf(t,new Qv);return t._offlineComponents}async function tp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),await Yv(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),await Yv(t,new Bw))),t._onlineComponents}function lN(t){return qw(t).then(e=>e.persistence)}function Ww(t){return qw(t).then(e=>e.localStore)}function uN(t){return tp(t).then(e=>e.remoteStore)}function Hw(t){return tp(t).then(e=>e.syncEngine)}function Q6(t){return tp(t).then(e=>e.datastore)}async function Yo(t){const e=await tp(t),n=e.eventManager;return n.onListen=k6.bind(null,e.syncEngine),n.onUnlisten=C6.bind(null,e.syncEngine),n}function Y6(t){return t.asyncQueue.enqueue(async()=>{const e=await lN(t),n=await uN(t);return e.setNetworkEnabled(!0),function(r){const i=L(r);return i.du.delete(0),Uu(i)}(n)})}function X6(t){return t.asyncQueue.enqueue(async()=>{const e=await lN(t),n=await uN(t);return e.setNetworkEnabled(!1),async function(r){const i=L(r);i.du.add(0),await ha(i),i.mu.set("Offline")}(n)})}function J6(t,e){const n=new at;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=L(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new O(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=ga(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Ww(t),e,n)),n.promise}function cN(t,e,n={}){const r=new at;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new ep({next:f=>{s.enqueueAndForget(()=>Rw(i,c));const d=f.docs.has(o);!d&&f.fromCache?l.reject(new O(k.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&a.source==="server"?l.reject(new O(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new Lw(ca(o.path),u,{includeMetadataChanges:!0,xu:!0});return Dw(i,c)}(await Yo(t),t.asyncQueue,e,n,r)),r.promise}function Z6(t,e){const n=new at;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await bd(r,i,!0),a=new nN(i,o.Wi),l=a.zu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=ga(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Ww(t),e,n)),n.promise}function fN(t,e,n={}){const r=new at;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new ep({next:f=>{s.enqueueAndForget(()=>Rw(i,c)),f.fromCache&&a.source==="server"?l.reject(new O(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),c=new Lw(o,u,{includeMetadataChanges:!0,xu:!0});return Dw(i,c)}(await Yo(t),t.asyncQueue,e,n,r)),r.promise}function e8(t,e){const n=new ep(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){L(r).Au.add(i),i.next()}(await Yo(t),n)),()=>{n.yc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){L(r).Au.delete(i)}(await Yo(t),n))}}function t8(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new W6(l,u)}(function(l,u){if(l instanceof Uint8Array)return v_(l,u);if(l instanceof ArrayBuffer)return v_(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Fu(e));t.asyncQueue.enqueueAndForget(async()=>{B6(await Hw(t),i,r)})}function n8(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=L(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.xs.getNamedQuery(s,r))}(await Ww(t),e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t,e,n){if(!n)throw new O(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dN(t,e,n,r){if(e===!0&&r===!0)throw new O(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w_(t){if(!M.isDocumentKey(t))throw new O(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S_(t){if(M.isDocumentKey(t))throw new O(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function np(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":F()}function de(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=np(t);throw new O(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hN(t,e){if(e<=0)throw new O(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new O(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new r5;switch(n.type){case"firstParty":return new a5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new O(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=y_.get(e);n&&(N("ComponentProvider","Removing Datastore"),y_.delete(e),n.terminate())}(this),Promise.resolve()}}function r8(t,e,n,r={}){var i;const s=(t=de(t,zu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&mr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=it.MOCK_USER;else{o=r4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new O(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new it(l)}t._authCredentials=new i5(new TO(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ke(this.firestore,e,this._key)}}class yt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yt(this.firestore,e,this._query)}}class Wn extends yt{constructor(e,n,r){super(e,n,ca(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ke(this.firestore,null,new M(e))}withConverter(e){return new Wn(this.firestore,e,this._path)}}function pN(t,e,...n){if(t=ye(t),Gw("collection","path",e),t instanceof zu){const r=ce.fromString(e,...n);return S_(r),new Wn(t,null,r)}{if(!(t instanceof ke||t instanceof Wn))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return S_(r),new Wn(t.firestore,null,r)}}function i8(t,e){if(t=de(t,zu),Gw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(k.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yt(t,null,function(n){return new wr(ce.emptyPath(),n)}(e))}function Td(t,e,...n){if(t=ye(t),arguments.length===1&&(e=kO.A()),Gw("doc","path",e),t instanceof zu){const r=ce.fromString(e,...n);return w_(r),new ke(t,null,new M(r))}{if(!(t instanceof ke||t instanceof Wn))throw new O(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ce.fromString(e,...n));return w_(r),new ke(t.firestore,t instanceof Wn?t.converter:null,new M(r))}}function mN(t,e){return t=ye(t),e=ye(e),(t instanceof ke||t instanceof Wn)&&(e instanceof ke||e instanceof Wn)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function gN(t,e){return t=ye(t),e=ye(e),t instanceof yt&&e instanceof yt&&t.firestore===e.firestore&&Du(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new xw(this,"async_queue_retry"),this.qc=()=>{const n=ef();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=ef();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new at;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!xi(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw We("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Pw.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&F()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function Xv(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class o8{constructor(){this._progressObserver={},this._taskCompletionResolver=new at,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=-1;class Be extends zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new s8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vN(this),this._firestoreClient.terminate()}}function ft(t){return t._firestoreClient||vN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vN(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new F5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new K6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function l8(t,e){wN(t=de(t,Be));const n=ft(t);if(n._uninitializedComponentsProvider)throw new O(k.FAILED_PRECONDITION,"SDK cache is already specified.");mr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Bw;return yN(n,i,new oN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function u8(t){wN(t=de(t,Be));const e=ft(t);if(e._uninitializedComponentsProvider)throw new O(k.FAILED_PRECONDITION,"SDK cache is already specified.");mr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Bw;return yN(e,r,new q6(r,n.cacheSizeBytes))}function yN(t,e,n){const r=new at;return t.asyncQueue.enqueue(async()=>{try{await tf(t,n),await Yv(t,e),r.resolve()}catch(i){const s=i;if(!aN(s))throw s;mr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function c8(t){if(t._initialized&&!t._terminated)throw new O(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new at;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!In.D())return Promise.resolve();const r=n+"main";await In.delete(r)}(Tw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function f8(t){return function(e){const n=new at;return e.asyncQueue.enqueueAndForget(async()=>P6(await Hw(e),n)),n.promise}(ft(t=de(t,Be)))}function d8(t){return Y6(ft(t=de(t,Be)))}function h8(t){return X6(ft(t=de(t,Be)))}function p8(t,e){const n=ft(t=de(t,Be)),r=new o8;return t8(n,t._databaseId,e,r),r}function m8(t,e){return n8(ft(t=de(t,Be)),e).then(n=>n?new yt(t,null,n.query):null)}function wN(t){if(t._initialized||t._terminated)throw new O(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tt.fromBase64String(e))}catch(n){throw new O(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=/^__.*__$/;class v8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new fa(e,this.data,n,this.fieldTransforms)}}class SN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class ip{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return kd(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(bN(this.Yc)&&g8.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class y8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fu(e)}ua(e,n,r,i=!1){return new ip({Yc:e,methodName:n,oa:r,path:He.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fs(t){const e=t._freezeSettings(),n=Fu(t._databaseId);return new y8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sp(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);Xw("Data must be an object, but it was:",o,r);const a=IN(r,o);let l,u;if(s.merge)l=new Bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Jv(e,f,n);if(!o.contains(d))throw new O(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);kN(c,d)||c.push(d)}l=new Bt(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new v8(new pt(a),l,u)}class ju extends $s{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function EN(t,e,n){return new ip({Yc:3,oa:e.settings.oa,methodName:t._methodName,ta:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Kw extends $s{_toFieldTransform(e){return new Mu(e.path,new Bo)}isEqual(e){return e instanceof Kw}}class w8 extends $s{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=EN(this,e,!0),r=this.ca.map(s=>Us(s,n)),i=new _s(r);return new Mu(e.path,i)}isEqual(e){return this===e}}class S8 extends $s{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=EN(this,e,!0),r=this.ca.map(s=>Us(s,n)),i=new Is(r);return new Mu(e.path,i)}isEqual(e){return this===e}}class b8 extends $s{constructor(e,n){super(e),this.aa=n}_toFieldTransform(e){const n=new qo(e.serializer,iA(e.serializer,this.aa));return new Mu(e.path,n)}isEqual(e){return this===e}}function Qw(t,e,n,r){const i=t.ua(1,e,n);Xw("Data must be an object, but it was:",i,r);const s=[],o=pt.empty();Ls(r,(l,u)=>{const c=Jw(e,l,n);u=ye(u);const f=i.na(c);if(u instanceof ju)s.push(c);else{const d=Us(u,f);d!=null&&(s.push(c),o.set(c,d))}});const a=new Bt(s);return new SN(o,a,i.fieldTransforms)}function Yw(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Jv(e,r,n)],l=[i];if(s.length%2!=0)throw new O(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Jv(e,s[d])),l.push(s[d+1]);const u=[],c=pt.empty();for(let d=a.length-1;d>=0;--d)if(!kN(u,a[d])){const p=a[d];let v=l[d];v=ye(v);const m=o.na(p);if(v instanceof ju)u.push(p);else{const w=Us(v,m);w!=null&&(u.push(p),c.set(p,w))}}const f=new Bt(u);return new SN(c,f,o.fieldTransforms)}function _N(t,e,n,r=!1){return Us(n,t.ua(r?4:3,e))}function Us(t,e){if(TN(t=ye(t)))return Xw("Unsupported field value:",e,t),IN(t,e);if(t instanceof $s)return function(n,r){if(!bN(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Us(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ye(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iA(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=De.fromDate(n);return{timestampValue:Wo(r.serializer,i)}}if(n instanceof De){const i=new De(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Wo(r.serializer,i)}}if(n instanceof rp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Gn)return{bytesValue:mA(r.serializer,n._byteString)};if(n instanceof ke){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ww(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${np(n)}`)}(t,e)}function IN(t,e){const n={};return FO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{const s=Us(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof De||t instanceof rp||t instanceof Gn||t instanceof ke||t instanceof $s)}function Xw(t,e,n){if(!TN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=np(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function Jv(t,e,n){if((e=ye(e))instanceof wi)return e._internalPath;if(typeof e=="string")return Jw(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const E8=new RegExp("[~\\*/\\[\\]]");function Jw(t,e,n){if(e.search(E8)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wi(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(k.INVALID_ARGUMENT,a+t+l)}function kN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(op("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _8 extends ru{data(){return super.data()}}function op(t,e){return typeof e=="string"?Jw(t,e):e instanceof wi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}class Vu extends Zw{}function Cr(t,e,...n){let r=[];e instanceof Zw&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof e1).length,o=i.filter(a=>a instanceof ap).length;if(s>1||s>0&&o>0)throw new O(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ap extends Vu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ap(e,n,r)}_apply(e){const n=this._parse(e);return ON(e._query,n),new yt(e.firestore,e.converter,Uv(e._query,n))}_parse(e){const n=Fs(e.firestore);return function(i,s,o,a,l,u,c){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new O(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){__(c,u);const d=[];for(const p of c)d.push(E_(a,i,p));f={arrayValue:{values:d}}}else f=E_(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||__(c,u),f=_N(o,s,c,u==="in"||u==="not-in");return se.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function I8(t,e,n){const r=e,i=op("where",t);return ap._create(i,r,n)}class e1 extends Zw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:he.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)ON(s,a),s=Uv(s,a)}(e._query,n),new yt(e.firestore,e.converter,Uv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t1 extends Vu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new O(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new To(i,s);return function(a,l){if(dw(a)===null){const u=Hh(a);u!==null&&AN(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new yt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new wr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function T8(t,e="asc"){const n=e,r=op("orderBy",t);return t1._create(r,n)}class lp extends Vu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lp(e,n,r)}_apply(e){return new yt(e.firestore,e.converter,vd(e._query,this._limit,this._limitType))}}function k8(t){return hN("limit",t),lp._create("limit",t,"F")}function C8(t){return hN("limitToLast",t),lp._create("limitToLast",t,"L")}class up extends Vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new up(e,n,r)}_apply(e){const n=xN(e,this.type,this._docOrFields,this._inclusive);return new yt(e.firestore,e.converter,function(r,i){return new wr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function x8(...t){return up._create("startAt",t,!0)}function O8(...t){return up._create("startAfter",t,!1)}class cp extends Vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cp(e,n,r)}_apply(e){const n=xN(e,this.type,this._docOrFields,this._inclusive);return new yt(e.firestore,e.converter,function(r,i){return new wr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function A8(...t){return cp._create("endBefore",t,!1)}function N8(...t){return cp._create("endAt",t,!0)}function xN(t,e,n,r){if(n[0]=ye(n[0]),n[0]instanceof ru)return function(i,s,o,a,l){if(!a)throw new O(k.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of os(i))if(c.field.isKeyField())u.push(bs(s,a.key));else{const f=a.data.field(c.field);if(cw(f))throw new O(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const d=c.field.canonicalString();throw new O(k.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(f)}return new vi(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Fs(t.firestore);return function(s,o,a,l,u,c){const f=s.explicitOrderBy;if(u.length>f.length)throw new O(k.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let p=0;p<u.length;p++){const v=u[p];if(f[p].field.isKeyField()){if(typeof v!="string")throw new O(k.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof v}`);if(!hw(s)&&v.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${v}' contains a slash.`);const m=s.path.child(ce.fromString(v));if(!M.isDocumentKey(m))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const w=new M(m);d.push(bs(o,w))}else{const m=_N(a,l,v);d.push(m)}}return new vi(d,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function E_(t,e,n){if(typeof(n=ye(n))=="string"){if(n==="")throw new O(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hw(e)&&n.indexOf("/")!==-1)throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ce.fromString(n));if(!M.isDocumentKey(r))throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bs(t,new M(r))}if(n instanceof ke)return bs(t,n._key);throw new O(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(n)}.`)}function __(t,e){if(!Array.isArray(t)||t.length===0)throw new O(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ON(t,e){if(e.isInequality()){const r=Hh(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new O(k.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=dw(t);s!==null&&AN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function AN(t,e,n){if(!n.isEqual(e))throw new O(k.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class n1{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return Ls(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new rp(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=UO(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=pi(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ce.fromString(e);B(TA(r));const i=new mi(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||We(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class P8 extends n1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends ru{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(op("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ul extends gr{data(e={}){return super.data(e)}}class Si{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ul(this._firestore,this._userDataWriter,r.key,r,new Xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ul(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ul(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:D8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function NN(t,e){return t instanceof gr&&e instanceof gr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Si&&e instanceof Si&&t._firestore===e._firestore&&gN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){t=de(t,ke);const e=de(t.firestore,Be);return cN(ft(e),t._key).then(n=>r1(e,t,n))}class zs extends n1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function M8(t){t=de(t,ke);const e=de(t.firestore,Be),n=ft(e),r=new zs(e);return J6(n,t._key).then(i=>new gr(e,r,t._key,i,new Xi(i!==null&&i.hasLocalMutations,!0),t.converter))}function L8(t){t=de(t,ke);const e=de(t.firestore,Be);return cN(ft(e),t._key,{source:"server"}).then(n=>r1(e,t,n))}function $8(t){t=de(t,yt);const e=de(t.firestore,Be),n=ft(e),r=new zs(e);return CN(t._query),fN(n,t._query).then(i=>new Si(e,r,t,i))}function F8(t){t=de(t,yt);const e=de(t.firestore,Be),n=ft(e),r=new zs(e);return Z6(n,t._query).then(i=>new Si(e,r,t,i))}function U8(t){t=de(t,yt);const e=de(t.firestore,Be),n=ft(e),r=new zs(e);return fN(n,t._query,{source:"server"}).then(i=>new Si(e,r,t,i))}function I_(t,e,n){t=de(t,ke);const r=de(t.firestore,Be),i=fp(t.converter,e,n);return Bu(r,[sp(Fs(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pe.none())])}function T_(t,e,n,...r){t=de(t,ke);const i=de(t.firestore,Be),s=Fs(i);let o;return o=typeof(e=ye(e))=="string"||e instanceof wi?Yw(s,"updateDoc",t._key,e,n,r):Qw(s,"updateDoc",t._key,e),Bu(i,[o.toMutation(t._key,Pe.exists(!0))])}function z8(t){return Bu(de(t.firestore,Be),[new da(t._key,Pe.none())])}function j8(t,e){const n=de(t.firestore,Be),r=Td(t),i=fp(t.converter,e);return Bu(n,[sp(Fs(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pe.exists(!1))]).then(()=>r)}function PN(t,...e){var n,r,i;t=ye(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Xv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Xv(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof ke)u=de(t.firestore,Be),c=ca(t._key.path),l={next:f=>{e[o]&&e[o](r1(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=de(t,yt);u=de(f.firestore,Be),c=f._query;const d=new zs(u);l={next:p=>{e[o]&&e[o](new Si(u,d,f,p))},error:e[o+1],complete:e[o+2]},CN(t._query)}return function(f,d,p,v){const m=new ep(v),w=new Lw(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>Dw(await Yo(f),w)),()=>{m.yc(),f.asyncQueue.enqueueAndForget(async()=>Rw(await Yo(f),w))}}(ft(u),c,a,l)}function V8(t,e){return e8(ft(t=de(t,Be)),Xv(e)?e:{next:e})}function Bu(t,e){return function(n,r){const i=new at;return n.asyncQueue.enqueueAndForget(async()=>x6(await Hw(n),r,i)),i.promise}(ft(t),e)}function r1(t,e,n){const r=n.docs.get(e._key),i=new zs(t);return new gr(t,i,e._key,r,new Xi(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Fs(e)}set(e,n,r){this._verifyNotCommitted();const i=Ur(e,this._firestore),s=fp(i.converter,n,r),o=sp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Pe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ur(e,this._firestore);let o;return o=typeof(n=ye(n))=="string"||n instanceof wi?Yw(this._dataReader,"WriteBatch.update",s._key,n,r,i):Qw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Pe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ur(e,this._firestore);return this._mutations=this._mutations.concat(new da(n._key,Pe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ur(t,e){if((t=ye(t)).firestore!==e)throw new O(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Fs(e)}get(e){const n=Ur(e,this._firestore),r=new P8(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return F();const s=i[0];if(s.isFoundDocument())return new ru(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new ru(this._firestore,r,n._key,null,n.converter);throw F()})}set(e,n,r){const i=Ur(e,this._firestore),s=fp(i.converter,n,r),o=sp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Ur(e,this._firestore);let o;return o=typeof(n=ye(n))=="string"||n instanceof wi?Yw(this._dataReader,"Transaction.update",s._key,n,r,i):Qw(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Ur(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ur(e,this._firestore),r=new zs(this._firestore);return super.get(e).then(i=>new gr(this._firestore,r,n._key,i._document,new Xi(!1,!1),n.converter))}}function H8(t,e,n){t=de(t,Be);const r=Object.assign(Object.assign({},B8),n);return function(i){if(i.maxAttempts<1)throw new O(k.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new at;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Q6(i);new G6(i.asyncQueue,l,o,s,a).run()}),a.promise}(ft(t),i=>e(new W8(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(){return new ju("deleteField")}function K8(){return new Kw("serverTimestamp")}function Q8(...t){return new w8("arrayUnion",t)}function Y8(...t){return new S8("arrayRemove",t)}function X8(t){return new b8("increment",t)}(function(t,e=!0){(function(n){ua=n})(Ii),fi(new dr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Be(new s5(n.getProvider("auth-internal")),new u5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new O(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mi(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),jn(EE,"3.10.1",t),jn(EE,"3.10.1","esm2017")})();const J8="@firebase/firestore-compat",Z8="0.3.7";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new O("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(){if(typeof Uint8Array>"u")throw new O("unimplemented","Uint8Arrays are not available in this environment.")}function C_(){if(!L5())throw new O("unimplemented","Blobs are unavailable in Firestore in this environment.")}class iu{constructor(e){this._delegate=e}static fromBase64String(e){return C_(),new iu(Gn.fromBase64String(e))}static fromUint8Array(e){return k_(),new iu(Gn.fromUint8Array(e))}toBase64(){return C_(),this._delegate.toBase64()}toUint8Array(){return k_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){return eq(t,["next","error","complete"])}function eq(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{enableIndexedDbPersistence(e,n){return l8(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return u8(e._delegate)}clearIndexedDbPersistence(e){return c8(e._delegate)}}class DN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&mr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){r8(this._delegate,e,n,r)}enableNetwork(){return d8(this._delegate)}disableNetwork(){return h8(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dN("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return f8(this._delegate)}onSnapshotsInSync(e){return V8(this._delegate,e)}get app(){if(!this._appCompat)throw new O("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Xo(this,pN(this._delegate,e))}catch(n){throw Pt(n,"collection()","Firestore.collection()")}}doc(e){try{return new dn(this,Td(this._delegate,e))}catch(n){throw Pt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Nt(this,i8(this._delegate,e))}catch(n){throw Pt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return H8(this._delegate,n=>e(new RN(this,n)))}batch(){return ft(this._delegate),new MN(new q8(this._delegate,e=>Bu(this._delegate,e)))}loadBundle(e){return p8(this._delegate,e)}namedQuery(e){return m8(this._delegate,e).then(n=>n?new Nt(this,n):null)}}class dp extends n1{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(new Gn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return dn.forKey(n,this.firestore,null)}}function nq(t){t5(t)}class RN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new dp(e)}get(e){const n=Ji(e);return this._delegate.get(n).then(r=>new su(this._firestore,new gr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ji(e);return r?(i1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ji(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ji(e);return this._delegate.delete(n),this}}class MN{constructor(e){this._delegate=e}set(e,n,r){const i=Ji(e);return r?(i1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Ji(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Ji(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class xs{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ul(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ou(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=xs.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new xs(e,new dp(e),n),i.set(n,s)),s}}xs.INSTANCES=new WeakMap;class dn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dp(e)}static forPath(e,n,r){if(e.length%2!==0)throw new O("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dn(n,new ke(n._delegate,r,new M(e)))}static forKey(e,n,r){return new dn(n,new ke(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Xo(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Xo(this.firestore,pN(this._delegate,e))}catch(n){throw Pt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ye(e),e instanceof ke?mN(this._delegate,e):!1}set(e,n){n=i1("DocumentReference.set",n);try{return n?I_(this._delegate,e,n):I_(this._delegate,e)}catch(r){throw Pt(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?T_(this._delegate,e):T_(this._delegate,e,n,...r)}catch(i){throw Pt(i,"updateDoc()","DocumentReference.update()")}}delete(){return z8(this._delegate)}onSnapshot(...e){const n=LN(e),r=$N(e,i=>new su(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PN(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=M8(this._delegate):(e==null?void 0:e.source)==="server"?n=L8(this._delegate):n=R8(this._delegate),n.then(r=>new su(this.firestore,new gr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new dn(this.firestore,e?this._delegate.withConverter(xs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pt(t,e,n){return t.message=t.message.replace(e,n),t}function LN(t){for(const e of t)if(typeof e=="object"&&!Zv(e))return e;return{}}function $N(t,e){var n,r;let i;return Zv(t[0])?i=t[0]:Zv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class su{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new dn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return NN(this._delegate,e._delegate)}}class ou extends su{data(e){const n=this._delegate.data(e);return n5(n!==void 0),n}}class Nt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dp(e)}where(e,n,r){try{return new Nt(this.firestore,Cr(this._delegate,I8(e,n,r)))}catch(i){throw Pt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Nt(this.firestore,Cr(this._delegate,T8(e,n)))}catch(r){throw Pt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Nt(this.firestore,Cr(this._delegate,k8(e)))}catch(n){throw Pt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Nt(this.firestore,Cr(this._delegate,C8(e)))}catch(n){throw Pt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Nt(this.firestore,Cr(this._delegate,x8(...e)))}catch(n){throw Pt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Nt(this.firestore,Cr(this._delegate,O8(...e)))}catch(n){throw Pt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Nt(this.firestore,Cr(this._delegate,A8(...e)))}catch(n){throw Pt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Nt(this.firestore,Cr(this._delegate,N8(...e)))}catch(n){throw Pt(n,"endAt()","Query.endAt()")}}isEqual(e){return gN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=F8(this._delegate):(e==null?void 0:e.source)==="server"?n=U8(this._delegate):n=$8(this._delegate),n.then(r=>new ey(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=LN(e),r=$N(e,i=>new ey(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PN(this._delegate,n,r)}withConverter(e){return new Nt(this.firestore,e?this._delegate.withConverter(xs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class rq{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ou(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ey{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Nt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ou(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new rq(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ou(this._firestore,r))})}isEqual(e){return NN(this._delegate,e._delegate)}}class Xo extends Nt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dn(this.firestore,e):null}doc(e){try{return e===void 0?new dn(this.firestore,Td(this._delegate)):new dn(this.firestore,Td(this._delegate,e))}catch(n){throw Pt(n,"doc()","CollectionReference.doc()")}}add(e){return j8(this._delegate,e).then(n=>new dn(this.firestore,n))}isEqual(e){return mN(this._delegate,e._delegate)}withConverter(e){return new Xo(this.firestore,e?this._delegate.withConverter(xs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ji(t){return de(t,ke)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(...e){this._delegate=new wi(...e)}static documentId(){return new s1(He.keyField().canonicalString())}isEqual(e){return e=ye(e),e instanceof wi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._delegate=e}static serverTimestamp(){const e=K8();return e._methodName="FieldValue.serverTimestamp",new Bi(e)}static delete(){const e=G8();return e._methodName="FieldValue.delete",new Bi(e)}static arrayUnion(...e){const n=Q8(...e);return n._methodName="FieldValue.arrayUnion",new Bi(n)}static arrayRemove(...e){const n=Y8(...e);return n._methodName="FieldValue.arrayRemove",new Bi(n)}static increment(e){const n=X8(e);return n._methodName="FieldValue.increment",new Bi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq={Firestore:DN,GeoPoint:rp,Timestamp:De,Blob:iu,Transaction:RN,WriteBatch:MN,DocumentReference:dn,DocumentSnapshot:su,Query:Nt,QueryDocumentSnapshot:ou,QuerySnapshot:ey,CollectionReference:Xo,FieldPath:s1,FieldValue:Bi,setLogLevel:nq,CACHE_SIZE_UNLIMITED:a8};function sq(t,e){t.INTERNAL.registerComponent(new dr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},iq)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(t){sq(t,(e,n)=>new DN(e,n,new tq)),t.registerVersion(J8,Z8)}oq(Rs);const aq=()=>{const[t,e]=x.useState(""),[n,r]=x.useState(""),i=new Date,s=di(),o=Rs.firestore(),[a,l]=x.useState([]),[u,c]=x.useState(""),f=Jd(m=>m.selectedMovie.selectedMovie),d=f;console.log("comments: "+f.title),x.useEffect(()=>{o.collection("comments").where("movieid","==",d.id.toString()).onSnapshot(g=>{if(g.empty)console.log("No comments found for movie",d.id);else{const h=g.docs.map(y=>y.data());console.log("Comments for movie",d.id,":",h),l(h)}},g=>{console.log("Error getting comments:",g)})},[]);const p=()=>{const m=i.toString(),w=new Intl.DateTimeFormat("en-US").format(i).toString();console.log("formatDate"+w);const g=d.id.toString();o.collection("comments").doc(m).set({text:t,name:n,time:w,movieid:g,timeStamp:m}).then(()=>{console.log("saved.")}).catch(h=>{console.error("error saving: ",h)}),e("")};return x.useEffect(()=>{const m=Ch(s,w=>{if(w){const g=w.uid;console.log(g),c(w),o.collection("users").doc(g).get().then(y=>{if(y.exists){const S=y.data().username;console.log("Username:",S),r(S)}else console.log("cant fint username")}).catch(y=>{console.log("Error getting document:",y)})}else console.log("user is signed out")});return()=>{m()}},[]),ne("div",{className:"comments-wrapper",children:[u&&ne("div",{children:[C("textarea",{className:"comment-input",value:t,onChange:m=>{const{value:w}=m.target;e(w)},name:"text",type:"text",placeholder:"your comment..."}),C("button",{onClick:p,children:"comment"})]}),C("div",{className:"comments-list",children:a&&a.slice().reverse().map(m=>ne("div",{children:[C("span",{children:m.name})," ",m.time,": ",C("br",{})," ",m.text]},m.timeStamp))})]})};function lq(t){const e=Jd(S=>S.selectedMovie.selectedMovie);console.log("movieinfo: "+e.title);const[n,r]=x.useState([]),[i,s]=x.useState(null),[o,a]=x.useState(!0),[l,u]=x.useState(!1),[c,f]=x.useState(!1),{movie:d}=t,p=d.vote_average,v="https://image.tmdb.org/t/p/w185";let m=Ps();x.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=305f99214975faee28a0f129881c6ec9&language=en-US").then(S=>S.json()).then(S=>{r(S.genres)}).catch(S=>console.log(S)),fetch(`https://api.themoviedb.org/3/movie/${d.id}/videos?api_key=305f99214975faee28a0f129881c6ec9&language=en-US`).then(S=>S.json()).then(S=>{const E=S.results.find(I=>I.type==="Trailer");E&&s(E.key)}).catch(S=>console.log(S))},[d.id]);const w=t.movie.genre_ids.map(S=>{const E=n.find(I=>I.id===S);return E?E.name:""}),g=()=>{m("/payment/")},h=()=>{a(!0),u(!1),f(!1)},y=()=>{a(!1),u(!0),f(!1)},b=()=>{a(!1),u(!1),f(!0)};return ne("div",{className:"movieinfo",children:[C("h1",{children:t.movie.title}),ne("div",{className:"poster-container",children:[C("img",{src:v+t.movie.poster_path,alt:t.movie.title}),ne("div",{className:"movie-details",children:[ne("p",{className:"movie-detail",children:[C("strong",{children:"Genres: "}),w.join(", ")]}),ne("p",{className:"movie-detail",children:[C("strong",{children:"Language: "}),t.movie.original_language]}),ne("p",{className:"movie-detail",children:[C("strong",{children:"Release: "}),t.movie.release_date]}),ne("p",{children:[C("strong",{children:"Rating:"})," ",p]}),ne("div",{className:"details-nav",children:[C("button",{className:"ratebtn",children:C(zn,{icon:W3})}),C("button",{className:"ratebtn",children:C(zn,{icon:B3})})]})]})]}),ne("div",{className:"movieinfobuybtns",children:[ne("button",{className:"movieinfobtn",onClick:g,children:[C(zn,{icon:z3}),"Buy 199Kr"]}),C("button",{className:"movieinfobtn",onClick:()=>handleAddtolist(d),children:"+ Add to watch list"})]}),ne("div",{className:"details-nav",children:[C("button",{className:"details-btn",onClick:h,children:"About"}),C("button",{className:"details-btn",onClick:y,children:"Trailer"}),C("button",{className:"details-btn",onClick:b,children:"Comments"})]}),o&&C("div",{className:"",children:ne("p",{className:"overview",children:[C("strong",{children:"Overview"})," ",C("br",{})," ",t.movie.overview]})}),l&&C(Bj,{children:C("iframe",{src:`https://www.youtube.com/embed/${i}`,title:"YouTube video player",allowFullScreen:!0})}),c&&C("div",{children:C(aq,{})})]})}const uq=()=>{const t=di(),e=Rs.firestore(),n=Ps(),r={NORMAL:" _",VALID:"Username is available",EXISTS:"The username is already taken",INVALID:"Username must not contain spaces"},[i,s]=x.useState(r.NORMAL),[o,a]=x.useState(!1),[l,u]=x.useState(!1),c=S=>{const{value:E}=S.target;v(E)?(S.target.setCustomValidity(""),a(!0)):(S.target.setCustomValidity("Please enter a valid email address with a valid domain"),a(!1))},f=S=>{const{value:E}=S.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(E)?(S.target.setCustomValidity(""),u(!0)):S.target.setCustomValidity("The password should be a minimum of 8 characters long and include at least one uppercase letter and one number")},d=()=>{const S=document.getElementById("username-input").value;if(S==="")s(r.NORMAL);else if(p(S))s(r.INVALID);else{const E=S.charAt(0).toUpperCase()+S.slice(1);e.collection("users").where("username","==",E).get().then(I=>{I.empty?s(r.VALID):s(r.EXISTS)})}},p=S=>/\s/.test(S),v=S=>{if(/^\s*$/.test(S))return console.log(" tom"),!1;console.log("inte tom");const I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,_=S.substring(S.lastIndexOf("@")+1);return I.test(S)&&_==="gmail.com"||I.test(S)&&_==="hotmail.com"||I.test(S)&&_==="outlook.com"||I.test(S)&&_==="yahoo.com"?!0:!!(I.test(S)&&_==="live.com")},m=()=>{const S=document.getElementById("email-input").value,E=document.getElementById("password-input").value,I=document.getElementById("repeatpassword-input").value;i==r.INVALID?(console.log("status",r),alert("Username must not contain spaces")):i==r.EXISTS?alert("The username is already taken, please enter a new username"):E!=I?alert("The passwords you entered are not identical. Please try again"):w(S,E)},w=(S,E)=>{const I=document.getElementById("username-input").value;mz(t,S,E).then(_=>{console.log(_.user.email,"lyckats logga in!"),g(I,S)}).catch(_=>{console.log(_)})},g=(S,E)=>{const I=S.charAt(0).toUpperCase()+S.slice(1),_=t.currentUser.uid;e.collection("users").doc(_).set({username:I,email:E}).then(()=>{console.log("Document successfully written!"),n(-2)}).catch(A=>{console.error("Error writing document: ",A)})},h=()=>{n(-1)},y=S=>{if(S.key==="Enter"){const E=S.target.nextElementSibling;E&&E.focus()}};return ne("div",{className:"sign-up-page",children:[C("div",{className:"fa-icon-container",onClick:h,children:C(zn,{className:"fa-times-icon",icon:bC})}),C("section",{className:"signup-title",children:C("h1",{children:"Create an account"})}),ne("form",{onSubmit:S=>{S.preventDefault(),m()},className:"sign-up-container",children:[C("p",{className:i===r.EXISTS?"text-danger":i===r.VALID?"text-success":i===r.INVALID?"text-danger":"",children:i}),C("input",{type:"text",id:"username-input",placeholder:"Username",onBlur:d,onKeyUp:y,required:!0}),C("input",{type:"text",id:"email-input",placeholder:"Email",onKeyUp:y,onChange:c,required:!0}),C("input",{type:"password",id:"password-input",placeholder:"Password",onKeyUp:y,onChange:f,required:!0}),C("input",{type:"password",id:"repeatpassword-input",placeholder:"Repeat Password",required:!0}),C("section",{className:"signup-button-container",children:C("button",{type:"submit",children:"Sign up"})})]})]})};const cq=({icon:t,...e})=>{const[n,r]=x.useState(!1),i=()=>{r(!n)};return ne("div",{className:"password-input-container",children:[C("input",{type:n?"text":"password",...e}),C(zn,{icon:n?V3:j3,onClick:i,className:"password-input-icon"})]})},fq=()=>{di();const t=Ps(),[e,n]=x.useState(""),[r,i]=x.useState(!1),[s,o]=x.useState(!1),a={EMAILMISSING:"Please enter your email",PASSWORDMISSING:"Please enter your password",INVALIDEMAIL:"Invalid email",WRONGPASSWORD:"Wrong password",USERNOTFOUND:"User not found"};return ne("div",{className:"login-page",children:[C("div",{className:"fa-icon-container",onClick:()=>{t(-1)},children:C(zn,{className:"fa-times-icon",icon:bC})}),C("section",{className:"signup-title",children:C("h1",{children:"Sign in"})}),ne("section",{className:"sign-up-container",children:[C("p",{className:"error-message",children:e}),C("input",{type:"text",className:r?"email-input red-border":"email-input",id:"userEmail-input",placeholder:"Enter you email"}),C(cq,{id:"userPassword-input",className:s?"password-input red-border":"password-input",name:"password",placeholder:"Enter your password"})]}),C("p",{className:"register-member",onClick:()=>{t("/signup/")},children:"Not registered yet? Register here!"}),C("section",{className:"signup-button-container",children:C("button",{onClick:async()=>{const f=document.getElementById("userEmail-input").value,d=document.getElementById("userPassword-input").value;if(f==="")n(a.EMAILMISSING),i(!0);else if(d==="")n(a.PASSWORDMISSING),o(!0);else{const p=di();gz(p,f,d).then(v=>{const m=v.user;console.log(m.uid),t(-1)}).catch(v=>{v.code==="auth/wrong-password"?(n(a.WRONGPASSWORD),o(!0)):v.code==="auth/invalid-email"?(n(a.INVALIDEMAIL),i(!0)):v.code==="auth/user-not-found"&&n(a.USERNOTFOUND)})}},children:"Sign in"})})]})};const dq="/MovieShop/assets/visa-c8c66644.png",hq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAkFBMVEUBb9D///8Aac8AbM8AbtAAas6StuWLteUAZ856peB/qeAof9X6/f1Jj9khd9IAZ83j7vfP4/Xf6faEruK5z+6iwehHi9cGc9EAZM1vod5TktrW5fWIseQAYs3s8/lkmtzD1++tyOqYuuU+hdZAhta/1O5gl9vr8fkjetIAXM0wgNTD1u+yy+ugveZ2p99Nkdo6d/JZAAALwklEQVR4nO2biXLiuhKGjRYiGMesMWJfAoRwksz7v921rW65ZYtzZwi5Vbeqv5qagCRb8m8t3S2RJAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzz/4BwGEnSlPDIaKoqv2sRocyRJkzTUuEtpEuhDZBaC7hAN2vStGC7SZG73YN8Anp1fWqGiU/d3NeoXn3qU/X966lN96ISmXeDtFVvIY1TQW5dkvLVG3Pd9ldQciIb9c9JozK86xGbpN3dJt+UQMw7yK9a38wndkYGE+1HnTorWzDsRCg006tW6uZFV29rcHLftRNBmdnnMCXF3CMLf4M082qpX5g4BkET4+62SXyhu7BL34AX/7RJVrcrvYI0arYJNRDjWxpMIunpohRhMKUaSNENC71VGihZq9v1Hb3WoPNiQQN3t7fvaaAXpJV+1FINOk/QCl33GOgHf6VBJ811QwOZ7BplnAa0pqH2U0mtQSfXD9QAepNj4jWnGoyhexja4Ds06AxNQ4P1qFnEaTCg6X5GoBqM3et6iAbqV0pbgOMs0KDzWg0GGaTdo0FnqwMNzKFVopoP5JEmLW1EAxi3D9HAvEDdDc2D53X1iT5tGZkPxq9HQj5TXoN5lZPnfbj91FANav3f9pOeY17KbU9Bo3BhCjRwo+ERGijtmjHcuhuPhAo0cK3YVBqsl7RhpB8sjaQUd0ANjsIlGWj92FINzCc8zkFaoR3l40pYlJY99/dkYxoMyz77CA0ENPZp8BZqDhrs3Z9zobm8uBL7tgZCEcqrUQNvWlhX8o1qoBRM/l0bPgH2zXni9E6vKqJBtTY8QAMl3KOnMxyaUxNosBr5NwElRqu2BlYTZEQDZdN2P5Cv7pNf7LFRsARvlAG9Yc1GDXCFXuhHaIBr0MdAXmBsZjLQwM0Bm8JQEe6t9dsapGPCcCdrDa5rW7JO9l5hogGMv27D0sV551Pg3LiZKarBAfrsUKoHaGBG/n3hPPRpqAbdmfs7F/LZPW/WrTWI2khjMh8MQRic++Z0XcBxeJZBmxQqW5hmFtrXF1SDFYhX9I/vayBzd6+lqdejNOgH3XdnE+wM9Mt/1kSD6NpINWgQ2gdoIh7D9ouzS97Z0h1wnzfVjIEadN/RpsnX39YAVOz0ykltDQ/k7CTUwEIrMpif5t/QoGEnGtQg7Aew/HQWVaNg7G811cBA7+wMv62BmoHKl6xgBu0eV8sjamCM+zBxJnUqxN0apOfQX/BjIXCP5dWlvqmyUQlM1cs11UB4P++w/6YGuAY1qDSvNXC1LF3T90a054N0STnFNUinM2cGew2woz8Fc6KdRhtVrjC1Bn72Ssff00CpNFrdruwIXgOcM1JoSqQfLN/d9A8QDUb/oOG/T2AFJPYBvPGlIA/g16cGp0Gggco2NPduDcQNo77zSjVQtMMXk1pMg1YYBzV4Xa/xhf2GQhEbqW/rKwdtF8Jdf5FUAxr1+IYGKu7xFEwt0SChHn5Re0wDq6mtnFAbSeHymx6dD0xtZRyLEyPcHYpHCd4v4VMEGvjR8C0NcDhGKEySWgN59b2zXLIj88H4eUEhPlMxiuUMpC7fZKiB8nceHrbllVcZ+mWUYs2WVAOZkEFzrwb4gvZzzxZewsEQDbyhUnpUSawfNCC+czmTafQOh5UJGvjOjUl5IQ3c8VA3ag6X90XQD4LRcKcGCqz1NDPe1LfwfBsliQb6C6vq36NBomFWLVZN2YihkDheKbHFoNbGCN+o9R4ktKEGikR/7tQA16APMiEptD36hmjg14+0NNv/XoPE4KgbFX51I5ZGA0a/NXa5gyGNAn+1sxWBBoWL7eeO+zRA+whiRICBwPFYEA28XJUf7zVQ/xJTFaHfaDBKvDNKhDFVWa8DS4OeZCejj4QhvJENNSCj4T4NBAzF8Zqm+m57zkh12EMr50Ycag1uxNaVD42j72xx4J+0acbWL59wl7nGPrIzQaOwG+XoN+JabDHAeV9sXc77JZNcRpPPima7L+C85S6HlA6ZFC9RHt3HC97XfLnM1VWf3SdfrxR2tuj1+z2lkp677NoIKHxBY2YT99dnu4R+f36HAgUk4hFLVpJmu0R4c+6La7+OUBUS5Apy3yJFkutRBgkpvlCoASarZjbm6IRhGOYnIScNyCmC+sABLSv9yQPZvKA+dhBmGHqEoHFWIThhUMzNzTZARvPsw/d2nmMSzLoRVnJ7cJ+eyIKsc8g+JOfGBb18NnAh4cshzOkvMjjzIfNGVsUWlhf5Ol8FGRNnW5lsMQnSD8eHi0DOH9SkswuapydvYtdRj9W6HZjavMyqraO8nXO6Ot+nfVahA/scUq9aVti+zDD5rhlqAbf0oRrEwjmbmfbu7gFEkAKbeTDR4NwmF1ENimZ/VcZ3NJTzMSgdgmU7o7RPbbed/mL+9XkeqIESOWZMqkqV9tEyeyNAmRYuSVQDcERvaqAi8ZSpjW5Xd9JfD+8GNzWoncDCj0vq8Hxnt74ZpB2bWxqUb/WGBiYeXT3Kxs48MLX/9ZEeo0HlPFtsc7URhK9kWcbQbmjQ2epbGhQ9OK7ByahYdHUnwlNRnuvDZ8R63zn7Ramy/HNvZhZ2xzvDakcQNEifL654zx87QA26kLOFkT60XoPthdaUSQ1hteGZZJTVrEGbw5WU/wmPATR4sY2TBUm5iYwvYonjYuMmZdTgF8RYBcygY4EaTOCogvAb3n6rJRfBKQbfqY6F2UFboBIQ9l3R4j+oQWy2VbZxkio9wgkp0MB3TIiVvSkMTKzQuIJ5JL3U8ZbGq4TNndaap2DZfrE/0P0DUIN182hBiZThonWGJ/tzDRREzdKs7geGVlXvNEyl88PRuFQahH/FC4T5Gd8Zz+IMKb5XyBm1Xb4wGTW4QER0DQGopZ8PJhZMbTCMhgPfD4KqNr+lxEhZCmnj3eG1tIhxHxavGC8/5skPzgchUz8yNJm0u35ZQg0mLijee4FC+wFq8AabknCK4va6cJY+wEv5kCq6+gwXjzeR4hp81BWJIxaY1hHJW2tjLm/aB7dspEUxKUaswfI0j4y2bfvtc9t/rYFfIP2EeFuD0/qWjfR1004sNEjWp0hG2XPOkcal2f/GX6jHgvmqUzd+5o5rME7UDQ1W5f1ujYVy9uu2W1HZqnnEkXh6eEfAOXFEWPrTU3hexjFERzqqwa60a2IajI7ObwQNlkFVLnZsst50B0koR+lVa51//gPpuMcxeviMgGvju7Gm+GeL/41BCXQevp8l2ChtDdLdwlLfeXnC/j1SsL6jBse1qaopa7IWD/XpsvKqAXDsBs4Kyapwlf4Mx0wfvjT8m43kIwYpdkmIJuC68LV1nPPEQhAeNOi/v2O4YGJCDZ7/y3jGW7T6PBz83vyYBjY0YEuUNw7meIoCfk/QtA/qUJqsbSQ8eNmZO33jtnK1GxlgwV7oaxWk67VrxPin5oNp/kzIq8fxRmLX1mbC0yCJ2IkeokG9X3w2VIMvWtXvwidVYd0TqOq3zn7TjDMY7uVpnR/RIKT0nZX/FcO+GNDC/wKkZ/5Qg0QNQET3w5b4ulAsQevobuabDH5KUjP/qbEQUq5Ldg9fdtWeV71IFpban2lQWNpgJm7KTe+bcaR1dFd7IuIHaIbq8THVuAZ1KG8MdXprLn3Vf6hB4qOSpWHzdxrs7I1DRE238+c0sHheaOPNsjVGEzYX+4caJALNhWEdP/gjDaaF0xTTYPP8eFNZxmPrifflatmVwKjqmwL74Npa5poLm8EbjTMTja2fIvNBOqpm0fZ8MDxkj5egMPy+em3mcg6faM+TMyjbz3P3IWv1A5X1qxJ+I0Sc8Rp97EeqKvwFvQ0rf87cJpO8hhecr/Lxm0wVsZ/x6kTr5o9tk3rbqzAHNN0Oa5ehBxL8plpzN81XEO7ckX07ckFlhPx0QIlhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGOZh/AdoZttGpNzlCQAAAABJRU5ErkJggg==",pq="/MovieShop/assets/Mastercard-1520e9af.png",mq=({setIsPaymentSuccessful:t,cardName:e,cardNumber:n,expDate:r,cvv:i,setCVV:s,setCardNumber:o,setCardName:a,setExpDate:l})=>{const[u,c]=x.useState(!1),[f,d]=x.useState(!1),[p,v]=x.useState(!1),[m,w]=x.useState(!1);return C("div",{children:ne("form",{onSubmit:E=>{E.preventDefault(),u==!0&&p==!0&&f==!0&&m==!0&&(console.log("you now bought the movie"),t(!0)),console.log(u,f,p,m)},children:[ne("div",{className:"paymentform",children:["Card Number:",C("input",{type:"text",onChange:E=>{const{value:I}=E.target,_=/^\d{15}$/.test(I);o(I),_?(E.target.setCustomValidity(""),c(!0),console.log("its valid")):(E.target.setCustomValidity("Please enter a valid 15-digit card number"),console.log("its not  valid")),console.log(I)},value:n,placeholder:"Valid Card Number"}),"Exp. Date:",C("input",{type:"text",onChange:E=>{const{value:I}=E.target,_=/^(0[1-9]|1[0-2])\/\d{2}$/.test(I);l(I),_?(E.target.setCustomValidity(""),console.log("Valid Exp date"),w(!0)):(E.target.setCustomValidity("Please submit a correct exp.Date"),console.log(" Exp date,is not valid"))},value:r,placeholder:"MM/YY"}),"cvv/CVC:",C("input",{type:"text",onChange:E=>{const{value:I}=E.target;s(I),/^\d{4}$/.test(I)?(E.target.setCustomValidity(""),console.log("correct cvv for visa and mastercard"),v(!0)):(E.target.setCustomValidity("Please submit a valid cvv/CVC number"),console.log("its not 4 digits"))},value:i,placeholder:"1234"}),"Name on Card:",C("input",{type:"text",onChange:E=>{const{value:I}=E.target,_=/^[a-zA-Z\u00C0-\u00ff]+\s?[a-zA-Z\u00C0-\u00ff]+$/.test(I);a(I),_?(E.target.setCustomValidity(""),d(!0)):E.target.setCustomValidity("Please use only letters")},value:e,placeholder:"Jamile Jonson"})]}),C("button",{className:"submitButton",type:"submit",children:" Buy 199kr"})]})})},gq=()=>{const t=Jd(ae=>ae.selectedMovie.selectedMovie);console.log("payment: "+t.title);const e="https://image.tmdb.org/t/p/w185",[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(""),[l,u]=x.useState(""),[c,f]=x.useState(""),[d,p]=x.useState(!1),[v,m]=x.useState(!1),[w,g]=x.useState(!1),[h,y]=x.useState(!1),[b,S]=x.useState(!1),E=di(),I=t;let _=Ps();const A=()=>{_(-1)},P=ae=>{const{value:R}=ae.target;f(R),console.log(R)},H=ae=>{const{value:R}=ae.target,q=/^\d{16}$/.test(R);r(R),q?(ae.target.setCustomValidity(""),p(!0),console.log("its valid")):(ae.target.setCustomValidity("Please enter a valid 16-digit card number"),console.log("its not  valid")),console.log(R)},K=ae=>{const{value:R}=ae.target,q=/^(0[1-9]|1[0-2])\/\d{2}$/.test(R);s(R),q?(ae.target.setCustomValidity(""),console.log("Valid Exp date"),y(!0)):(ae.target.setCustomValidity("Please submit a correct exp.Date"),console.log(" Exp date,is not valid"))},G=ae=>{const{value:R}=ae.target;a(R);const q=/^\d{3}$/.test(R);c=="American Express"||console.log("here we land up if there is not found out to be a Amex card."),q?(ae.target.setCustomValidity(""),console.log("correct cvv for amex"),g(!0)):(ae.target.setCustomValidity("Please submit a valid 4 digit cvv/CVC number"),console.log("its not 4 numbers"))},ln=ae=>{const{value:R}=ae.target,q=/^[a-zA-Z\u00C0-\u00ff]+\s?[a-zA-Z\u00C0-\u00ff]+$/.test(R);u(R),q?(console.log("its a string without numbers or symbols"),ae.target.setCustomValidity(""),m(!0)):(ae.target.setCustomValidity("Please use only letters"),console.log("please use only letters"))},Ke=()=>{const ae=Rs.firestore();if(E.currentUser!=null){const q=E.currentUser.uid;ae.collection("users").doc(q).collection("purchased").doc().set(I).then(()=>{console.log("saved.")}).catch(Y=>{console.error("error saving: ",Y)})}else ae.collection("users").doc("demo-user").collection("purchased").doc(I.title).set({title:I.title,img:e+I.poster_path,overview:I.overview}).then(()=>{console.log("saved.")}).catch(q=>{console.error("error saving: ",q)})},xt=ae=>{ae.preventDefault(),d==!0&&w==!0&&v==!0&&h==!0?(console.log("all fields area valid"),S(!0),console.log(d,v,w,h),Ke()):(console.log("fields are not valid"),console.log(n,l,o,i))};return ne("div",{className:"payment-container",children:[C("button",{onClick:A,className:"exit-button",children:"x"}),ne("div",{className:"div-for-web",children:[C("div",{className:"small-info",children:b?ne("div",{children:[C("h2",{children:"Purchased:"}),C("img",{className:"poster",src:e+I.poster_path})," ",C("button",{id:"playButton",children:"Play movie"})," "]}):ne("div",{children:[" ",C("h2",{children:"Checkout:"}),C("img",{className:"poster",src:e+I.poster_path})," ",C("h2",{children:I.title})," "]})}),b?C("div",{}):ne("div",{className:"payment-form-wrapper",children:[C("input",{type:"checkbox",value:"Visa",name:"cardType",checked:c==="Visa",onChange:P}),C("img",{className:`creditcard ${c==="Visa"?"selected":""}`,src:dq,alt:""}),C("input",{type:"checkbox",value:"Mastercard",name:"cardType",checked:c==="Mastercard",onChange:P}),C("img",{className:`creditcard ${c==="Mastercard"?"selected":""}`,src:pq,alt:""}),C("input",{type:"checkbox",value:"American Express",name:"cardType",checked:c==="American Express",onChange:P}),C("img",{className:`creditcard ${c==="American Express"?"selected":""}`,src:hq,alt:""}),C("div",{}),c==="American Express"?C(mq,{setIsPaymentSuccessful:S,setCardName:u,setCVV:a,setCardNumber:r,setExpDate:s,cardName:l,cardNumber:n,cvv:o,expDate:i}):ne("form",{onSubmit:xt,children:[ne("div",{className:"paymentform",children:["Card Number:",C("input",{type:"text",onChange:H,value:n,placeholder:"Valid Card Number"}),"Exp. Date:",C("input",{type:"text",onChange:K,value:i,placeholder:"MM/YY"}),"cvv/CVC:",C("input",{type:"text",onChange:G,value:o,placeholder:"123"}),"Name on Card:",C("input",{type:"text",onChange:ln,value:l,placeholder:"Jamile Jonson"})]}),C("button",{type:"submit",className:"submitButton",children:" Buy 199kr"})]})]})]})]})};const vq=({handleMovieClick:t})=>{const[e,n]=x.useState([]),[r,i]=x.useState(null);Ps(),x.useState(!0);const s=Rs.firestore(),o=di();Ch(o,l=>{l&&i(l)}),x.useEffect(()=>{async function l(){if(r!=null){const f=(await s.collection("users").doc(r.uid).collection("purchased").get()).docs.map(d=>d.data());n(f)}}l()},[r]),x.useEffect(()=>{async function l(){r!=null&&((await s.collection("users").doc(r.uid).collection("watchlist").get()).empty?console.log("watchlist finns inte"):console.log("watchlist finns"))}l()},[r]);const a=e&&e.map((l,u)=>C("div",{className:"purchased-item",children:ne("section",{children:[C("p",{className:"purchased-title",children:"Purchased"}),C("img",{src:Fj+l.poster_path,alt:l.title,className:"purchased-img"})]})},u));return ne("div",{className:"user-page",children:[C("h3",{children:"My movies"}),C("section",{className:"purchased-container",children:a}),C("h3",{children:"My watchlist"}),C("section",{className:"watchList-container",children:C("p",{children:"You haven't added any movies to your watchlist yet"})})]})};function yq(){const[t,e]=x.useState(null);return C("div",{className:"App",children:ne(o2,{children:[C(Mi,{path:"/",element:C($j,{setMovie:e})}),C(Mi,{path:"/movieinfo",element:C(lq,{movie:t})}),C(Mi,{path:"/login",element:C(fq,{})}),C(Mi,{path:"/userpage",element:C(vq,{})}),C(Mi,{path:"/signup",element:C(uq,{})}),C(Mi,{path:"/payment",element:C(gq,{movie:t})})]})})}const wq=Mk({movies:U$,selectedMovie:Lj}),Sq={apiKey:"AIzaSyDEfI0TLpFbsldRzHb72ZhZsXVKjiuRn1o",authDomain:"movieshop-e53aa.firebaseapp.com",projectId:"movieshop-e53aa",storageBucket:"movieshop-e53aa.appspot.com",messagingSenderId:"711049264258",appId:"1:711049264258:web:2e6a5ce723a1873b7a089b"};Rs.initializeApp(Sq);const bq=O$({reducer:wq});$m.createRoot(document.getElementById("root")).render(C(hn.StrictMode,{children:C(KL,{store:bq,children:C(a2,{children:C(yq,{})})})}));
