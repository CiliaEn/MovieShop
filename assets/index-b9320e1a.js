function GA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var vl={},QA={get exports(){return vl},set exports(t){vl=t}},Mf={},C={},YA={get exports(){return C},set exports(t){C=t}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),XA=Symbol.for("react.portal"),JA=Symbol.for("react.fragment"),ZA=Symbol.for("react.strict_mode"),eP=Symbol.for("react.profiler"),tP=Symbol.for("react.provider"),nP=Symbol.for("react.context"),rP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),sP=Symbol.for("react.memo"),oP=Symbol.for("react.lazy"),d1=Symbol.iterator;function aP(t){return t===null||typeof t!="object"?null:(t=d1&&t[d1]||t["@@iterator"],typeof t=="function"?t:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F_=Object.assign,U_={};function ra(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||$_}ra.prototype.isReactComponent={};ra.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ra.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z_(){}z_.prototype=ra.prototype;function iy(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||$_}var sy=iy.prototype=new z_;sy.constructor=iy;F_(sy,ra.prototype);sy.isPureReactComponent=!0;var f1=Array.isArray,j_=Object.prototype.hasOwnProperty,oy={current:null},V_={key:!0,ref:!0,__self:!0,__source:!0};function B_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j_.call(e,r)&&!V_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gu,type:t,key:s,ref:o,props:i,_owner:oy.current}}function lP(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ay(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function uP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h1=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uP(""+t.key):e.toString(36)}function zc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case XA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wp(o,0):r,f1(i)?(n="",t!=null&&(n=t.replace(h1,"$&/")+"/"),zc(i,e,n,"",function(u){return u})):i!=null&&(ay(i)&&(i=lP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(h1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",f1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wp(s,a);o+=zc(s,e,n,l,i)}else if(l=aP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wp(s,a++),o+=zc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return zc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},jc={transition:null},dP={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:jc,ReactCurrentOwner:oy};ce.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!ay(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=ra;ce.Fragment=JA;ce.Profiler=eP;ce.PureComponent=iy;ce.StrictMode=ZA;ce.Suspense=iP;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dP;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=oy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j_.call(e,l)&&!V_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gu,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:nP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tP,_context:t},t.Consumer=t};ce.createElement=B_;ce.createFactory=function(t){var e=B_.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:rP,render:t}};ce.isValidElement=ay;ce.lazy=function(t){return{$$typeof:oP,_payload:{_status:-1,_result:t},_init:cP}};ce.memo=function(t,e){return{$$typeof:sP,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ce.useContext=function(t){return Vt.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ce.useId=function(){return Vt.current.useId()};ce.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ce.useRef=function(t){return Vt.current.useRef(t)};ce.useState=function(t){return Vt.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Vt.current.useTransition()};ce.version="18.2.0";(function(t){t.exports=ce})(YA);const wn=L_(C),Um=GA({__proto__:null,default:wn},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP=C,hP=Symbol.for("react.element"),pP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,gP=fP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vP={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mP.call(e,r)&&!vP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hP,type:t,key:s,ref:o,props:i,_owner:gP.current}}Mf.Fragment=pP;Mf.jsx=q_;Mf.jsxs=q_;(function(t){t.exports=Mf})(QA);const W_=vl.Fragment,I=vl.jsx,H=vl.jsxs;var zm={},dd={},yP={get exports(){return dd},set exports(t){dd=t}},cn={},jm={},wP={get exports(){return jm},set exports(t){jm=t}},H_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,J){var Z=R.length;R.push(J);e:for(;0<Z;){var ge=Z-1>>>1,W=R[ge];if(0<i(W,J))R[ge]=J,R[Z]=W,Z=ge;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var J=R[0],Z=R.pop();if(Z!==J){R[0]=Z;e:for(var ge=0,W=R.length,F=W>>>1;ge<F;){var re=2*(ge+1)-1,vt=R[re],X=re+1,Tt=R[X];if(0>i(vt,Z))X<W&&0>i(Tt,vt)?(R[ge]=Tt,R[X]=Z,ge=X):(R[ge]=vt,R[re]=Z,ge=re);else if(X<W&&0>i(Tt,Z))R[ge]=Tt,R[X]=Z,ge=X;else break e}}return J}function i(R,J){var Z=R.sortIndex-J.sortIndex;return Z!==0?Z:R.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=R)r(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(u)}}function S(R){if(v=!1,g(R),!y)if(n(l)!==null)y=!0,ke(E);else{var J=n(u);J!==null&&tt(S,J.startTime-R)}}function E(R,J){y=!1,v&&(v=!1,m(_),_=-1),p=!0;var Z=f;try{for(g(J),d=n(l);d!==null&&(!(d.expirationTime>J)||R&&!B());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,f=d.priorityLevel;var W=ge(d.expirationTime<=J);J=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),g(J)}else r(l);d=n(l)}if(d!==null)var F=!0;else{var re=n(u);re!==null&&tt(S,re.startTime-J),F=!1}return F}finally{d=null,f=Z,p=!1}}var b=!1,k=null,_=-1,N=5,O=-1;function B(){return!(t.unstable_now()-O<N)}function q(){if(k!==null){var R=t.unstable_now();O=R;var J=!0;try{J=k(!0,R)}finally{J?z():(b=!1,k=null)}}else b=!1}var z;if(typeof h=="function")z=function(){h(q)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Ie=et.port2;et.port1.onmessage=q,z=function(){Ie.postMessage(null)}}else z=function(){w(q,0)};function ke(R){k=R,b||(b=!0,z())}function tt(R,J){_=w(function(){R(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ke(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var Z=f;f=J;try{return R()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,J){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Z=f;f=R;try{return J()}finally{f=Z}},t.unstable_scheduleCallback=function(R,J,Z){var ge=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Z+W,R={id:c++,callback:J,priorityLevel:R,startTime:Z,expirationTime:W,sortIndex:-1},Z>ge?(R.sortIndex=Z,e(u,R),n(l)===null&&R===n(u)&&(v?(m(_),_=-1):v=!0,tt(S,Z-ge))):(R.sortIndex=W,e(l,R),y||p||(y=!0,ke(E))),R},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(R){var J=f;return function(){var Z=f;f=J;try{return R.apply(this,arguments)}finally{f=Z}}}})(H_);(function(t){t.exports=H_})(wP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=C,on=jm;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K_=new Set,yl={};function Ms(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(yl[t]=e,t=0;t<e.length;t++)K_.add(e[t])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,SP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},m1={};function bP(t){return Vm.call(m1,t)?!0:Vm.call(p1,t)?!1:SP.test(t)?m1[t]=!0:(p1[t]=!0,!1)}function EP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _P(t,e,n,r){if(e===null||typeof e>"u"||EP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ly=/[\-:]([a-z])/g;function uy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ly,uy);_t[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ly,uy);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ly,uy);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cy(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_P(e,n,i,r)&&(n=null),r||i===null?bP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=G_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Q_=Symbol.for("react.provider"),Y_=Symbol.for("react.context"),fy=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),X_=Symbol.for("react.offscreen"),g1=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=g1&&t[g1]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Sp;function Ua(t){if(Sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sp=e&&e[1]||""}return`
`+Sp+t}var bp=!1;function Ep(t,e){if(!t||bp)return"";bp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ua(t):""}function IP(t){switch(t.tag){case 5:return Ua(t.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Hm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case Bm:return"Profiler";case dy:return"StrictMode";case qm:return"Suspense";case Wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y_:return(t.displayName||"Context")+".Consumer";case Q_:return(t._context.displayName||"Context")+".Provider";case fy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hy:return e=t.displayName||null,e!==null?e:Hm(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Hm(t(e))}catch{}}return null}function kP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hm(e);case 8:return e===dy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TP(t){var e=J_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=TP(t))}function Z_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=J_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eI(t,e){e=e.checked,e!=null&&cy(t,"checked",e,!1)}function Km(t,e){eI(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qm(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function y1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qm(t,e,n){(e!=="number"||fd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var za=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ym(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(za(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function tI(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function S1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,rI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CP=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){CP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function iI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function sI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var xP=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(xP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eg=null;function py(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tg=null,vo=null,yo=null;function b1(t){if(t=wu(t)){if(typeof tg!="function")throw Error(D(280));var e=t.stateNode;e&&(e=zf(e),tg(t.stateNode,t.type,e))}}function oI(t){vo?yo?yo.push(t):yo=[t]:vo=t}function aI(){if(vo){var t=vo,e=yo;if(yo=vo=null,b1(t),e)for(t=0;t<e.length;t++)b1(e[t])}}function lI(t,e){return t(e)}function uI(){}var _p=!1;function cI(t,e,n){if(_p)return t(e,n);_p=!0;try{return lI(t,e,n)}finally{_p=!1,(vo!==null||yo!==null)&&(uI(),aI())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=zf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var ng=!1;if(dr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){ng=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{ng=!1}function NP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ja=!1,hd=null,pd=!1,rg=null,OP={onError:function(t){Ja=!0,hd=t}};function AP(t,e,n,r,i,s,o,a,l){Ja=!1,hd=null,NP.apply(OP,arguments)}function PP(t,e,n,r,i,s,o,a,l){if(AP.apply(this,arguments),Ja){if(Ja){var u=hd;Ja=!1,hd=null}else throw Error(D(198));pd||(pd=!0,rg=u)}}function Ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function E1(t){if(Ls(t)!==t)throw Error(D(188))}function DP(t){var e=t.alternate;if(!e){if(e=Ls(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return E1(i),t;if(s===r)return E1(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function fI(t){return t=DP(t),t!==null?hI(t):null}function hI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hI(t);if(e!==null)return e;t=t.sibling}return null}var pI=on.unstable_scheduleCallback,_1=on.unstable_cancelCallback,RP=on.unstable_shouldYield,MP=on.unstable_requestPaint,Ke=on.unstable_now,LP=on.unstable_getCurrentPriorityLevel,my=on.unstable_ImmediatePriority,mI=on.unstable_UserBlockingPriority,md=on.unstable_NormalPriority,$P=on.unstable_LowPriority,gI=on.unstable_IdlePriority,Lf=null,Bn=null;function FP(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:jP,UP=Math.log,zP=Math.LN2;function jP(t){return t>>>=0,t===0?32:31-(UP(t)/zP|0)|0}var sc=64,oc=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ja(a):(s&=o,s!==0&&(r=ja(s)))}else o=n&~i,o!==0?r=ja(o):s!==0&&(r=ja(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function VP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vI(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function Ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function qP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function yI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wI,vy,SI,bI,EI,sg=!1,ac=[],ti=null,ni=null,ri=null,bl=new Map,El=new Map,zr=[],WP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I1(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(e.pointerId)}}function Ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wu(e),e!==null&&vy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HP(t,e,n,r,i){switch(e){case"focusin":return ti=Ta(ti,t,e,n,r,i),!0;case"dragenter":return ni=Ta(ni,t,e,n,r,i),!0;case"mouseover":return ri=Ta(ri,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bl.set(s,Ta(bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,El.set(s,Ta(El.get(s)||null,t,e,n,r,i)),!0}return!1}function _I(t){var e=Ji(t.target);if(e!==null){var n=Ls(e);if(n!==null){if(e=n.tag,e===13){if(e=dI(n),e!==null){t.blockedOn=e,EI(t.priority,function(){SI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=og(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);eg=r,n.target.dispatchEvent(r),eg=null}else return e=wu(n),e!==null&&vy(e),t.blockedOn=n,!1;e.shift()}return!0}function k1(t,e,n){Vc(t)&&n.delete(e)}function GP(){sg=!1,ti!==null&&Vc(ti)&&(ti=null),ni!==null&&Vc(ni)&&(ni=null),ri!==null&&Vc(ri)&&(ri=null),bl.forEach(k1),El.forEach(k1)}function Ca(t,e){t.blockedOn===e&&(t.blockedOn=null,sg||(sg=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,GP)))}function _l(t){function e(i){return Ca(i,t)}if(0<ac.length){Ca(ac[0],t);for(var n=1;n<ac.length;n++){var r=ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ti!==null&&Ca(ti,t),ni!==null&&Ca(ni,t),ri!==null&&Ca(ri,t),bl.forEach(e),El.forEach(e),n=0;n<zr.length;n++)r=zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<zr.length&&(n=zr[0],n.blockedOn===null);)_I(n),n.blockedOn===null&&zr.shift()}var wo=Ir.ReactCurrentBatchConfig,vd=!0;function KP(t,e,n,r){var i=ye,s=wo.transition;wo.transition=null;try{ye=1,yy(t,e,n,r)}finally{ye=i,wo.transition=s}}function QP(t,e,n,r){var i=ye,s=wo.transition;wo.transition=null;try{ye=4,yy(t,e,n,r)}finally{ye=i,wo.transition=s}}function yy(t,e,n,r){if(vd){var i=og(t,e,n,r);if(i===null)Rp(t,e,r,yd,n),I1(t,r);else if(HP(i,t,e,n,r))r.stopPropagation();else if(I1(t,r),e&4&&-1<WP.indexOf(t)){for(;i!==null;){var s=wu(i);if(s!==null&&wI(s),s=og(t,e,n,r),s===null&&Rp(t,e,r,yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rp(t,e,r,null,n)}}var yd=null;function og(t,e,n,r){if(yd=null,t=py(r),t=Ji(t),t!==null)if(e=Ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yd=t,null}function II(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LP()){case my:return 1;case mI:return 4;case md:case $P:return 16;case gI:return 536870912;default:return 16}default:return 16}}var Qr=null,wy=null,Bc=null;function kI(){if(Bc)return Bc;var t,e=wy,n=e.length,r,i="value"in Qr?Qr.value:Qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function T1(){return!1}function dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lc:T1,this.isPropagationStopped=T1,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sy=dn(ia),yu=je({},ia,{view:0,detail:0}),YP=dn(yu),kp,Tp,xa,$f=je({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:by,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(kp=t.screenX-xa.screenX,Tp=t.screenY-xa.screenY):Tp=kp=0,xa=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),C1=dn($f),XP=je({},$f,{dataTransfer:0}),JP=dn(XP),ZP=je({},yu,{relatedTarget:0}),Cp=dn(ZP),eD=je({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=dn(eD),nD=je({},ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rD=dn(nD),iD=je({},ia,{data:0}),x1=dn(iD),sD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aD[t])?!!e[t]:!1}function by(){return lD}var uD=je({},yu,{key:function(t){if(t.key){var e=sD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:by,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cD=dn(uD),dD=je({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N1=dn(dD),fD=je({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:by}),hD=dn(fD),pD=je({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=dn(pD),gD=je({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vD=dn(gD),yD=[9,13,27,32],Ey=dr&&"CompositionEvent"in window,Za=null;dr&&"documentMode"in document&&(Za=document.documentMode);var wD=dr&&"TextEvent"in window&&!Za,TI=dr&&(!Ey||Za&&8<Za&&11>=Za),O1=String.fromCharCode(32),A1=!1;function CI(t,e){switch(t){case"keyup":return yD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function SD(t,e){switch(t){case"compositionend":return xI(e);case"keypress":return e.which!==32?null:(A1=!0,O1);case"textInput":return t=e.data,t===O1&&A1?null:t;default:return null}}function bD(t,e){if(eo)return t==="compositionend"||!Ey&&CI(t,e)?(t=kI(),Bc=wy=Qr=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TI&&e.locale!=="ko"?null:e.data;default:return null}}var ED={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ED[t.type]:e==="textarea"}function NI(t,e,n,r){oI(r),e=wd(e,"onChange"),0<e.length&&(n=new Sy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,Il=null;function _D(t){zI(t,0)}function Ff(t){var e=ro(t);if(Z_(e))return t}function ID(t,e){if(t==="change")return e}var OI=!1;if(dr){var xp;if(dr){var Np="oninput"in document;if(!Np){var D1=document.createElement("div");D1.setAttribute("oninput","return;"),Np=typeof D1.oninput=="function"}xp=Np}else xp=!1;OI=xp&&(!document.documentMode||9<document.documentMode)}function R1(){el&&(el.detachEvent("onpropertychange",AI),Il=el=null)}function AI(t){if(t.propertyName==="value"&&Ff(Il)){var e=[];NI(e,Il,t,py(t)),cI(_D,e)}}function kD(t,e,n){t==="focusin"?(R1(),el=e,Il=n,el.attachEvent("onpropertychange",AI)):t==="focusout"&&R1()}function TD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ff(Il)}function CD(t,e){if(t==="click")return Ff(e)}function xD(t,e){if(t==="input"||t==="change")return Ff(e)}function ND(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:ND;function kl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vm.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function M1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L1(t,e){var n=M1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function PI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DI(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fd(t.document)}return e}function _y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OD(t){var e=DI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PI(n.ownerDocument.documentElement,n)){if(r!==null&&_y(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=L1(n,s);var o=L1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AD=dr&&"documentMode"in document&&11>=document.documentMode,to=null,ag=null,tl=null,lg=!1;function $1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lg||to==null||to!==fd(r)||(r=to,"selectionStart"in r&&_y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&kl(tl,r)||(tl=r,r=wd(ag,"onSelect"),0<r.length&&(e=new Sy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=to)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Op={},RI={};dr&&(RI=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Uf(t){if(Op[t])return Op[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RI)return Op[t]=e[n];return t}var MI=Uf("animationend"),LI=Uf("animationiteration"),$I=Uf("animationstart"),FI=Uf("transitionend"),UI=new Map,F1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(t,e){UI.set(t,e),Ms(e,[t])}for(var Ap=0;Ap<F1.length;Ap++){var Pp=F1[Ap],PD=Pp.toLowerCase(),DD=Pp[0].toUpperCase()+Pp.slice(1);Oi(PD,"on"+DD)}Oi(MI,"onAnimationEnd");Oi(LI,"onAnimationIteration");Oi($I,"onAnimationStart");Oi("dblclick","onDoubleClick");Oi("focusin","onFocus");Oi("focusout","onBlur");Oi(FI,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function U1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PP(r,e,void 0,t),t.currentTarget=null}function zI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U1(i,a,u),s=l}}}if(pd)throw t=rg,pd=!1,rg=null,t}function Te(t,e){var n=e[hg];n===void 0&&(n=e[hg]=new Set);var r=t+"__bubble";n.has(r)||(jI(e,t,2,!1),n.add(r))}function Dp(t,e,n){var r=0;e&&(r|=4),jI(n,t,r,e)}var cc="_reactListening"+Math.random().toString(36).slice(2);function Tl(t){if(!t[cc]){t[cc]=!0,K_.forEach(function(n){n!=="selectionchange"&&(RD.has(n)||Dp(n,!1,t),Dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cc]||(e[cc]=!0,Dp("selectionchange",!1,e))}}function jI(t,e,n,r){switch(II(e)){case 1:var i=KP;break;case 4:i=QP;break;default:i=yy}n=i.bind(null,e,n,t),i=void 0,!ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}cI(function(){var u=s,c=py(n),d=[];e:{var f=UI.get(t);if(f!==void 0){var p=Sy,y=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":p=cD;break;case"focusin":y="focus",p=Cp;break;case"focusout":y="blur",p=Cp;break;case"beforeblur":case"afterblur":p=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=C1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hD;break;case MI:case LI:case $I:p=tD;break;case FI:p=mD;break;case"scroll":p=YP;break;case"wheel":p=vD;break;case"copy":case"cut":case"paste":p=rD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=N1}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,g;h!==null;){g=h;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,m!==null&&(S=Sl(h,m),S!=null&&v.push(Cl(h,S,g)))),w)break;h=h.return}0<v.length&&(f=new p(f,y,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==eg&&(y=n.relatedTarget||n.fromElement)&&(Ji(y)||y[fr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Ji(y):null,y!==null&&(w=Ls(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(v=C1,S="onMouseLeave",m="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=N1,S="onPointerLeave",m="onPointerEnter",h="pointer"),w=p==null?f:ro(p),g=y==null?f:ro(y),f=new v(S,h+"leave",p,n,c),f.target=w,f.relatedTarget=g,S=null,Ji(c)===u&&(v=new v(m,h+"enter",y,n,c),v.target=g,v.relatedTarget=w,S=v),w=S,p&&y)t:{for(v=p,m=y,h=0,g=v;g;g=Hs(g))h++;for(g=0,S=m;S;S=Hs(S))g++;for(;0<h-g;)v=Hs(v),h--;for(;0<g-h;)m=Hs(m),g--;for(;h--;){if(v===m||m!==null&&v===m.alternate)break t;v=Hs(v),m=Hs(m)}v=null}else v=null;p!==null&&z1(d,f,p,v,!1),y!==null&&w!==null&&z1(d,w,y,v,!0)}}e:{if(f=u?ro(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=ID;else if(P1(f))if(OI)E=xD;else{E=TD;var b=kD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=CD);if(E&&(E=E(t,u))){NI(d,E,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Qm(f,"number",f.value)}switch(b=u?ro(u):window,t){case"focusin":(P1(b)||b.contentEditable==="true")&&(to=b,ag=u,tl=null);break;case"focusout":tl=ag=to=null;break;case"mousedown":lg=!0;break;case"contextmenu":case"mouseup":case"dragend":lg=!1,$1(d,n,c);break;case"selectionchange":if(AD)break;case"keydown":case"keyup":$1(d,n,c)}var k;if(Ey)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else eo?CI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(TI&&n.locale!=="ko"&&(eo||_!=="onCompositionStart"?_==="onCompositionEnd"&&eo&&(k=kI()):(Qr=c,wy="value"in Qr?Qr.value:Qr.textContent,eo=!0)),b=wd(u,_),0<b.length&&(_=new x1(_,t,null,n,c),d.push({event:_,listeners:b}),k?_.data=k:(k=xI(n),k!==null&&(_.data=k)))),(k=wD?SD(t,n):bD(t,n))&&(u=wd(u,"onBeforeInput"),0<u.length&&(c=new x1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}zI(d,e)})}function Cl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(Cl(t,s,i)),s=Sl(t,e),s!=null&&r.push(Cl(t,s,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,s),l!=null&&o.unshift(Cl(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(Cl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MD=/\r\n?/g,LD=/\u0000|\uFFFD/g;function j1(t){return(typeof t=="string"?t:""+t).replace(MD,`
`).replace(LD,"")}function dc(t,e,n){if(e=j1(e),j1(t)!==e&&n)throw Error(D(425))}function Sd(){}var ug=null,cg=null;function dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fg=typeof setTimeout=="function"?setTimeout:void 0,$D=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,FD=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(t){return V1.resolve(null).then(t).catch(UD)}:fg;function UD(t){setTimeout(function(){throw t})}function Mp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_l(e)}function ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Fn="__reactFiber$"+sa,xl="__reactProps$"+sa,fr="__reactContainer$"+sa,hg="__reactEvents$"+sa,zD="__reactListeners$"+sa,jD="__reactHandles$"+sa;function Ji(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B1(t);t!==null;){if(n=t[Fn])return n;t=B1(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[Fn]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function zf(t){return t[xl]||null}var pg=[],io=-1;function Ai(t){return{current:t}}function Ne(t){0>io||(t.current=pg[io],pg[io]=null,io--)}function _e(t,e){io++,pg[io]=t.current,t.current=e}var hi={},Rt=Ai(hi),Xt=Ai(!1),ps=hi;function Po(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function bd(){Ne(Xt),Ne(Rt)}function q1(t,e,n){if(Rt.current!==hi)throw Error(D(168));_e(Rt,e),_e(Xt,n)}function VI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,kP(t)||"Unknown",i));return je({},n,r)}function Ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,ps=Rt.current,_e(Rt,t),_e(Xt,Xt.current),!0}function W1(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=VI(t,e,ps),r.__reactInternalMemoizedMergedChildContext=t,Ne(Xt),Ne(Rt),_e(Rt,t)):Ne(Xt),_e(Xt,n)}var rr=null,jf=!1,Lp=!1;function BI(t){rr===null?rr=[t]:rr.push(t)}function VD(t){jf=!0,BI(t)}function Pi(){if(!Lp&&rr!==null){Lp=!0;var t=0,e=ye;try{var n=rr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,jf=!1}catch(i){throw rr!==null&&(rr=rr.slice(t+1)),pI(my,Pi),i}finally{ye=e,Lp=!1}}return null}var so=[],oo=0,_d=null,Id=0,mn=[],gn=0,ms=null,ir=1,sr="";function Vi(t,e){so[oo++]=Id,so[oo++]=_d,_d=t,Id=e}function qI(t,e,n){mn[gn++]=ir,mn[gn++]=sr,mn[gn++]=ms,ms=t;var r=ir;t=sr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ir=1<<32-An(e)+i|n<<i|r,sr=s+t}else ir=1<<s|n<<i|r,sr=t}function Iy(t){t.return!==null&&(Vi(t,1),qI(t,1,0))}function ky(t){for(;t===_d;)_d=so[--oo],so[oo]=null,Id=so[--oo],so[oo]=null;for(;t===ms;)ms=mn[--gn],mn[gn]=null,sr=mn[--gn],mn[gn]=null,ir=mn[--gn],mn[gn]=null}var rn=null,nn=null,Re=!1,Cn=null;function WI(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:ir,overflow:sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gg(t){if(Re){var e=nn;if(e){var n=e;if(!H1(t,e)){if(mg(t))throw Error(D(418));e=ii(n.nextSibling);var r=rn;e&&H1(t,e)?WI(r,n):(t.flags=t.flags&-4097|2,Re=!1,rn=t)}}else{if(mg(t))throw Error(D(418));t.flags=t.flags&-4097|2,Re=!1,rn=t}}}function G1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function fc(t){if(t!==rn)return!1;if(!Re)return G1(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dg(t.type,t.memoizedProps)),e&&(e=nn)){if(mg(t))throw HI(),Error(D(418));for(;e;)WI(t,e),e=ii(e.nextSibling)}if(G1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?ii(t.stateNode.nextSibling):null;return!0}function HI(){for(var t=nn;t;)t=ii(t.nextSibling)}function Do(){nn=rn=null,Re=!1}function Ty(t){Cn===null?Cn=[t]:Cn.push(t)}var BD=Ir.ReactCurrentBatchConfig;function kn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kd=Ai(null),Td=null,ao=null,Cy=null;function xy(){Cy=ao=Td=null}function Ny(t){var e=kd.current;Ne(kd),t._currentValue=e}function vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function So(t,e){Td=t,Cy=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(Cy!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(Td===null)throw Error(D(308));ao=t,Td.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var Zi=null;function Oy(t){Zi===null?Zi=[t]:Zi.push(t)}function GI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Oy(e)):(n.next=i.next,i.next=n),e.interleaved=n,hr(t,r)}function hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hr(t,n)}return i=r.interleaved,i===null?(e.next=e,Oy(r)):(e.next=i.next,i.next=e),r.interleaved=e,hr(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}function K1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cd(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(f=e,p=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=je({},d,f);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=d}}function Q1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var QI=new G_.Component().refs;function yg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vf={isMounted:function(t){return(t=t._reactInternals)?Ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ai(t),s=ur(r,i);s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Pn(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=ai(t),s=ur(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=si(t,s,i),e!==null&&(Pn(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ai(t),i=ur(n,r);i.tag=2,e!=null&&(i.callback=e),e=si(t,i,r),e!==null&&(Pn(e,t,r,n),Wc(e,t,r))}};function Y1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(i,s):!0}function YI(t,e,n){var r=!1,i=hi,s=e.contextType;return typeof s=="object"&&s!==null?s=bn(s):(i=Jt(e)?ps:Rt.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function X1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vf.enqueueReplaceState(e,e.state,null)}function wg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=QI,Ay(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bn(s):(s=Jt(e)?ps:Rt.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vf.enqueueReplaceState(i,i.state,null),Cd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===QI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J1(t){var e=t._init;return e(t._payload)}function XI(t){function e(m,h){if(t){var g=m.deletions;g===null?(m.deletions=[h],m.flags|=16):g.push(h)}}function n(m,h){if(!t)return null;for(;h!==null;)e(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=li(m,h),m.index=0,m.sibling=null,m}function s(m,h,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<h?(m.flags|=2,h):g):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,h,g,S){return h===null||h.tag!==6?(h=Bp(g,m.mode,S),h.return=m,h):(h=i(h,g),h.return=m,h)}function l(m,h,g,S){var E=g.type;return E===Zs?c(m,h,g.props.children,S,g.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$r&&J1(E)===h.type)?(S=i(h,g.props),S.ref=Na(m,h,g),S.return=m,S):(S=Xc(g.type,g.key,g.props,null,m.mode,S),S.ref=Na(m,h,g),S.return=m,S)}function u(m,h,g,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=qp(g,m.mode,S),h.return=m,h):(h=i(h,g.children||[]),h.return=m,h)}function c(m,h,g,S,E){return h===null||h.tag!==7?(h=ls(g,m.mode,S,E),h.return=m,h):(h=i(h,g),h.return=m,h)}function d(m,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Bp(""+h,m.mode,g),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case nc:return g=Xc(h.type,h.key,h.props,null,m.mode,g),g.ref=Na(m,null,h),g.return=m,g;case Js:return h=qp(h,m.mode,g),h.return=m,h;case $r:var S=h._init;return d(m,S(h._payload),g)}if(za(h)||Ia(h))return h=ls(h,m.mode,g,null),h.return=m,h;hc(m,h)}return null}function f(m,h,g,S){var E=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(m,h,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nc:return g.key===E?l(m,h,g,S):null;case Js:return g.key===E?u(m,h,g,S):null;case $r:return E=g._init,f(m,h,E(g._payload),S)}if(za(g)||Ia(g))return E!==null?null:c(m,h,g,S,null);hc(m,g)}return null}function p(m,h,g,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(g)||null,a(h,m,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nc:return m=m.get(S.key===null?g:S.key)||null,l(h,m,S,E);case Js:return m=m.get(S.key===null?g:S.key)||null,u(h,m,S,E);case $r:var b=S._init;return p(m,h,g,b(S._payload),E)}if(za(S)||Ia(S))return m=m.get(g)||null,c(h,m,S,E,null);hc(h,S)}return null}function y(m,h,g,S){for(var E=null,b=null,k=h,_=h=0,N=null;k!==null&&_<g.length;_++){k.index>_?(N=k,k=null):N=k.sibling;var O=f(m,k,g[_],S);if(O===null){k===null&&(k=N);break}t&&k&&O.alternate===null&&e(m,k),h=s(O,h,_),b===null?E=O:b.sibling=O,b=O,k=N}if(_===g.length)return n(m,k),Re&&Vi(m,_),E;if(k===null){for(;_<g.length;_++)k=d(m,g[_],S),k!==null&&(h=s(k,h,_),b===null?E=k:b.sibling=k,b=k);return Re&&Vi(m,_),E}for(k=r(m,k);_<g.length;_++)N=p(k,m,_,g[_],S),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?_:N.key),h=s(N,h,_),b===null?E=N:b.sibling=N,b=N);return t&&k.forEach(function(B){return e(m,B)}),Re&&Vi(m,_),E}function v(m,h,g,S){var E=Ia(g);if(typeof E!="function")throw Error(D(150));if(g=E.call(g),g==null)throw Error(D(151));for(var b=E=null,k=h,_=h=0,N=null,O=g.next();k!==null&&!O.done;_++,O=g.next()){k.index>_?(N=k,k=null):N=k.sibling;var B=f(m,k,O.value,S);if(B===null){k===null&&(k=N);break}t&&k&&B.alternate===null&&e(m,k),h=s(B,h,_),b===null?E=B:b.sibling=B,b=B,k=N}if(O.done)return n(m,k),Re&&Vi(m,_),E;if(k===null){for(;!O.done;_++,O=g.next())O=d(m,O.value,S),O!==null&&(h=s(O,h,_),b===null?E=O:b.sibling=O,b=O);return Re&&Vi(m,_),E}for(k=r(m,k);!O.done;_++,O=g.next())O=p(k,m,_,O.value,S),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?_:O.key),h=s(O,h,_),b===null?E=O:b.sibling=O,b=O);return t&&k.forEach(function(q){return e(m,q)}),Re&&Vi(m,_),E}function w(m,h,g,S){if(typeof g=="object"&&g!==null&&g.type===Zs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case nc:e:{for(var E=g.key,b=h;b!==null;){if(b.key===E){if(E=g.type,E===Zs){if(b.tag===7){n(m,b.sibling),h=i(b,g.props.children),h.return=m,m=h;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===$r&&J1(E)===b.type){n(m,b.sibling),h=i(b,g.props),h.ref=Na(m,b,g),h.return=m,m=h;break e}n(m,b);break}else e(m,b);b=b.sibling}g.type===Zs?(h=ls(g.props.children,m.mode,S,g.key),h.return=m,m=h):(S=Xc(g.type,g.key,g.props,null,m.mode,S),S.ref=Na(m,h,g),S.return=m,m=S)}return o(m);case Js:e:{for(b=g.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(m,h.sibling),h=i(h,g.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else e(m,h);h=h.sibling}h=qp(g,m.mode,S),h.return=m,m=h}return o(m);case $r:return b=g._init,w(m,h,b(g._payload),S)}if(za(g))return y(m,h,g,S);if(Ia(g))return v(m,h,g,S);hc(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,g),h.return=m,m=h):(n(m,h),h=Bp(g,m.mode,S),h.return=m,m=h),o(m)):n(m,h)}return w}var Ro=XI(!0),JI=XI(!1),Su={},qn=Ai(Su),Nl=Ai(Su),Ol=Ai(Su);function es(t){if(t===Su)throw Error(D(174));return t}function Py(t,e){switch(_e(Ol,e),_e(Nl,t),_e(qn,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}Ne(qn),_e(qn,e)}function Mo(){Ne(qn),Ne(Nl),Ne(Ol)}function ZI(t){es(Ol.current);var e=es(qn.current),n=Xm(e,t.type);e!==n&&(_e(Nl,t),_e(qn,n))}function Dy(t){Nl.current===t&&(Ne(qn),Ne(Nl))}var Ue=Ai(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function Ry(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Hc=Ir.ReactCurrentDispatcher,Fp=Ir.ReactCurrentBatchConfig,gs=0,ze=null,nt=null,lt=null,Nd=!1,nl=!1,Al=0,qD=0;function Ct(){throw Error(D(321))}function My(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Ly(t,e,n,r,i,s){if(gs=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hc.current=t===null||t.memoizedState===null?KD:QD,t=n(r,i),nl){s=0;do{if(nl=!1,Al=0,25<=s)throw Error(D(301));s+=1,lt=nt=null,e.updateQueue=null,Hc.current=YD,t=n(r,i)}while(nl)}if(Hc.current=Od,e=nt!==null&&nt.next!==null,gs=0,lt=nt=ze=null,Nd=!1,e)throw Error(D(300));return t}function $y(){var t=Al!==0;return Al=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ze.memoizedState=lt=t:lt=lt.next=t,lt}function En(){if(nt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=lt===null?ze.memoizedState:lt.next;if(e!==null)lt=e,nt=t;else{if(t===null)throw Error(D(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},lt===null?ze.memoizedState=lt=t:lt=lt.next=t}return lt}function Pl(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=En(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=nt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((gs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=c,vs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Dn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,vs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zp(t){var e=En(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ek(){}function tk(t,e){var n=ze,r=En(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,Fy(ik.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Dl(9,rk.bind(null,n,r,i,e),void 0,null),ct===null)throw Error(D(349));gs&30||nk(n,e,i)}return i}function nk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rk(t,e,n,r){e.value=n,e.getSnapshot=r,sk(e)&&ok(t)}function ik(t,e,n){return n(function(){sk(e)&&ok(t)})}function sk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function ok(t){var e=hr(t,1);e!==null&&Pn(e,t,1,-1)}function Z1(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:t},e.queue=t,t=t.dispatch=GD.bind(null,ze,t),[e.memoizedState,t]}function Dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ak(){return En().memoizedState}function Gc(t,e,n,r){var i=Ln();ze.flags|=t,i.memoizedState=Dl(1|e,n,void 0,r===void 0?null:r)}function Bf(t,e,n,r){var i=En();r=r===void 0?null:r;var s=void 0;if(nt!==null){var o=nt.memoizedState;if(s=o.destroy,r!==null&&My(r,o.deps)){i.memoizedState=Dl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Dl(1|e,n,s,r)}function eS(t,e){return Gc(8390656,8,t,e)}function Fy(t,e){return Bf(2048,8,t,e)}function lk(t,e){return Bf(4,2,t,e)}function uk(t,e){return Bf(4,4,t,e)}function ck(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dk(t,e,n){return n=n!=null?n.concat([t]):null,Bf(4,4,ck.bind(null,e,t),n)}function Uy(){}function fk(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hk(t,e){var n=En();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&My(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function pk(t,e,n){return gs&21?(Dn(n,e)||(n=vI(),ze.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function WD(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Fp.transition;Fp.transition={};try{t(!1),e()}finally{ye=n,Fp.transition=r}}function mk(){return En().memoizedState}function HD(t,e,n){var r=ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gk(t))vk(e,n);else if(n=GI(t,e,n,r),n!==null){var i=zt();Pn(n,t,r,i),yk(n,e,r)}}function GD(t,e,n){var r=ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gk(t))vk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(i.next=i,Oy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GI(t,e,i,r),n!==null&&(i=zt(),Pn(n,t,r,i),yk(n,e,r))}}function gk(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function vk(t,e){nl=Nd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gy(t,n)}}var Od={readContext:bn,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},KD={readContext:bn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:eS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4194308,4,ck.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HD.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Z1,useDebugValue:Uy,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Z1(!1),e=t[0];return t=WD.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Ln();if(Re){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ct===null)throw Error(D(349));gs&30||nk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,eS(ik.bind(null,r,s,t),[t]),r.flags|=2048,Dl(9,rk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=ct.identifierPrefix;if(Re){var n=sr,r=ir;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QD={readContext:bn,useCallback:fk,useContext:bn,useEffect:Fy,useImperativeHandle:dk,useInsertionEffect:lk,useLayoutEffect:uk,useMemo:hk,useReducer:Up,useRef:ak,useState:function(){return Up(Pl)},useDebugValue:Uy,useDeferredValue:function(t){var e=En();return pk(e,nt.memoizedState,t)},useTransition:function(){var t=Up(Pl)[0],e=En().memoizedState;return[t,e]},useMutableSource:ek,useSyncExternalStore:tk,useId:mk,unstable_isNewReconciler:!1},YD={readContext:bn,useCallback:fk,useContext:bn,useEffect:Fy,useImperativeHandle:dk,useInsertionEffect:lk,useLayoutEffect:uk,useMemo:hk,useReducer:zp,useRef:ak,useState:function(){return zp(Pl)},useDebugValue:Uy,useDeferredValue:function(t){var e=En();return nt===null?e.memoizedState=t:pk(e,nt.memoizedState,t)},useTransition:function(){var t=zp(Pl)[0],e=En().memoizedState;return[t,e]},useMutableSource:ek,useSyncExternalStore:tk,useId:mk,unstable_isNewReconciler:!1};function Lo(t,e){try{var n="",r=e;do n+=IP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XD=typeof WeakMap=="function"?WeakMap:Map;function wk(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pd||(Pd=!0,Og=r),Sg(t,e)},n}function Sk(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sg(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=d2.bind(null,t,e,n),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,si(n,e,1))),n.lanes|=1),t)}var JD=Ir.ReactCurrentOwner,Gt=!1;function Lt(t,e,n,r){e.child=t===null?JI(e,null,n,r):Ro(e,t.child,n,r)}function iS(t,e,n,r,i){n=n.render;var s=e.ref;return So(e,i),r=Ly(t,e,n,r,s,i),n=$y(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Re&&n&&Iy(e),e.flags|=1,Lt(t,e,r,i),e.child)}function sS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Gy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,bk(t,e,s,r,i)):(t=Xc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(o,r)&&t.ref===e.ref)return pr(t,e,i)}return e.flags|=1,t=li(s,r),t.ref=e.ref,t.return=e,e.child=t}function bk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,pr(t,e,i)}return bg(t,e,n,r,i)}function Ek(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(uo,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(uo,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(uo,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(uo,tn),tn|=r;return Lt(t,e,i,n),e.child}function _k(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bg(t,e,n,r,i){var s=Jt(n)?ps:Rt.current;return s=Po(e,s),So(e,i),n=Ly(t,e,n,r,s,i),r=$y(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pr(t,e,i)):(Re&&r&&Iy(e),e.flags|=1,Lt(t,e,n,i),e.child)}function oS(t,e,n,r,i){if(Jt(n)){var s=!0;Ed(e)}else s=!1;if(So(e,i),e.stateNode===null)Kc(t,e),YI(e,n,r),wg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Jt(n)?ps:Rt.current,u=Po(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&X1(e,o,r,u),Fr=!1;var f=e.memoizedState;o.state=f,Cd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Xt.current||Fr?(typeof c=="function"&&(yg(e,n,c,r),l=e.memoizedState),(a=Fr||Y1(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bn(l):(l=Jt(n)?ps:Rt.current,l=Po(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&X1(e,o,r,l),Fr=!1,f=e.memoizedState,o.state=f,Cd(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Xt.current||Fr?(typeof p=="function"&&(yg(e,n,p,r),y=e.memoizedState),(u=Fr||Y1(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Eg(t,e,n,r,s,i)}function Eg(t,e,n,r,i,s){_k(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&W1(e,n,!1),pr(t,e,s);r=e.stateNode,JD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ro(e,t.child,null,s),e.child=Ro(e,null,a,s)):Lt(t,e,a,s),e.memoizedState=r.state,i&&W1(e,n,!0),e.child}function Ik(t){var e=t.stateNode;e.pendingContext?q1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q1(t,e.context,!1),Py(t,e.containerInfo)}function aS(t,e,n,r,i){return Do(),Ty(i),e.flags|=256,Lt(t,e,n,r),e.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function Ig(t){return{baseLanes:t,cachePool:null,transitions:null}}function kk(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ue,i&1),t===null)return gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hf(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ig(n),e.memoizedState=_g,t):zy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=li(a,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ig(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_g,r}return s=t.child,t=s.sibling,r=li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zy(t,e){return e=Hf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&Ty(r),Ro(e,t.child,null,n),t=zy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jp(Error(D(422))),pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hf({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ro(e,t.child,null,o),e.child.memoizedState=Ig(o),e.memoizedState=_g,s);if(!(e.mode&1))return pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=jp(s,r,void 0),pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hr(t,i),Pn(r,t,i,-1))}return Hy(),r=jp(Error(D(421))),pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=ii(i.nextSibling),rn=e,Re=!0,Cn=null,t!==null&&(mn[gn++]=ir,mn[gn++]=sr,mn[gn++]=ms,ir=t.id,sr=t.overflow,ms=e),e=zy(e,r.children),e.flags|=4096,e)}function lS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vg(t.return,e,n)}function Vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Tk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lS(t,n,e);else if(t.tag===19)lS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vp(e,!0,n,null,s);break;case"together":Vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e2(t,e,n){switch(e.tag){case 3:Ik(e),Do();break;case 5:ZI(e);break;case 1:Jt(e.type)&&Ed(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(kd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?kk(t,e,n):(_e(Ue,Ue.current&1),t=pr(t,e,n),t!==null?t.sibling:null);_e(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Tk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Ek(t,e,n)}return pr(t,e,n)}var Ck,kg,xk,Nk;Ck=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kg=function(){};xk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(qn.current);var s=null;switch(n){case"input":i=Gm(t,i),r=Gm(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=Ym(t,i),r=Ym(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sd)}Jm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Nk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t2(t,e,n){var r=e.pendingProps;switch(ky(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Jt(e.type)&&bd(),xt(e),null;case 3:return r=e.stateNode,Mo(),Ne(Xt),Ne(Rt),Ry(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(Dg(Cn),Cn=null))),kg(t,e),xt(e),null;case 5:Dy(e);var i=es(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)xk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return xt(e),null}if(t=es(qn.current),fc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[xl]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)Te(Va[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":v1(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":w1(r,s),Te("invalid",r)}Jm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",""+a]):yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":rc(r),y1(r,s,!0);break;case"textarea":rc(r),S1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[xl]=r,Ck(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zm(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)Te(Va[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":v1(t,r),i=Gm(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),Te("invalid",t);break;case"textarea":w1(t,r),i=Ym(t,r),Te("invalid",t);break;default:i=r}Jm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wl(t,l):typeof l=="number"&&wl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&cy(t,s,l,o))}switch(n){case"input":rc(t),y1(t,r,!1);break;case"textarea":rc(t),S1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?go(t,!!r.multiple,s,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)Nk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=es(Ol.current),es(qn.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return xt(e),null;case 13:if(Ne(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&nn!==null&&e.mode&1&&!(e.flags&128))HI(),Do(),e.flags|=98560,s=!1;else if(s=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Fn]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else Cn!==null&&(Dg(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?rt===0&&(rt=3):Hy())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Mo(),kg(t,e),t===null&&Tl(e.stateNode.containerInfo),xt(e),null;case 10:return Ny(e.type._context),xt(e),null;case 17:return Jt(e.type)&&bd(),xt(e),null;case 19:if(Ne(Ue),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Oa(s,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xd(t),o!==null){for(e.flags|=128,Oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>$o&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return xt(e),null}else 2*Ke()-s.renderingStartTime>$o&&n!==1073741824&&(e.flags|=128,r=!0,Oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Ue.current,_e(Ue,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return Wy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function n2(t,e){switch(ky(e),e.tag){case 1:return Jt(e.type)&&bd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Ne(Xt),Ne(Rt),Ry(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(Ne(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ue),null;case 4:return Mo(),null;case 10:return Ny(e.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var mc=!1,At=!1,r2=typeof WeakSet=="function"?WeakSet:Set,V=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Tg(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var uS=!1;function i2(t,e){if(ug=vd,t=DI(),_y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cg={focusedElem:t,selectionRange:n},vd=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=e.stateNode,h=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:kn(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Ve(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return y=uS,uS=!1,y}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tg(e,n,s)}i=i.next}while(i!==r)}}function qf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ok(t){var e=t.alternate;e!==null&&(t.alternate=null,Ok(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[xl],delete e[hg],delete e[zD],delete e[jD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ak(t){return t.tag===5||t.tag===3||t.tag===4}function cS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ak(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sd));else if(r!==4&&(t=t.child,t!==null))for(xg(t,e,n),t=t.sibling;t!==null;)xg(t,e,n),t=t.sibling}function Ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ng(t,e,n),t=t.sibling;t!==null;)Ng(t,e,n),t=t.sibling}var yt=null,Tn=!1;function Ar(t,e,n){for(n=n.child;n!==null;)Pk(t,e,n),n=n.sibling}function Pk(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:At||lo(n,e);case 6:var r=yt,i=Tn;yt=null,Ar(t,e,n),yt=r,Tn=i,yt!==null&&(Tn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Tn?(t=yt,n=n.stateNode,t.nodeType===8?Mp(t.parentNode,n):t.nodeType===1&&Mp(t,n),_l(t)):Mp(yt,n.stateNode));break;case 4:r=yt,i=Tn,yt=n.stateNode.containerInfo,Tn=!0,Ar(t,e,n),yt=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Tg(n,e,o),i=i.next}while(i!==r)}Ar(t,e,n);break;case 1:if(!At&&(lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Ar(t,e,n);break;case 21:Ar(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Ar(t,e,n),At=r):Ar(t,e,n);break;default:Ar(t,e,n)}}function dS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r2),e.forEach(function(r){var i=h2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Tn=!1;break e;case 3:yt=a.stateNode.containerInfo,Tn=!0;break e;case 4:yt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(yt===null)throw Error(D(160));Pk(s,o,i),yt=null,Tn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dk(e,t),e=e.sibling}function Dk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),Mn(t),r&4){try{rl(3,t,t.return),qf(3,t)}catch(v){Ve(t,t.return,v)}try{rl(5,t,t.return)}catch(v){Ve(t,t.return,v)}}break;case 1:In(e,t),Mn(t),r&512&&n!==null&&lo(n,n.return);break;case 5:if(In(e,t),Mn(t),r&512&&n!==null&&lo(n,n.return),t.flags&32){var i=t.stateNode;try{wl(i,"")}catch(v){Ve(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&eI(i,s),Zm(a,o);var u=Zm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?sI(i,d):c==="dangerouslySetInnerHTML"?rI(i,d):c==="children"?wl(i,d):cy(i,c,d,u)}switch(a){case"input":Km(i,s);break;case"textarea":tI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?go(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?go(i,!!s.multiple,s.defaultValue,!0):go(i,!!s.multiple,s.multiple?[]:"",!1))}i[xl]=s}catch(v){Ve(t,t.return,v)}}break;case 6:if(In(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ve(t,t.return,v)}}break;case 3:if(In(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(v){Ve(t,t.return,v)}break;case 4:In(e,t),Mn(t);break;case 13:In(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(By=Ke())),r&4&&dS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(At=(u=At)||c,In(e,t),At=u):In(e,t),Mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(V=t,c=t.child;c!==null;){for(d=V=c;V!==null;){switch(f=V,p=f.child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:lo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ve(r,n,v)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){hS(d);continue}}p!==null?(p.return=f,V=p):hS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iI("display",o))}catch(v){Ve(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ve(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:In(e,t),Mn(t),r&4&&dS(t);break;case 21:break;default:In(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ak(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wl(i,""),r.flags&=-33);var s=cS(t);Ng(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cS(t);xg(t,a,o);break;default:throw Error(D(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function s2(t,e,n){V=t,Rk(t)}function Rk(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=mc;var u=At;if(mc=o,(At=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?pS(i):l!==null?(l.return=o,V=l):pS(i);for(;s!==null;)V=s,Rk(s),s=s.sibling;V=i,mc=a,At=u}fS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,V=s):fS(t)}}function fS(t){for(;V!==null;){var e=V;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||qf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&_l(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}At||e.flags&512&&Cg(e)}catch(f){Ve(e,e.return,f)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function hS(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function pS(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qf(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Cg(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Cg(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var o2=Math.ceil,Ad=Ir.ReactCurrentDispatcher,jy=Ir.ReactCurrentOwner,Sn=Ir.ReactCurrentBatchConfig,pe=0,ct=null,Ze=null,bt=0,tn=0,uo=Ai(0),rt=0,Rl=null,vs=0,Wf=0,Vy=0,il=null,Ht=null,By=0,$o=1/0,nr=null,Pd=!1,Og=null,oi=null,gc=!1,Yr=null,Dd=0,sl=0,Ag=null,Qc=-1,Yc=0;function zt(){return pe&6?Ke():Qc!==-1?Qc:Qc=Ke()}function ai(t){return t.mode&1?pe&2&&bt!==0?bt&-bt:BD.transition!==null?(Yc===0&&(Yc=vI()),Yc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:II(t.type)),t):1}function Pn(t,e,n,r){if(50<sl)throw sl=0,Ag=null,Error(D(185));vu(t,n,r),(!(pe&2)||t!==ct)&&(t===ct&&(!(pe&2)&&(Wf|=n),rt===4&&jr(t,bt)),Zt(t,r),n===1&&pe===0&&!(e.mode&1)&&($o=Ke()+500,jf&&Pi()))}function Zt(t,e){var n=t.callbackNode;BP(t,e);var r=gd(t,t===ct?bt:0);if(r===0)n!==null&&_1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_1(n),e===1)t.tag===0?VD(mS.bind(null,t)):BI(mS.bind(null,t)),FD(function(){!(pe&6)&&Pi()}),n=null;else{switch(yI(r)){case 1:n=my;break;case 4:n=mI;break;case 16:n=md;break;case 536870912:n=gI;break;default:n=md}n=Vk(n,Mk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mk(t,e){if(Qc=-1,Yc=0,pe&6)throw Error(D(327));var n=t.callbackNode;if(bo()&&t.callbackNode!==n)return null;var r=gd(t,t===ct?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var i=pe;pe|=2;var s=$k();(ct!==t||bt!==e)&&(nr=null,$o=Ke()+500,as(t,e));do try{u2();break}catch(a){Lk(t,a)}while(1);xy(),Ad.current=s,pe=i,Ze!==null?e=0:(ct=null,bt=0,e=rt)}if(e!==0){if(e===2&&(i=ig(t),i!==0&&(r=i,e=Pg(t,i))),e===1)throw n=Rl,as(t,0),jr(t,r),Zt(t,Ke()),n;if(e===6)jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!a2(i)&&(e=Rd(t,r),e===2&&(s=ig(t),s!==0&&(r=s,e=Pg(t,s))),e===1))throw n=Rl,as(t,0),jr(t,r),Zt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Bi(t,Ht,nr);break;case 3:if(jr(t,r),(r&130023424)===r&&(e=By+500-Ke(),10<e)){if(gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fg(Bi.bind(null,t,Ht,nr),e);break}Bi(t,Ht,nr);break;case 4:if(jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o2(r/1960))-r,10<r){t.timeoutHandle=fg(Bi.bind(null,t,Ht,nr),r);break}Bi(t,Ht,nr);break;case 5:Bi(t,Ht,nr);break;default:throw Error(D(329))}}}return Zt(t,Ke()),t.callbackNode===n?Mk.bind(null,t):null}function Pg(t,e){var n=il;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Dg(e)),t}function Dg(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function a2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function jr(t,e){for(e&=~Vy,e&=~Wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(pe&6)throw Error(D(327));bo();var e=gd(t,0);if(!(e&1))return Zt(t,Ke()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=ig(t);r!==0&&(e=r,n=Pg(t,r))}if(n===1)throw n=Rl,as(t,0),jr(t,e),Zt(t,Ke()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,Ht,nr),Zt(t,Ke()),null}function qy(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&($o=Ke()+500,jf&&Pi())}}function ys(t){Yr!==null&&Yr.tag===0&&!(pe&6)&&bo();var e=pe;pe|=1;var n=Sn.transition,r=ye;try{if(Sn.transition=null,ye=1,t)return t()}finally{ye=r,Sn.transition=n,pe=e,!(pe&6)&&Pi()}}function Wy(){tn=uo.current,Ne(uo)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$D(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bd();break;case 3:Mo(),Ne(Xt),Ne(Rt),Ry();break;case 5:Dy(r);break;case 4:Mo();break;case 13:Ne(Ue);break;case 19:Ne(Ue);break;case 10:Ny(r.type._context);break;case 22:case 23:Wy()}n=n.return}if(ct=t,Ze=t=li(t.current,null),bt=tn=e,rt=0,Rl=null,Vy=Wf=vs=0,Ht=il=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function Lk(t,e){do{var n=Ze;try{if(xy(),Hc.current=Od,Nd){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nd=!1}if(gs=0,lt=nt=ze=null,nl=!1,Al=0,jy.current=null,n===null||n.return===null){rt=1,Rl=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=nS(o);if(p!==null){p.flags&=-257,rS(p,o,a,s,e),p.mode&1&&tS(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){tS(s,u,e),Hy();break e}l=Error(D(426))}}else if(Re&&a.mode&1){var w=nS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rS(w,o,a,s,e),Ty(Lo(l,a));break e}}s=l=Lo(l,a),rt!==4&&(rt=2),il===null?il=[s]:il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=wk(s,l,e);K1(s,m);break e;case 1:a=l;var h=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(oi===null||!oi.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Sk(s,a,e);K1(s,S);break e}}s=s.return}while(s!==null)}Uk(n)}catch(E){e=E,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(1)}function $k(){var t=Ad.current;return Ad.current=Od,t===null?Od:t}function Hy(){(rt===0||rt===3||rt===2)&&(rt=4),ct===null||!(vs&268435455)&&!(Wf&268435455)||jr(ct,bt)}function Rd(t,e){var n=pe;pe|=2;var r=$k();(ct!==t||bt!==e)&&(nr=null,as(t,e));do try{l2();break}catch(i){Lk(t,i)}while(1);if(xy(),pe=n,Ad.current=r,Ze!==null)throw Error(D(261));return ct=null,bt=0,rt}function l2(){for(;Ze!==null;)Fk(Ze)}function u2(){for(;Ze!==null&&!RP();)Fk(Ze)}function Fk(t){var e=jk(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?Uk(t):Ze=e,jy.current=null}function Uk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n2(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ze=null;return}}else if(n=t2(n,e,tn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);rt===0&&(rt=5)}function Bi(t,e,n){var r=ye,i=Sn.transition;try{Sn.transition=null,ye=1,c2(t,e,n,r)}finally{Sn.transition=i,ye=r}return null}function c2(t,e,n,r){do bo();while(Yr!==null);if(pe&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qP(t,s),t===ct&&(Ze=ct=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gc||(gc=!0,Vk(md,function(){return bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var o=ye;ye=1;var a=pe;pe|=4,jy.current=null,i2(t,n),Dk(n,t),OD(cg),vd=!!ug,cg=ug=null,t.current=n,s2(n),MP(),pe=a,ye=o,Sn.transition=s}else t.current=n;if(gc&&(gc=!1,Yr=t,Dd=i),s=t.pendingLanes,s===0&&(oi=null),FP(n.stateNode),Zt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,t=Og,Og=null,t;return Dd&1&&t.tag!==0&&bo(),s=t.pendingLanes,s&1?t===Ag?sl++:(sl=0,Ag=t):sl=0,Pi(),null}function bo(){if(Yr!==null){var t=yI(Dd),e=Sn.transition,n=ye;try{if(Sn.transition=null,ye=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,Dd=0,pe&6)throw Error(D(331));var i=pe;for(pe|=4,V=t.current;V!==null;){var s=V,o=s.child;if(V.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:rl(8,c,s)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var f=c.sibling,p=c.return;if(Ok(c),c===u){V=null;break}if(f!==null){f.return=p,V=f;break}V=p}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}V=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,V=m;break e}V=s.return}}var h=t.current;for(V=h;V!==null;){o=V;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,V=g;else e:for(o=h;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qf(9,a)}}catch(E){Ve(a,a.return,E)}if(a===o){V=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,V=S;break e}V=a.return}}if(pe=i,Pi(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{ye=n,Sn.transition=e}}return!1}function gS(t,e,n){e=Lo(n,e),e=wk(t,e,1),t=si(t,e,1),e=zt(),t!==null&&(vu(t,1,e),Zt(t,e))}function Ve(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=Lo(n,t),t=Sk(e,t,1),e=si(e,t,1),t=zt(),e!==null&&(vu(e,1,t),Zt(e,t));break}}e=e.return}}function d2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(bt&n)===n&&(rt===4||rt===3&&(bt&130023424)===bt&&500>Ke()-By?as(t,0):Vy|=n),Zt(t,e)}function zk(t,e){e===0&&(t.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var n=zt();t=hr(t,e),t!==null&&(vu(t,e,n),Zt(t,n))}function f2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zk(t,n)}function h2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),zk(t,n)}var jk;jk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,e2(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,Re&&e.flags&1048576&&qI(e,Id,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kc(t,e),t=e.pendingProps;var i=Po(e,Rt.current);So(e,n),i=Ly(null,e,r,t,i,n);var s=$y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,Ed(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ay(e),i.updater=Vf,e.stateNode=i,i._reactInternals=e,wg(e,r,t,n),e=Eg(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&Iy(e),Lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m2(r),t=kn(r,t),i){case 0:e=bg(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=iS(null,e,r,t,n);break e;case 14:e=sS(null,e,r,kn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),bg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),oS(t,e,r,i,n);case 3:e:{if(Ik(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,KI(t,e),Cd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Lo(Error(D(423)),e),e=aS(t,e,r,n,i);break e}else if(r!==i){i=Lo(Error(D(424)),e),e=aS(t,e,r,n,i);break e}else for(nn=ii(e.stateNode.containerInfo.firstChild),rn=e,Re=!0,Cn=null,n=JI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=pr(t,e,n);break e}Lt(t,e,r,n)}e=e.child}return e;case 5:return ZI(e),t===null&&gg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dg(r,i)?o=null:s!==null&&dg(r,s)&&(e.flags|=32),_k(t,e),Lt(t,e,o,n),e.child;case 6:return t===null&&gg(e),null;case 13:return kk(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):Lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),iS(t,e,r,i,n);case 7:return Lt(t,e,e.pendingProps,n),e.child;case 8:return Lt(t,e,e.pendingProps.children,n),e.child;case 12:return Lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(kd,r._currentValue),r._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Xt.current){e=pr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ur(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),vg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,So(e,n),i=bn(i),r=r(i),e.flags|=1,Lt(t,e,r,n),e.child;case 14:return r=e.type,i=kn(r,e.pendingProps),i=kn(r.type,i),sS(t,e,r,i,n);case 15:return bk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kn(r,i),Kc(t,e),e.tag=1,Jt(r)?(t=!0,Ed(e)):t=!1,So(e,n),YI(e,r,i),wg(e,r,i,n),Eg(null,e,r,!0,t,n);case 19:return Tk(t,e,n);case 22:return Ek(t,e,n)}throw Error(D(156,e.tag))};function Vk(t,e){return pI(t,e)}function p2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new p2(t,e,n,r)}function Gy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m2(t){if(typeof t=="function")return Gy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fy)return 11;if(t===hy)return 14}return 2}function li(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Gy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return ls(n.children,i,s,e);case dy:o=8,i|=8;break;case Bm:return t=vn(12,n,e,i|2),t.elementType=Bm,t.lanes=s,t;case qm:return t=vn(13,n,e,i),t.elementType=qm,t.lanes=s,t;case Wm:return t=vn(19,n,e,i),t.elementType=Wm,t.lanes=s,t;case X_:return Hf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q_:o=10;break e;case Y_:o=9;break e;case fy:o=11;break e;case hy:o=14;break e;case $r:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Hf(t,e,n,r){return t=vn(22,t,r,e),t.elementType=X_,t.lanes=n,t.stateNode={isHidden:!1},t}function Bp(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function qp(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ip(0),this.expirationTimes=Ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ip(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ky(t,e,n,r,i,s,o,a,l){return t=new g2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(s),t}function v2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bk(t){if(!t)return hi;t=t._reactInternals;e:{if(Ls(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Jt(n))return VI(t,n,e)}return e}function qk(t,e,n,r,i,s,o,a,l){return t=Ky(n,r,!0,t,i,s,o,a,l),t.context=Bk(null),n=t.current,r=zt(),i=ai(n),s=ur(r,i),s.callback=e??null,si(n,s,i),t.current.lanes=i,vu(t,i,r),Zt(t,r),t}function Gf(t,e,n,r){var i=e.current,s=zt(),o=ai(i);return n=Bk(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=si(i,e,o),t!==null&&(Pn(t,i,o,s),Wc(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qy(t,e){vS(t,e),(t=t.alternate)&&vS(t,e)}function y2(){return null}var Wk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yy(t){this._internalRoot=t}Kf.prototype.render=Yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Gf(t,e,null,null)};Kf.prototype.unmount=Yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Gf(null,t,null,null)}),e[fr]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zr.length&&e!==0&&e<zr[n].priority;n++);zr.splice(n,0,t),n===0&&_I(t)}};function Xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yS(){}function w2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Md(o);s.call(u)}}var o=qk(e,r,t,0,null,!1,!1,"",yS);return t._reactRootContainer=o,t[fr]=o.current,Tl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Md(l);a.call(u)}}var l=Ky(t,0,!1,null,null,!1,!1,"",yS);return t._reactRootContainer=l,t[fr]=l.current,Tl(t.nodeType===8?t.parentNode:t),ys(function(){Gf(e,l,n,r)}),l}function Yf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Md(o);a.call(l)}}Gf(e,o,t,i)}else o=w2(n,e,t,i,r);return Md(o)}wI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(gy(e,n|1),Zt(e,Ke()),!(pe&6)&&($o=Ke()+500,Pi()))}break;case 13:ys(function(){var r=hr(t,1);if(r!==null){var i=zt();Pn(r,t,1,i)}}),Qy(t,1)}};vy=function(t){if(t.tag===13){var e=hr(t,134217728);if(e!==null){var n=zt();Pn(e,t,134217728,n)}Qy(t,134217728)}};SI=function(t){if(t.tag===13){var e=ai(t),n=hr(t,e);if(n!==null){var r=zt();Pn(n,t,e,r)}Qy(t,e)}};bI=function(){return ye};EI=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};tg=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zf(r);if(!i)throw Error(D(90));Z_(r),Km(r,i)}}}break;case"textarea":tI(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};lI=qy;uI=ys;var S2={usingClientEntryPoint:!1,Events:[wu,ro,zf,oI,aI,qy]},Aa={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},b2={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fI(t),t===null?null:t.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||y2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Lf=vc.inject(b2),Bn=vc}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S2;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xy(e))throw Error(D(200));return v2(t,e,null,n)};cn.createRoot=function(t,e){if(!Xy(t))throw Error(D(299));var n=!1,r="",i=Wk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ky(t,1,!1,null,null,n,!1,r,i),t[fr]=e.current,Tl(t.nodeType===8?t.parentNode:t),new Yy(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=fI(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return ys(t)};cn.hydrate=function(t,e,n){if(!Qf(e))throw Error(D(200));return Yf(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Xy(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Wk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=qk(e,null,t,1,n??null,i,!1,s,o),t[fr]=e.current,Tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kf(e)};cn.render=function(t,e,n){if(!Qf(e))throw Error(D(200));return Yf(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(D(40));return t._reactRootContainer?(ys(function(){Yf(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};cn.unstable_batchedUpdates=qy;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Yf(t,e,n,!1,r)};cn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=cn})(yP);var wS=dd;zm.createRoot=wS.createRoot,zm.hydrateRoot=wS.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const SS="popstate";function E2(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=$s(i.location.hash.substr(1));return Rg("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Hk(s))}function r(i,s){Xf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return I2(e,n,r,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _2(){return Math.random().toString(36).substr(2,8)}function bS(t,e){return{usr:t.state,key:t.key,idx:e}}function Rg(t,e,n,r){return n===void 0&&(n=null),Ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$s(e):e,{state:n,key:e&&e.key||r||_2()})}function Hk(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ml({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Xr.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function f(w,m){a=Xr.Push;let h=Rg(v.location,w,m);n&&n(h,w),u=c()+1;let g=bS(h,u),S=v.createHref(h);try{o.pushState(g,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function p(w,m){a=Xr.Replace;let h=Rg(v.location,w,m);n&&n(h,w),u=c();let g=bS(h,u),S=v.createHref(h);o.replaceState(g,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof w=="string"?w:Hk(w);return dt(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SS,d),l=w,()=>{i.removeEventListener(SS,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var ES;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ES||(ES={}));function k2(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?$s(e):e,i=Qk(r.pathname||"/",n);if(i==null)return null;let s=Gk(t);T2(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=M2(s[a],F2(i));return o}function Gk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=us([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gk(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:D2(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Kk(s.path))i(s,o,l)}),e}function Kk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Kk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function T2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C2=/^:\w+$/,x2=3,N2=2,O2=1,A2=10,P2=-2,_S=t=>t==="*";function D2(t,e){let n=t.split("/"),r=n.length;return n.some(_S)&&(r+=P2),e&&(r+=N2),n.filter(i=>!_S(i)).reduce((i,s)=>i+(C2.test(s)?x2:s===""?O2:A2),r)}function R2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function M2(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=L2({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:us([i,c.pathname]),pathnameBase:q2(us([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=us([i,c.pathnameBase]))}return s}function L2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=U2(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function F2(t){try{return decodeURI(t)}catch(e){return Xf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function U2(t,e){try{return decodeURIComponent(t)}catch(n){return Xf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Qk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function z2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$s(t):t;return{pathname:n?n.startsWith("/")?n:j2(n,e):e,search:W2(r),hash:H2(i)}}function j2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$s(t):(i=Ml({},t),dt(!i.pathname||!i.pathname.includes("?"),Wp("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Wp("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Wp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=z2(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const us=t=>t.join("/").replace(/\/\/+/g,"/"),q2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Q2=typeof Object.is=="function"?Object.is:K2,{useState:Y2,useEffect:X2,useLayoutEffect:J2,useDebugValue:Z2}=Um;function eR(t,e,n){const r=e(),[{inst:i},s]=Y2({inst:{value:r,getSnapshot:e}});return J2(()=>{i.value=r,i.getSnapshot=e,Hp(i)&&s({inst:i})},[t,r,e]),X2(()=>(Hp(i)&&s({inst:i}),t(()=>{Hp(i)&&s({inst:i})})),[t]),Z2(r),r}function Hp(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Q2(n,r)}catch{return!0}}function tR(t,e,n){return e()}const nR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rR=!nR,iR=rR?tR:eR;"useSyncExternalStore"in Um&&(t=>t.useSyncExternalStore)(Um);const Yk=C.createContext(null),Xk=C.createContext(null),Jy=C.createContext(null),Jf=C.createContext(null),bu=C.createContext({outlet:null,matches:[]}),Jk=C.createContext(null);function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function Zf(){return C.useContext(Jf)!=null}function Zy(){return Zf()||dt(!1),C.useContext(Jf).location}function Di(){Zf()||dt(!1);let{basename:t,navigator:e}=C.useContext(Jy),{matches:n}=C.useContext(bu),{pathname:r}=Zy(),i=JSON.stringify(V2(n).map(a=>a.pathnameBase)),s=C.useRef(!1);return C.useEffect(()=>{s.current=!0}),C.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=B2(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:us([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function sR(t,e){Zf()||dt(!1);let{navigator:n}=C.useContext(Jy),r=C.useContext(Xk),{matches:i}=C.useContext(bu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Zy(),u;if(e){var c;let v=typeof e=="string"?$s(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||dt(!1),u=v}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=k2(t,{pathname:f}),y=uR(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:us([a,n.encodeLocation?n.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:us([a,n.encodeLocation?n.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&y?C.createElement(Jf.Provider,{value:{location:Mg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xr.Pop}},y):y}function oR(){let t=hR(),e=G2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,s)}class aR extends C.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(bu.Provider,{value:this.props.routeContext},C.createElement(Jk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lR(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(Yk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(bu.Provider,{value:e},r)}function uR(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||dt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=C.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=C.createElement(oR,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=s;return l?f=u:o.route.Component?f=C.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),C.createElement(lR,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?C.createElement(aR,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var IS;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(IS||(IS={}));var Ld;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Ld||(Ld={}));function cR(t){let e=C.useContext(Xk);return e||dt(!1),e}function dR(t){let e=C.useContext(bu);return e||dt(!1),e}function fR(t){let e=dR(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function hR(){var t;let e=C.useContext(Jk),n=cR(Ld.UseRouteError),r=fR(Ld.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tr(t){dt(!1)}function pR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:s,static:o=!1}=t;Zf()&&dt(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=$s(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,y=C.useMemo(()=>{let v=Qk(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:f,key:p},navigationType:i}},[a,u,c,d,f,p,i]);return y==null?null:C.createElement(Jy.Provider,{value:l},C.createElement(Jf.Provider,{children:n,value:y}))}function mR(t){let{children:e,location:n}=t,r=C.useContext(Yk),i=r&&!e?r.router.routes:Lg(e);return sR(i,n)}var kS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(kS||(kS={}));new Promise(()=>{});function Lg(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,Lg(r.props.children,s));return}r.type!==tr&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gR(t){let{basename:e,children:n,window:r}=t,i=C.useRef();i.current==null&&(i.current=E2({window:r,v5Compat:!0}));let s=i.current,[o,a]=C.useState({action:s.action,location:s.location});return C.useLayoutEffect(()=>s.listen(a),[s]),C.createElement(pR,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var TS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(TS||(TS={}));var CS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CS||(CS={}));var Zk={},eT={},eh={},tT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(tT);var vR="Expected a function",xS=0/0,yR="[object Symbol]",wR=/^\s+|\s+$/g,SR=/^[-+]0x[0-9a-f]+$/i,bR=/^0b[01]+$/i,ER=/^0o[0-7]+$/i,_R=parseInt,IR=typeof ec=="object"&&ec&&ec.Object===Object&&ec,kR=typeof self=="object"&&self&&self.Object===Object&&self,TR=IR||kR||Function("return this")(),CR=Object.prototype,xR=CR.toString,NR=Math.max,OR=Math.min,Gp=function(){return TR.Date.now()};function AR(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(vR);e=NS(e)||0,$g(n)&&(c=!!n.leading,d="maxWait"in n,s=d?NR(NS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(b){var k=r,_=i;return r=i=void 0,u=b,o=t.apply(_,k),o}function y(b){return u=b,a=setTimeout(m,e),c?p(b):o}function v(b){var k=b-l,_=b-u,N=e-k;return d?OR(N,s-_):N}function w(b){var k=b-l,_=b-u;return l===void 0||k>=e||k<0||d&&_>=s}function m(){var b=Gp();if(w(b))return h(b);a=setTimeout(m,v(b))}function h(b){return a=void 0,f&&r?p(b):(r=i=void 0,o)}function g(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function S(){return a===void 0?o:h(Gp())}function E(){var b=Gp(),k=w(b);if(r=arguments,i=this,l=b,k){if(a===void 0)return y(l);if(d)return a=setTimeout(m,e),p(l)}return a===void 0&&(a=setTimeout(m,e)),o}return E.cancel=g,E.flush=S,E}function $g(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function PR(t){return!!t&&typeof t=="object"}function DR(t){return typeof t=="symbol"||PR(t)&&xR.call(t)==yR}function NS(t){if(typeof t=="number")return t;if(DR(t))return xS;if($g(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$g(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wR,"");var n=bR.test(t);return n||ER.test(t)?_R(t.slice(2),n?2:8):SR.test(t)?xS:+t}var RR=AR,Fo={},MR={get exports(){return Fo},set exports(t){Fo=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(MR);var $={};Object.defineProperty($,"__esModule",{value:!0});$.checkSpecKeys=$.checkNavigable=$.changeSlide=$.canUseDOM=$.canGoNext=void 0;$.clamp=nT;$.swipeStart=$.swipeMove=$.swipeEnd=$.slidesOnRight=$.slidesOnLeft=$.slideHandler=$.siblingDirection=$.safePreventDefault=$.lazyStartIndex=$.lazySlidesOnRight=$.lazySlidesOnLeft=$.lazyEndIndex=$.keyHandler=$.initializedState=$.getWidth=$.getTrackLeft=$.getTrackCSS=$.getTrackAnimateCSS=$.getTotalSlides=$.getSwipeDirection=$.getSlideCount=$.getRequiredLazySlides=$.getPreClones=$.getPostClones=$.getOnDemandLazySlides=$.getNavigableIndexes=$.getHeight=$.extractObject=void 0;var LR=$R(C);function $R(t){return t&&t.__esModule?t:{default:t}}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){FR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nT(t,e,n){return Math.max(e,Math.min(t,n))}var cs=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};$.safePreventDefault=cs;var e0=function(e){for(var n=[],r=t0(e),i=n0(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};$.getOnDemandLazySlides=e0;var UR=function(e){for(var n=[],r=t0(e),i=n0(e),s=r;s<i;s++)n.push(s);return n};$.getRequiredLazySlides=UR;var t0=function(e){return e.currentSlide-rT(e)};$.lazyStartIndex=t0;var n0=function(e){return e.currentSlide+iT(e)};$.lazyEndIndex=n0;var rT=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};$.lazySlidesOnLeft=rT;var iT=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};$.lazySlidesOnRight=iT;var $d=function(e){return e&&e.offsetWidth||0};$.getWidth=$d;var r0=function(e){return e&&e.offsetHeight||0};$.getHeight=r0;var i0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};$.getSwipeDirection=i0;var s0=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};$.canGoNext=s0;var zR=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};$.extractObject=zR;var jR=function(e){var n=LR.default.Children.count(e.children),r=e.listRef,i=Math.ceil($d(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil($d(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&r0(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var f=e.lazyLoadedList||[],p=e0(Pe(Pe({},e),{},{currentSlide:d,lazyLoadedList:f}));f=f.concat(p);var y={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:u,listHeight:c,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};$.initializedState=jR;var VR=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,f=e.slidesToShow,p=e.useCSS,y=e.lazyLoadedList;if(n&&r)return{};var v=o,w,m,h,g={},S={},E=s?o:nT(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?v=o+a:o>=a&&(v=o-a),l&&y.indexOf(v)<0&&(y=y.concat(v)),g={animating:!0,currentSlide:v,lazyLoadedList:y,targetSlide:v},S={animating:!1,targetSlide:v}}else w=v,v<0?(w=v+a,s?a%d!==0&&(w=a-a%d):w=0):!s0(e)&&v>u?v=w=u:c&&v>=a?(v=s?a:a-1,w=s?0:a-1):v>=a&&(w=v-a,s?a%d!==0&&(w=0):w=a-f),!s&&v+f>=a&&(w=a-f),m=$l(Pe(Pe({},e),{},{slideIndex:v})),h=$l(Pe(Pe({},e),{},{slideIndex:w})),s||(m===h&&(v=w),m=h),l&&(y=y.concat(e0(Pe(Pe({},e),{},{currentSlide:v})))),p?(g={animating:!0,currentSlide:w,trackStyle:o0(Pe(Pe({},e),{},{left:m})),lazyLoadedList:y,targetSlide:E},S={animating:!1,currentSlide:w,trackStyle:Ll(Pe(Pe({},e),{},{left:h})),swipeLeft:null,targetSlide:E}):g={currentSlide:w,trackStyle:Ll(Pe(Pe({},e),{},{left:h})),lazyLoadedList:y,targetSlide:E};return{state:g,nextState:S}};$.slideHandler=VR;var BR=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,d=e.currentSlide,f=e.targetSlide,p=e.lazyLoad,y=e.infinite;if(o=c%l!==0,r=o?0:(c-d)%l,n.message==="previous")s=r===0?l:u-r,a=d-s,p&&!y&&(i=d-s,a=i===-1?c-1:i),y||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=d+s,p&&!y&&(a=(d+l)%c+r),y||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,y){var v=lT(Pe(Pe({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-c:a<n.currentSlide&&v==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};$.changeSlide=BR;var qR=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};$.keyHandler=qR;var WR=function(e,n,r){return e.target.tagName==="IMG"&&cs(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};$.swipeStart=WR;var HR=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,f=n.onEdge,p=n.swiped,y=n.swiping,v=n.slideCount,w=n.slidesToScroll,m=n.infinite,h=n.touchObject,g=n.swipeEvent,S=n.listHeight,E=n.listWidth;if(!r){if(i)return cs(e);s&&o&&a&&cs(e);var b,k={},_=$l(n);h.curX=e.touches?e.touches[0].pageX:e.clientX,h.curY=e.touches?e.touches[0].pageY:e.clientY,h.swipeLength=Math.round(Math.sqrt(Math.pow(h.curX-h.startX,2)));var N=Math.round(Math.sqrt(Math.pow(h.curY-h.startY,2)));if(!a&&!y&&N>10)return{scrolling:!0};a&&(h.swipeLength=N);var O=(l?-1:1)*(h.curX>h.startX?1:-1);a&&(O=h.curY>h.startY?1:-1);var B=Math.ceil(v/w),q=i0(n.touchObject,a),z=h.swipeLength;return m||(u===0&&(q==="right"||q==="down")||u+1>=B&&(q==="left"||q==="up")||!s0(n)&&(q==="left"||q==="up"))&&(z=h.swipeLength*c,d===!1&&f&&(f(q),k.edgeDragged=!0)),!p&&g&&(g(q),k.swiped=!0),s?b=_+z*(S/E)*O:l?b=_-z*O:b=_+z*O,a&&(b=_+z*O),k=Pe(Pe({},k),{},{touchObject:h,swipeLeft:b,trackStyle:Ll(Pe(Pe({},n),{},{left:b}))}),Math.abs(h.curX-h.startX)<Math.abs(h.curY-h.startY)*.8||h.swipeLength>10&&(k.swiping=!0,cs(e)),k}};$.swipeMove=HR;var GR=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,d=n.scrolling,f=n.onSwipe,p=n.targetSlide,y=n.currentSlide,v=n.infinite;if(!r)return i&&cs(e),{};var w=l?u/a:o/a,m=i0(s,l),h={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return h;if(s.swipeLength>w){cs(e),f&&f(m);var g,S,E=v?y:p;switch(m){case"left":case"up":S=E+Ug(n),g=c?Fg(n,S):S,h.currentDirection=0;break;case"right":case"down":S=E-Ug(n),g=c?Fg(n,S):S,h.currentDirection=1;break;default:g=E}h.triggerSlideHandler=g}else{var b=$l(n);h.trackStyle=o0(Pe(Pe({},n),{},{left:b}))}return h};$.swipeEnd=GR;var sT=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};$.getNavigableIndexes=sT;var Fg=function(e,n){var r=sT(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};$.checkNavigable=Fg;var Ug=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+r0(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+$d(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};$.getSlideCount=Ug;var th=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};$.checkSpecKeys=th;var Ll=function(e){th(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=aT(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Pe(Pe({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};$.getTrackCSS=Ll;var o0=function(e){th(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Ll(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};$.getTrackAnimateCSS=o0;var $l=function(e){if(e.unslick)return 0;th(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,d=e.variableWidth,f=e.slideHeight,p=e.fade,y=e.vertical,v=0,w,m,h=0;if(p||e.slideCount===1)return 0;var g=0;if(i?(g=-ol(e),o%l!==0&&n+l>o&&(g=-(n>o?a-(n-o):o%l)),s&&(g+=parseInt(a/2))):(o%l!==0&&n+l>o&&(g=a-o%l),s&&(g=parseInt(a/2))),v=g*u,h=g*f,y?w=n*f*-1+h:w=n*u*-1+v,d===!0){var S,E=r&&r.node;if(S=n+ol(e),m=E&&E.childNodes[S],w=m?m.offsetLeft*-1:0,s===!0){S=i?n+ol(e):n,m=E&&E.children[S],w=0;for(var b=0;b<S;b++)w-=E&&E.children[b]&&E.children[b].offsetWidth;w-=parseInt(e.centerPadding),w+=m&&(c-m.offsetWidth)/2}}return w};$.getTrackLeft=$l;var ol=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};$.getPreClones=ol;var oT=function(e){return e.unslick||!e.infinite?0:e.slideCount};$.getPostClones=oT;var aT=function(e){return e.slideCount===1?1:ol(e)+e.slideCount+oT(e)};$.getTotalSlides=aT;var lT=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+uT(e)?"left":"right":e.targetSlide<e.currentSlide-cT(e)?"right":"left"};$.siblingDirection=lT;var uT=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};$.slidesOnRight=uT;var cT=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};$.slidesOnLeft=cT;var KR=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};$.canUseDOM=KR;var nh={};function zg(t){return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}Object.defineProperty(nh,"__esModule",{value:!0});nh.Track=void 0;var Ur=dT(C),Kp=dT(Fo),Qp=$;function dT(t){return t&&t.__esModule?t:{default:t}}function jg(){return jg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function QR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YR(t,e,n){return e&&AS(t.prototype,e),n&&AS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XR(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vg(t,e)}function Vg(t,e){return Vg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Vg(t,e)}function JR(t){var e=eM();return function(){var r=Fd(t),i;if(e){var s=Fd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ZR(this,i)}}function ZR(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bg(t)}function Bg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fd(t){return Fd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Fd(t)}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yp=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},tM=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Xp=function(e,n){return e.key||n},nM=function(e){var n,r=[],i=[],s=[],o=Ur.default.Children.count(e.children),a=(0,Qp.lazyStartIndex)(e),l=(0,Qp.lazyEndIndex)(e);return Ur.default.Children.forEach(e.children,function(u,c){var d,f={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=u:d=Ur.default.createElement("div",null);var p=tM(qt(qt({},e),{},{index:c})),y=d.props.className||"",v=Yp(qt(qt({},e),{},{index:c}));if(r.push(Ur.default.cloneElement(d,{key:"original"+Xp(d,c),"data-index":c,className:(0,Kp.default)(v,y),tabIndex:"-1","aria-hidden":!v["slick-active"],style:qt(qt({outline:"none"},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var w=o-c;w<=(0,Qp.getPreClones)(e)&&o!==e.slidesToShow&&(n=-w,n>=a&&(d=u),v=Yp(qt(qt({},e),{},{index:n})),i.push(Ur.default.cloneElement(d,{key:"precloned"+Xp(d,n),"data-index":n,tabIndex:"-1",className:(0,Kp.default)(v,y),"aria-hidden":!v["slick-active"],style:qt(qt({},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}}))),o!==e.slidesToShow&&(n=o+c,n<l&&(d=u),v=Yp(qt(qt({},e),{},{index:n})),s.push(Ur.default.cloneElement(d,{key:"postcloned"+Xp(d,n),"data-index":n,tabIndex:"-1",className:(0,Kp.default)(v,y),"aria-hidden":!v["slick-active"],style:qt(qt({},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},rM=function(t){XR(n,t);var e=JR(n);function n(){var r;QR(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),qg(Bg(r),"node",null),qg(Bg(r),"handleRef",function(a){r.node=a}),r}return YR(n,[{key:"render",value:function(){var i=nM(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Ur.default.createElement("div",jg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(Ur.default.PureComponent);nh.Track=rM;var rh={};function Wg(t){return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}Object.defineProperty(rh,"__esModule",{value:!0});rh.Dots=void 0;var yc=fT(C),iM=fT(Fo),DS=$;function fT(t){return t&&t.__esModule?t:{default:t}}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){oM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lM(t,e,n){return e&&MS(t.prototype,e),n&&MS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Hg(t,e)}function cM(t){var e=hM();return function(){var r=Ud(t),i;if(e){var s=Ud(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return dM(this,i)}}function dM(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fM(t)}function fM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(t)}var pM=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},mM=function(t){uM(n,t);var e=cM(n);function n(){return aM(this,n),e.apply(this,arguments)}return lM(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,f=i.currentSlide,p=pM({slideCount:d,slidesToScroll:u,slidesToShow:c,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},v=[],w=0;w<p;w++){var m=(w+1)*u-1,h=l?m:(0,DS.clamp)(m,0,d-1),g=h-(u-1),S=l?g:(0,DS.clamp)(g,0,d-1),E=(0,iM.default)({"slick-active":l?f>=S&&f<=h:f===S}),b={message:"dots",index:w,slidesToScroll:u,currentSlide:f},k=this.clickHandler.bind(this,b);v=v.concat(yc.default.createElement("li",{key:w,className:E},yc.default.cloneElement(this.props.customPaging(w),{onClick:k})))}return yc.default.cloneElement(this.props.appendDots(v),sM({className:this.props.dotsClass},y))}}]),n}(yc.default.PureComponent);rh.Dots=mM;var Uo={};function Gg(t){return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}Object.defineProperty(Uo,"__esModule",{value:!0});Uo.PrevArrow=Uo.NextArrow=void 0;var Eo=pT(C),hT=pT(Fo),gM=$;function pT(t){return t&&t.__esModule?t:{default:t}}function zd(){return zd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){vM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gT(t,e,n){return e&&$S(t.prototype,e),n&&$S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kg(t,e)}function yT(t){var e=SM();return function(){var r=Vd(t),i;if(e){var s=Vd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return yM(this,i)}}function yM(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wM(t)}function wM(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}var bM=function(t){vT(n,t);var e=yT(n);function n(){return mT(this,n),e.apply(this,arguments)}return gT(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,hT.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Eo.default.cloneElement(this.props.prevArrow,jd(jd({},o),a)):l=Eo.default.createElement("button",zd({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(Eo.default.PureComponent);Uo.PrevArrow=bM;var EM=function(t){vT(n,t);var e=yT(n);function n(){return mT(this,n),e.apply(this,arguments)}return gT(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,gM.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,hT.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Eo.default.cloneElement(this.props.nextArrow,jd(jd({},o),a)):l=Eo.default.createElement("button",zd({key:"1",type:"button"},o)," ","Next"),l}}]),n}(Eo.default.PureComponent);Uo.NextArrow=EM;var wT=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),Qg=typeof window<"u"&&typeof document<"u"&&window.document===document,Bd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_M=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Bd):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),IM=2;function kM(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){_M(s)}function a(){var l=Date.now();if(n){if(l-i<IM)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var TM=20,CM=["top","right","bottom","left","width","height","size","weight"],xM=typeof MutationObserver<"u",NM=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=kM(this.refresh.bind(this),TM)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Qg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xM?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Qg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=CM.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),ST=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},zo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Bd},bT=ih(0,0,0,0);function qd(t){return parseFloat(t)||0}function FS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+qd(s)},0)}function OM(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=qd(o)}return n}function AM(t){var e=t.getBBox();return ih(0,0,e.width,e.height)}function PM(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return bT;var r=zo(t).getComputedStyle(t),i=OM(r),s=i.left+i.right,o=i.top+i.bottom,a=qd(r.width),l=qd(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=FS(r,"left","right")+s),Math.round(l+o)!==n&&(l-=FS(r,"top","bottom")+o)),!RM(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return ih(i.left,i.top,a,l)}var DM=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof zo(t).SVGGraphicsElement}:function(t){return t instanceof zo(t).SVGElement&&typeof t.getBBox=="function"}}();function RM(t){return t===zo(t).document.documentElement}function MM(t){return Qg?DM(t)?AM(t):PM(t):bT}function LM(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return ST(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function ih(t,e,n,r){return{x:t,y:e,width:n,height:r}}var $M=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ih(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=MM(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),FM=function(){function t(e,n){var r=LM(n);ST(this,{target:e,contentRect:r})}return t}(),UM=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new wT,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof zo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new $M(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof zo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new FM(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ET=typeof WeakMap<"u"?new WeakMap:new wT,_T=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=NM.getInstance(),r=new UM(e,n,this);ET.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){_T.prototype[t]=function(){var e;return(e=ET.get(this))[t].apply(e,arguments)}});var zM=function(){return typeof Bd.ResizeObserver<"u"?Bd.ResizeObserver:_T}();const jM=Object.freeze(Object.defineProperty({__proto__:null,default:zM},Symbol.toStringTag,{value:"Module"})),VM=KA(jM);Object.defineProperty(eh,"__esModule",{value:!0});eh.InnerSlider=void 0;var Mt=Eu(C),BM=Eu(tT),qM=Eu(RR),WM=Eu(Fo),Fe=$,HM=nh,GM=rh,US=Uo,KM=Eu(VM);function Eu(t){return t&&t.__esModule?t:{default:t}}function Wd(t){return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function Hd(){return Hd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}function QM(t,e){if(t==null)return{};var n=YM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JM(t,e,n){return e&&jS(t.prototype,e),n&&jS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Yg(t,e)}function eL(t){var e=nL();return function(){var r=Gd(t),i;if(e){var s=Gd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return tL(this,i)}}function tL(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ae(t)}function ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nL(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gd(t){return Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(t)}function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rL=function(t){ZM(n,t);var e=eL(n);function n(r){var i;XM(this,n),i=e.call(this,r),le(ae(i),"listRefHandler",function(o){return i.list=o}),le(ae(i),"trackRefHandler",function(o){return i.track=o}),le(ae(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Fe.getHeight)(o)+"px"}}),le(ae(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Fe.getOnDemandLazySlides)(ee(ee({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ee({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new KM.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),le(ae(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),le(ae(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Fe.getOnDemandLazySlides)(ee(ee({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=ee(ee({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=Mt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Mt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),le(ae(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,qM.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),le(ae(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=ee(ee({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),le(ae(i),"updateState",function(o,a,l){var u=(0,Fe.initializedState)(o);o=ee(ee(ee({},o),u),{},{slideIndex:u.currentSlide});var c=(0,Fe.getTrackLeft)(o);o=ee(ee({},o),{},{left:c});var d=(0,Fe.getTrackCSS)(o);(a||Mt.default.Children.count(i.props.children)!==Mt.default.Children.count(o.children))&&(u.trackStyle=d),i.setState(u,l)}),le(ae(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,Fe.getPreClones)(ee(ee(ee({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,Fe.getPostClones)(ee(ee(ee({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(k){l.push(k.props.style.width),o+=k.props.style.width});for(var d=0;d<u;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var f=0;f<c;f++)o+=l[f];for(var p=0;p<i.state.currentSlide;p++)a+=l[p];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:y}}var w=Mt.default.Children.count(i.props.children),m=ee(ee(ee({},i.props),i.state),{},{slideCount:w}),h=(0,Fe.getPreClones)(m)+(0,Fe.getPostClones)(m)+w,g=100/i.props.slidesToShow*h,S=100/h,E=-S*((0,Fe.getPreClones)(m)+i.state.currentSlide)*g/100;i.props.centerMode&&(E+=(100-S*g/100)/2);var b={width:g+"%",left:E+"%"};return{slideWidth:S+"%",trackStyle:b}}),le(ae(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var d=u.onclick;u.onclick=function(){d(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),le(ae(i),"progressiveLazyLoad",function(){for(var o=[],a=ee(ee({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Fe.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,Fe.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),le(ae(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,d=l.onLazyLoad,f=l.speed,p=l.afterChange,y=i.state.currentSlide,v=(0,Fe.slideHandler)(ee(ee(ee({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),w=v.state,m=v.nextState;if(w){c&&c(y,w.currentSlide);var h=w.lazyLoadedList.filter(function(g){return i.state.lazyLoadedList.indexOf(g)<0});d&&h.length>0&&d(h),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),p&&p(y),delete i.animationEndCallback),i.setState(w,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),m&&(i.animationEndCallback=setTimeout(function(){var g=m.animating,S=QM(m,["animating"]);i.setState(S,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:g})},10)),p&&p(w.currentSlide),delete i.animationEndCallback})},f))})}}),le(ae(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ee(ee({},i.props),i.state),u=(0,Fe.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),le(ae(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),le(ae(i),"keyHandler",function(o){var a=(0,Fe.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),le(ae(i),"selectHandler",function(o){i.changeSlide(o)}),le(ae(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),le(ae(i),"enableBodyScroll",function(){window.ontouchmove=null}),le(ae(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Fe.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),le(ae(i),"swipeMove",function(o){var a=(0,Fe.swipeMove)(o,ee(ee(ee({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),le(ae(i),"swipeEnd",function(o){var a=(0,Fe.swipeEnd)(o,ee(ee(ee({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),le(ae(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),le(ae(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),le(ae(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),le(ae(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),le(ae(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Fe.canGoNext)(ee(ee({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),le(ae(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),le(ae(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),le(ae(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),le(ae(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),le(ae(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),le(ae(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),le(ae(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),le(ae(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),le(ae(i),"render",function(){var o=(0,WM.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ee(ee({},i.props),i.state),l=(0,Fe.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=ee(ee({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,Fe.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=i.props.pauseOnDotsHover;d=ee(ee({},d),{},{clickHandler:i.changeSlide,onMouseEnter:f?i.onDotsLeave:null,onMouseOver:f?i.onDotsOver:null,onMouseLeave:f?i.onDotsLeave:null}),c=Mt.default.createElement(GM.Dots,d)}var p,y,v=(0,Fe.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(p=Mt.default.createElement(US.PrevArrow,v),y=Mt.default.createElement(US.NextArrow,v));var w=null;i.props.vertical&&(w={height:i.state.listHeight});var m=null;i.props.vertical===!1?i.props.centerMode===!0&&(m={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(m={padding:i.props.centerPadding+" 0px"});var h=ee(ee({},w),m),g=i.props.touchMove,S={className:"slick-list",style:h,onClick:i.clickHandler,onMouseDown:g?i.swipeStart:null,onMouseMove:i.state.dragging&&g?i.swipeMove:null,onMouseUp:g?i.swipeEnd:null,onMouseLeave:i.state.dragging&&g?i.swipeEnd:null,onTouchStart:g?i.swipeStart:null,onTouchMove:i.state.dragging&&g?i.swipeMove:null,onTouchEnd:g?i.touchEnd:null,onTouchCancel:i.state.dragging&&g?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},E={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(S={className:"slick-list"},E={className:o}),Mt.default.createElement("div",E,i.props.unslick?"":p,Mt.default.createElement("div",Hd({ref:i.listRefHandler},S),Mt.default.createElement(HM.Track,Hd({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=ee(ee({},BM.default),{},{currentSlide:i.props.initialSlide,slideCount:Mt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ee(ee({},i.state),s),i}return JM(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Wd(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Mt.default.Children.count(this.props.children)!==Mt.default.Children.count(i.children)}}]),n}(Mt.default.Component);eh.InnerSlider=rL;var iL=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},sL=iL,oL=sL,aL=function(t){var e=/[height|width]$/;return e.test(t)},VS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=oL(r),aL(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},lL=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=VS(n),r<t.length-1&&(e+=", ")}),e):VS(t)},uL=lL,IT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(C);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(IT);var Jp,BS;function cL(){if(BS)return Jp;BS=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Jp=t,Jp}var Zp,qS;function kT(){if(qS)return Zp;qS=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Zp={isFunction:n,isArray:e,each:t},Zp}var em,WS;function dL(){if(WS)return em;WS=1;var t=cL(),e=kT().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},em=n,em}var tm,HS;function fL(){if(HS)return tm;HS=1;var t=dL(),e=kT(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),u[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},tm=s,tm}var nm,GS;function hL(){if(GS)return nm;GS=1;var t=fL();return nm=new t,nm}(function(t){function e(_){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(C),r=eh,i=a(uL),s=a(IT),o=$;function a(_){return _&&_.__esModule?_:{default:_}}function l(){return l=Object.assign||function(_){for(var N=1;N<arguments.length;N++){var O=arguments[N];for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&(_[B]=O[B])}return _},l.apply(this,arguments)}function u(_,N){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(_);N&&(B=B.filter(function(q){return Object.getOwnPropertyDescriptor(_,q).enumerable})),O.push.apply(O,B)}return O}function c(_){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{};N%2?u(Object(O),!0).forEach(function(B){E(_,B,O[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):u(Object(O)).forEach(function(B){Object.defineProperty(_,B,Object.getOwnPropertyDescriptor(O,B))})}return _}function d(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function f(_,N){for(var O=0;O<N.length;O++){var B=N[O];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(_,B.key,B)}}function p(_,N,O){return N&&f(_.prototype,N),O&&f(_,O),Object.defineProperty(_,"prototype",{writable:!1}),_}function y(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),N&&v(_,N)}function v(_,N){return v=Object.setPrototypeOf||function(B,q){return B.__proto__=q,B},v(_,N)}function w(_){var N=g();return function(){var B=S(_),q;if(N){var z=S(this).constructor;q=Reflect.construct(B,arguments,z)}else q=B.apply(this,arguments);return m(this,q)}}function m(_,N){if(N&&(e(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(_)}function h(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(_){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},S(_)}function E(_,N,O){return N in _?Object.defineProperty(_,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[N]=O,_}var b=(0,o.canUseDOM)()&&hL(),k=function(_){y(O,_);var N=w(O);function O(B){var q;return d(this,O),q=N.call(this,B),E(h(q),"innerSliderRefHandler",function(z){return q.innerSlider=z}),E(h(q),"slickPrev",function(){return q.innerSlider.slickPrev()}),E(h(q),"slickNext",function(){return q.innerSlider.slickNext()}),E(h(q),"slickGoTo",function(z){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return q.innerSlider.slickGoTo(z,et)}),E(h(q),"slickPause",function(){return q.innerSlider.pause("paused")}),E(h(q),"slickPlay",function(){return q.innerSlider.autoPlay("play")}),q.state={breakpoint:null},q._responsiveMediaHandlers=[],q}return p(O,[{key:"media",value:function(q,z){b.register(q,z),this._responsiveMediaHandlers.push({query:q,handler:z})}},{key:"componentDidMount",value:function(){var q=this;if(this.props.responsive){var z=this.props.responsive.map(function(Ie){return Ie.breakpoint});z.sort(function(Ie,ke){return Ie-ke}),z.forEach(function(Ie,ke){var tt;ke===0?tt=(0,i.default)({minWidth:0,maxWidth:Ie}):tt=(0,i.default)({minWidth:z[ke-1]+1,maxWidth:Ie}),(0,o.canUseDOM)()&&q.media(tt,function(){q.setState({breakpoint:Ie})})});var et=(0,i.default)({minWidth:z.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(et,function(){q.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(q){b.unregister(q.query,q.handler)})}},{key:"render",value:function(){var q=this,z,et;this.state.breakpoint?(et=this.props.responsive.filter(function(re){return re.breakpoint===q.state.breakpoint}),z=et[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),et[0].settings)):z=c(c({},s.default),this.props),z.centerMode&&(z.slidesToScroll>1,z.slidesToScroll=1),z.fade&&(z.slidesToShow>1,z.slidesToScroll>1,z.slidesToShow=1,z.slidesToScroll=1);var Ie=n.default.Children.toArray(this.props.children);Ie=Ie.filter(function(re){return typeof re=="string"?!!re.trim():!!re}),z.variableWidth&&(z.rows>1||z.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),z.variableWidth=!1);for(var ke=[],tt=null,R=0;R<Ie.length;R+=z.rows*z.slidesPerRow){for(var J=[],Z=R;Z<R+z.rows*z.slidesPerRow;Z+=z.slidesPerRow){for(var ge=[],W=Z;W<Z+z.slidesPerRow&&(z.variableWidth&&Ie[W].props.style&&(tt=Ie[W].props.style.width),!(W>=Ie.length));W+=1)ge.push(n.default.cloneElement(Ie[W],{key:100*R+10*Z+W,tabIndex:-1,style:{width:"".concat(100/z.slidesPerRow,"%"),display:"inline-block"}}));J.push(n.default.createElement("div",{key:10*R+Z},ge))}z.variableWidth?ke.push(n.default.createElement("div",{key:R,style:{width:tt}},J)):ke.push(n.default.createElement("div",{key:R},J))}if(z==="unslick"){var F="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:F},Ie)}else ke.length<=z.slidesToShow&&(z.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},z),ke)}}]),O}(n.default.Component);t.default=k})(eT);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(eT);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(Zk);const pL=L_(Zk);var Xg={},mL={get exports(){return Xg},set exports(t){Xg=t}},TT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=C;function gL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vL=typeof Object.is=="function"?Object.is:gL,yL=jo.useState,wL=jo.useEffect,SL=jo.useLayoutEffect,bL=jo.useDebugValue;function EL(t,e){var n=e(),r=yL({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return SL(function(){i.value=n,i.getSnapshot=e,rm(i)&&s({inst:i})},[t,n,e]),wL(function(){return rm(i)&&s({inst:i}),t(function(){rm(i)&&s({inst:i})})},[t]),bL(n),n}function rm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vL(t,n)}catch{return!0}}function _L(t,e){return e()}var IL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_L:EL;TT.useSyncExternalStore=jo.useSyncExternalStore!==void 0?jo.useSyncExternalStore:IL;(function(t){t.exports=TT})(mL);var Jg={},kL={get exports(){return Jg},set exports(t){Jg=t}},CT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh=C,TL=Xg;function CL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xL=typeof Object.is=="function"?Object.is:CL,NL=TL.useSyncExternalStore,OL=sh.useRef,AL=sh.useEffect,PL=sh.useMemo,DL=sh.useDebugValue;CT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=OL(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=PL(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return d=y}return d=p}if(y=d,xL(c,p))return y;var v=r(p);return i!==void 0&&i(y,v)?y:(c=p,d=v)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=NL(t,s[0],s[1]);return AL(function(){o.hasValue=!0,o.value=a},[a]),DL(a),a};(function(t){t.exports=CT})(kL);function RL(t){t()}let xT=RL;const ML=t=>xT=t,LL=()=>xT,pi=C.createContext(null);function NT(){return C.useContext(pi)}const $L=()=>{throw new Error("uSES not initialized!")};let OT=$L;const FL=t=>{OT=t},UL=(t,e)=>t===e;function zL(t=pi){const e=t===pi?NT:()=>C.useContext(t);return function(r,i=UL){const{store:s,subscription:o,getServerState:a}=e(),l=OT(o.addNestedSub,s.getState,a||s.getState,r,i);return C.useDebugValue(l),l}}const oa=zL();var Zg={},jL={get exports(){return Zg},set exports(t){Zg=t}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,a0=pt?Symbol.for("react.element"):60103,l0=pt?Symbol.for("react.portal"):60106,oh=pt?Symbol.for("react.fragment"):60107,ah=pt?Symbol.for("react.strict_mode"):60108,lh=pt?Symbol.for("react.profiler"):60114,uh=pt?Symbol.for("react.provider"):60109,ch=pt?Symbol.for("react.context"):60110,u0=pt?Symbol.for("react.async_mode"):60111,dh=pt?Symbol.for("react.concurrent_mode"):60111,fh=pt?Symbol.for("react.forward_ref"):60112,hh=pt?Symbol.for("react.suspense"):60113,VL=pt?Symbol.for("react.suspense_list"):60120,ph=pt?Symbol.for("react.memo"):60115,mh=pt?Symbol.for("react.lazy"):60116,BL=pt?Symbol.for("react.block"):60121,qL=pt?Symbol.for("react.fundamental"):60117,WL=pt?Symbol.for("react.responder"):60118,HL=pt?Symbol.for("react.scope"):60119;function fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case a0:switch(t=t.type,t){case u0:case dh:case oh:case lh:case ah:case hh:return t;default:switch(t=t&&t.$$typeof,t){case ch:case fh:case mh:case ph:case uh:return t;default:return e}}case l0:return e}}}function AT(t){return fn(t)===dh}we.AsyncMode=u0;we.ConcurrentMode=dh;we.ContextConsumer=ch;we.ContextProvider=uh;we.Element=a0;we.ForwardRef=fh;we.Fragment=oh;we.Lazy=mh;we.Memo=ph;we.Portal=l0;we.Profiler=lh;we.StrictMode=ah;we.Suspense=hh;we.isAsyncMode=function(t){return AT(t)||fn(t)===u0};we.isConcurrentMode=AT;we.isContextConsumer=function(t){return fn(t)===ch};we.isContextProvider=function(t){return fn(t)===uh};we.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===a0};we.isForwardRef=function(t){return fn(t)===fh};we.isFragment=function(t){return fn(t)===oh};we.isLazy=function(t){return fn(t)===mh};we.isMemo=function(t){return fn(t)===ph};we.isPortal=function(t){return fn(t)===l0};we.isProfiler=function(t){return fn(t)===lh};we.isStrictMode=function(t){return fn(t)===ah};we.isSuspense=function(t){return fn(t)===hh};we.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===oh||t===dh||t===lh||t===ah||t===hh||t===VL||typeof t=="object"&&t!==null&&(t.$$typeof===mh||t.$$typeof===ph||t.$$typeof===uh||t.$$typeof===ch||t.$$typeof===fh||t.$$typeof===qL||t.$$typeof===WL||t.$$typeof===HL||t.$$typeof===BL)};we.typeOf=fn;(function(t){t.exports=we})(jL);var PT=Zg,GL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DT={};DT[PT.ForwardRef]=GL;DT[PT.Memo]=KL;var KS={},QL={get exports(){return KS},set exports(t){KS=t}},Se={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.element"),d0=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),vh=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),wh=Symbol.for("react.provider"),Sh=Symbol.for("react.context"),YL=Symbol.for("react.server_context"),bh=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),kh=Symbol.for("react.lazy"),XL=Symbol.for("react.offscreen"),RT;RT=Symbol.for("react.module.reference");function _n(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case c0:switch(t=t.type,t){case gh:case yh:case vh:case Eh:case _h:return t;default:switch(t=t&&t.$$typeof,t){case YL:case Sh:case bh:case kh:case Ih:case wh:return t;default:return e}}case d0:return e}}}Se.ContextConsumer=Sh;Se.ContextProvider=wh;Se.Element=c0;Se.ForwardRef=bh;Se.Fragment=gh;Se.Lazy=kh;Se.Memo=Ih;Se.Portal=d0;Se.Profiler=yh;Se.StrictMode=vh;Se.Suspense=Eh;Se.SuspenseList=_h;Se.isAsyncMode=function(){return!1};Se.isConcurrentMode=function(){return!1};Se.isContextConsumer=function(t){return _n(t)===Sh};Se.isContextProvider=function(t){return _n(t)===wh};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===c0};Se.isForwardRef=function(t){return _n(t)===bh};Se.isFragment=function(t){return _n(t)===gh};Se.isLazy=function(t){return _n(t)===kh};Se.isMemo=function(t){return _n(t)===Ih};Se.isPortal=function(t){return _n(t)===d0};Se.isProfiler=function(t){return _n(t)===yh};Se.isStrictMode=function(t){return _n(t)===vh};Se.isSuspense=function(t){return _n(t)===Eh};Se.isSuspenseList=function(t){return _n(t)===_h};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gh||t===yh||t===vh||t===Eh||t===_h||t===XL||typeof t=="object"&&t!==null&&(t.$$typeof===kh||t.$$typeof===Ih||t.$$typeof===wh||t.$$typeof===Sh||t.$$typeof===bh||t.$$typeof===RT||t.getModuleId!==void 0)};Se.typeOf=_n;(function(t){t.exports=Se})(QL);function JL(){const t=LL();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const QS={notify(){},get:()=>[]};function ZL(t,e){let n,r=QS;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=JL())}function u(){n&&(n(),n=void 0,r.clear(),r=QS)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const e$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t$=e$?C.useLayoutEffect:C.useEffect;function n$({store:t,context:e,children:n,serverState:r}){const i=C.useMemo(()=>{const a=ZL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=C.useMemo(()=>t.getState(),[t]);t$(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||pi;return wn.createElement(o.Provider,{value:i},n)}function MT(t=pi){const e=t===pi?NT:()=>C.useContext(t);return function(){const{store:r}=e();return r}}const r$=MT();function i$(t=pi){const e=t===pi?r$:MT(t);return function(){return e().dispatch}}const aa=i$();FL(Jg.useSyncExternalStoreWithSelector);ML(dd.unstable_batchedUpdates);function xn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function mi(t){return!!t&&!!t[De]}function mr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===h$}(t)||Array.isArray(t)||!!t[nb]||!!(!((e=t.constructor)===null||e===void 0)&&e[nb])||f0(t)||h0(t))}function ws(t,e,n){n===void 0&&(n=!1),la(t)===0?(n?Object.keys:Io)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function la(t){var e=t[De];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:f0(t)?2:h0(t)?3:0}function _o(t,e){return la(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s$(t,e){return la(t)===2?t.get(e):t[e]}function LT(t,e,n){var r=la(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $T(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function f0(t){return d$&&t instanceof Map}function h0(t){return f$&&t instanceof Set}function qi(t){return t.o||t.t}function p0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=UT(t);delete e[De];for(var n=Io(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function m0(t,e){return e===void 0&&(e=!1),g0(t)||mi(t)||!mr(t)||(la(t)>1&&(t.set=t.add=t.clear=t.delete=o$),Object.freeze(t),e&&ws(t,function(n,r){return m0(r,!0)},!0)),t}function o$(){xn(2)}function g0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wn(t){var e=rv[t];return e||xn(18,t),e}function a$(t,e){rv[t]||(rv[t]=e)}function ev(){return Fl}function im(t,e){e&&(Wn("Patches"),t.u=[],t.s=[],t.v=e)}function Kd(t){tv(t),t.p.forEach(l$),t.p=null}function tv(t){t===Fl&&(Fl=t.l)}function YS(t){return Fl={p:[],l:Fl,h:t,m:!0,_:0}}function l$(t){var e=t[De];e.i===0||e.i===1?e.j():e.g=!0}function sm(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Wn("ES5").S(e,t,r),r?(n[De].P&&(Kd(e),xn(4)),mr(t)&&(t=Qd(e,t),e.l||Yd(e,t)),e.u&&Wn("Patches").M(n[De].t,t,e.u,e.s)):t=Qd(e,n,[]),Kd(e),e.u&&e.v(e.u,e.s),t!==FT?t:void 0}function Qd(t,e,n){if(g0(e))return e;var r=e[De];if(!r)return ws(e,function(a,l){return XS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Yd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=p0(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),ws(s,function(a,l){return XS(t,r,i,a,l,n,o)}),Yd(t,i,!1),n&&t.u&&Wn("Patches").N(r,n,t.u,t.s)}return r.o}function XS(t,e,n,r,i,s,o){if(mi(i)){var a=Qd(t,i,s&&e&&e.i!==3&&!_o(e.R,r)?s.concat(r):void 0);if(LT(n,r,a),!mi(a))return;t.m=!1}else o&&n.add(i);if(mr(i)&&!g0(i)){if(!t.h.D&&t._<1)return;Qd(t,i),e&&e.A.l||Yd(t,i)}}function Yd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&m0(e,n)}function om(t,e){var n=t[De];return(n?qi(n):t)[e]}function JS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Vr(t){t.P||(t.P=!0,t.l&&Vr(t.l))}function am(t){t.o||(t.o=p0(t.t))}function nv(t,e,n){var r=f0(e)?Wn("MapSet").F(e,n):h0(e)?Wn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:ev(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ul;o&&(l=[a],u=Ba);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Wn("ES5").J(e,n);return(n?n.A:ev()).p.push(r),r}function u$(t){return mi(t)||xn(22,t),function e(n){if(!mr(n))return n;var r,i=n[De],s=la(n);if(i){if(!i.P&&(i.i<4||!Wn("ES5").K(i)))return i.t;i.I=!0,r=ZS(n,s),i.I=!1}else r=ZS(n,s);return ws(r,function(o,a){i&&s$(i.t,o)===a||LT(r,o,e(a))}),s===3?new Set(r):r}(t)}function ZS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return p0(t)}function c$(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[De];return Ul.get(l,s)},set:function(l){var u=this[De];Ul.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][De];if(!a.P)switch(a.i){case 5:r(a)&&Vr(a);break;case 4:n(a)&&Vr(a)}}}function n(s){for(var o=s.t,a=s.k,l=Io(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==De){var d=o[c];if(d===void 0&&!_o(o,c))return!0;var f=a[c],p=f&&f[De];if(p?p.t!==d:!$T(f,d))return!0}}var y=!!o[De];return l.length!==Io(o).length+(y?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};a$("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var y=UT(d);delete y[De];for(var v=Io(y),w=0;w<v.length;w++){var m=v[w];y[m]=t(m,c||!!y[m].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,s),u={i:a?5:4,A:o?o.A:ev(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,De,{value:u,writable:!0}),l},S:function(s,o,a){a?mi(o)&&o[De].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[De];if(c){var d=c.t,f=c.k,p=c.R,y=c.i;if(y===4)ws(f,function(g){g!==De&&(d[g]!==void 0||_o(d,g)?p[g]||l(f[g]):(p[g]=!0,Vr(c)))}),ws(d,function(g){f[g]!==void 0||_o(f,g)||(p[g]=!1,Vr(c))});else if(y===5){if(r(c)&&(Vr(c),p.length=!0),f.length<d.length)for(var v=f.length;v<d.length;v++)p[v]=!1;else for(var w=d.length;w<f.length;w++)p[w]=!0;for(var m=Math.min(f.length,d.length),h=0;h<m;h++)f.hasOwnProperty(h)||(p[h]=!0),p[h]===void 0&&l(f[h])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var eb,Fl,v0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",d$=typeof Map<"u",f$=typeof Set<"u",tb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",FT=v0?Symbol.for("immer-nothing"):((eb={})["immer-nothing"]=!0,eb),nb=v0?Symbol.for("immer-draftable"):"__$immer_draftable",De=v0?Symbol.for("immer-state"):"__$immer_state",h$=""+Object.prototype.constructor,Io=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,UT=Object.getOwnPropertyDescriptors||function(t){var e={};return Io(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},rv={},Ul={get:function(t,e){if(e===De)return t;var n=qi(t);if(!_o(n,e))return function(i,s,o){var a,l=JS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!mr(r)?r:r===om(t.t,e)?(am(t),t.o[e]=nv(t.A.h,r,t)):r},has:function(t,e){return e in qi(t)},ownKeys:function(t){return Reflect.ownKeys(qi(t))},set:function(t,e,n){var r=JS(qi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=om(qi(t),e),s=i==null?void 0:i[De];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if($T(n,i)&&(n!==void 0||_o(t.t,e)))return!0;am(t),Vr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return om(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,am(t),Vr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=qi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){xn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){xn(12)}},Ba={};ws(Ul,function(t,e){Ba[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ba.deleteProperty=function(t,e){return Ba.set.call(this,t,e,void 0)},Ba.set=function(t,e,n){return Ul.set.call(this,t[0],e,n,t[0])};var p$=function(){function t(n){var r=this;this.O=tb,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(v){var w=this;v===void 0&&(v=a);for(var m=arguments.length,h=Array(m>1?m-1:0),g=1;g<m;g++)h[g-1]=arguments[g];return l.produce(v,function(S){var E;return(E=s).call.apply(E,[w,S].concat(h))})}}var u;if(typeof s!="function"&&xn(6),o!==void 0&&typeof o!="function"&&xn(7),mr(i)){var c=YS(r),d=nv(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?Kd(c):tv(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(v){return im(c,o),sm(v,c)},function(v){throw Kd(c),v}):(im(c,o),sm(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===FT&&(u=void 0),r.D&&m0(u,!0),o){var p=[],y=[];Wn("Patches").M(i,u,p,y),o(p,y)}return u}xn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){mr(n)||xn(8),mi(n)&&(n=u$(n));var r=YS(this),i=nv(this,n,void 0);return i[De].C=!0,tv(r),i},e.finishDraft=function(n,r){var i=n&&n[De],s=i.A;return im(s,r),sm(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!tb&&xn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Wn("Patches").$;return mi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),an=new p$,m$=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const zT=m$;function zl(t){return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function g$(t,e){if(zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v$(t){var e=g$(t,"string");return zl(e)==="symbol"?e:String(e)}function y$(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach(function(r){y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ot(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var sb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lm=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xd={INIT:"@@redux/INIT"+lm(),REPLACE:"@@redux/REPLACE"+lm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lm()}};function w$(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function jT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ot(1));return n(jT)(t,e)}if(typeof t!="function")throw new Error(Ot(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Ot(3));return s}function d(v){if(typeof v!="function")throw new Error(Ot(4));if(l)throw new Error(Ot(5));var w=!0;return u(),a.push(v),function(){if(w){if(l)throw new Error(Ot(6));w=!1,u();var h=a.indexOf(v);a.splice(h,1),o=null}}}function f(v){if(!w$(v))throw new Error(Ot(7));if(typeof v.type>"u")throw new Error(Ot(8));if(l)throw new Error(Ot(9));try{l=!0,s=i(s,v)}finally{l=!1}for(var w=o=a,m=0;m<w.length;m++){var h=w[m];h()}return v}function p(v){if(typeof v!="function")throw new Error(Ot(10));i=v,f({type:Xd.REPLACE})}function y(){var v,w=d;return v={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(Ot(11));function g(){h.next&&h.next(c())}g();var S=w(g);return{unsubscribe:S}}},v[sb]=function(){return this},v}return f({type:Xd.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[sb]=y,r}function S$(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Xd.INIT});if(typeof r>"u")throw new Error(Ot(12));if(typeof n(void 0,{type:Xd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function VT(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{S$(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var p=s[f],y=n[p],v=l[p],w=y(v,u);if(typeof w>"u")throw u&&u.type,new Error(Ot(14));d[p]=w,c=c||w!==v}return c=c||s.length!==Object.keys(l).length,c?d:l}}function Jd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function b$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ot(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Jd.apply(void 0,a)(i.dispatch),ib(ib({},i),{},{dispatch:s})}}}function BT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var qT=BT();qT.withExtraArgument=BT;const ob=qT;var WT=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E$=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Vo=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},_$=Object.defineProperty,I$=Object.defineProperties,k$=Object.getOwnPropertyDescriptors,ab=Object.getOwnPropertySymbols,T$=Object.prototype.hasOwnProperty,C$=Object.prototype.propertyIsEnumerable,lb=function(t,e,n){return e in t?_$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ko=function(t,e){for(var n in e||(e={}))T$.call(e,n)&&lb(t,n,e[n]);if(ab)for(var r=0,i=ab(e);r<i.length;r++){var n=i[r];C$.call(e,n)&&lb(t,n,e[n])}return t},um=function(t,e){return I$(t,k$(e))},x$=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},N$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)};function O$(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var A$=function(t){WT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,Vo([void 0],n.concat(this))))},e}(Array),P$=function(t){WT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Vo([void 0],n[0].concat(this)))):new(e.bind.apply(e,Vo([void 0],n.concat(this))))},e}(Array);function ub(t){return mr(t)?zT(t,function(){}):t}function D$(t){return typeof t=="boolean"}function R$(){return function(e){return M$(e)}}function M$(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new A$;return n&&(D$(n)?r.push(ob):r.push(ob.withExtraArgument(n.extraArgument))),r}var L$=!0;function $$(t){var e=R$(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(O$(i))p=VT(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=o;typeof y=="function"&&(y=y(e));var v=b$.apply(void 0,y),w=Jd;l&&(w=N$(ko({trace:!L$},typeof l=="object"&&l)));var m=new P$(v),h=m;Array.isArray(f)?h=Vo([v],f):typeof f=="function"&&(h=f(m));var g=w.apply(void 0,h);return jT(p,c,g)}function sn(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return ko(ko({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function F$(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function U$(t){return typeof t=="function"}function y0(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?F$(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(U$(t))l=function(){return ub(t())};else{var u=ub(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var p=Vo([s[f.type]],o.filter(function(y){var v=y.matcher;return v(f)}).map(function(y){var v=y.reducer;return v}));return p.filter(function(y){return!!y}).length===0&&(p=[a]),p.reduce(function(y,v){if(v)if(mi(y)){var w=y,m=v(w,f);return m===void 0?y:m}else{if(mr(y))return zT(y,function(h){return v(h,f)});var m=v(y,f);if(m===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return y},d)}return c.getInitialState=l,c}var z$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",j$=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=z$[Math.random()*64|0];return e},V$=["name","message","stack","code"],cm=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),cb=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),B$=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=V$;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=sn(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:um(ko({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=sn(e+"/pending",function(u,c,d){return{payload:void 0,meta:um(ko({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=sn(e+"/rejected",function(u,c,d,f,p){return{payload:f,error:(r&&r.serializeError||B$)(u||"Rejected"),meta:um(ko({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):j$(),y=new a,v;function w(h){v=h,y.abort()}var m=function(){return x$(this,null,function(){var h,g,S,E,b,k,_;return E$(this,function(N){switch(N.label){case 0:return N.trys.push([0,4,,5]),E=(h=r==null?void 0:r.condition)==null?void 0:h.call(r,u,{getState:d,extra:f}),W$(E)?[4,E]:[3,2];case 1:E=N.sent(),N.label=2;case 2:if(E===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function(O,B){return y.signal.addEventListener("abort",function(){return B({name:"AbortError",message:v||"Aborted"})})}),c(s(p,u,(g=r==null?void 0:r.getPendingMeta)==null?void 0:g.call(r,{requestId:p,arg:u},{getState:d,extra:f}))),[4,Promise.race([b,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:p,signal:y.signal,abort:w,rejectWithValue:function(O,B){return new cm(O,B)},fulfillWithValue:function(O,B){return new cb(O,B)}})).then(function(O){if(O instanceof cm)throw O;return O instanceof cb?i(O.payload,p,u,O.meta):i(O,p,u)})])];case 3:return S=N.sent(),[3,5];case 4:return k=N.sent(),S=k instanceof cm?o(null,p,u,k.payload,k.meta):o(k,p,u),[3,5];case 5:return _=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,_||c(S),[2,S]}})})}();return Object.assign(m,{abort:w,requestId:p,arg:u,unwrap:function(){return m.then(q$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function q$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function W$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var w0="listenerMiddleware";sn(w0+"/add");sn(w0+"/removeAll");sn(w0+"/remove");var db;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);c$();const HT=sn("is fetching"),GT=sn("success"),KT=sn("failure"),dm={isFetching:HT,success:GT,failure:KT},Jr={NORMAL:"normal",FETCHING:"is fetching",SUCCESS:"success",FAILURE:"failure"},H$={status:Jr.NORMAL,movies:{popularMovies:null,topRatedMovies:null,upcomingMovies:null,comedyMovies:null,actionMovies:null,romanceMovies:null}},G$=y0(H$,t=>{t.addCase(HT,(e,n)=>({...e,status:Jr.FETCHING})).addCase(GT,(e,n)=>{const{payload:r}=n,{category:i,movies:s}=r;return{...e,status:Jr.SUCCESS,movies:{...e.movies,[i]:s}}}).addCase(KT,(e,n)=>({...e,status:Jr.FAILURE}))});const QT=({movie:t,handleMovieClick:e,useBackDrop:n})=>{const r="https://image.tmdb.org/t/p/original",i=n?t.backdrop_path:t.poster_path,s=n?{width:"100%",paddingTop:"80px"}:{};return H("div",{className:"movie_grid_item",onClick:()=>e(t),children:[I("img",{className:"movie_poster",src:r+i,style:s}),H("div",{className:"movie_info",onClick:()=>e(t),children:[I("h6",{className:"movie_title",children:t.title}),I("p",{className:"movie_release",children:t.release_date}),I("p",{className:"movie_rating",children:t.vote_average})]})]})},$n=({title:t,category:e,handleMovieClick:n,onCategoryClick:r,genre_id:i,movie_id:s,similar:o})=>{const[a,l]=C.useState(3),u=oa(y=>y.movies),c=aa();C.useEffect(()=>{p(s,i,e,c,o)},[t,s,o]);let d=null;switch(u.status){case Jr.NORMAL:d=null;break;case Jr.FETCHING:d=null;break;case Jr.SUCCESS:d=u.movies[e];break;case Jr.FAILURE:d=I("p",{children:"No movies available for this category"});break;default:d=null}const f=()=>{r(t,d)};return C.useEffect(()=>{const y=()=>{window.innerWidth<=768&&t==="Big Movie"||window.innerWidth>=768&&t==="Big Movie"?l(1):window.innerWidth>=768?l(4):l(3)};return window.addEventListener("resize",y),y(),()=>{window.removeEventListener("resize",y)}},[]),H("div",{className:"movie_slider",children:[t!=="Big Movie"&&H("h4",{onClick:f,children:[t," ",">"]}),I(pL,{className:"slick-slider",slidesToShow:a,slidesToScroll:1,children:d&&d.map((y,v)=>I("div",{className:`slider_container ${t==="Big Movie"?"big-movie-slider":""}`,children:I(QT,{movie:y,handleMovieClick:n,useBackDrop:t==="Big Movie"})},v))},u.status)]});async function p(y,v,w,m,h,g=1){const S="305f99214975faee28a0f129881c6ec9";let E=`https://api.themoviedb.org/3/movie/${w}?api_key=${S}&language=en-US&region=SE&page=${g}`;v!==""?E=`https://api.themoviedb.org/3/discover/movie?api_key=${S}&language=en-US&region=SE&with_genres=${v}&page=${g}`:h===!0?E=`https://api.themoviedb.org/3/movie/${y}/similar?api_key=${S}&language=en-US&region=SE&page=${g}`:y!==""&&(E=`https://api.themoviedb.org/3/movie/${y}/recommendations?api_key=${S}&language=en-US&region=SE&page=${g}`),m(dm.isFetching());try{let _=(await(await fetch(E)).json()).results;if(3>g){let O=await p(y,v,w,m,h,g+1);_=_.concat(O)}const N={category:w,movies:_};return m(dm.success(N)),_}catch{return m(dm.failure()),[]}}};const K$=({onCategoryClick:t,handleMovieClick:e})=>{let n=aa();return C.useEffect(()=>{},[location.pathname,n]),H("div",{className:"mainpage_container",children:[I("section",{className:"big_Movie_poster_section",children:I($n,{similar:!1,movie_id:"",genre_id:"",title:"Big Movie",category:"popular",handleMovieClick:e})}),I("section",{className:"popular_movies_section",children:I($n,{similar:!1,movie_id:"",genre_id:"",title:"Popular Movies",category:"popular",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"romance_section",children:I($n,{similar:!1,genre_id:"10749",title:"Romance",category:"romance",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"comedy_section",children:I($n,{similar:!1,genre_id:"35",title:"Comedy",category:"comedy",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"toprated_movies_section",children:I($n,{similar:!1,movie_id:"",genre_id:"",title:"Top Rated Movies On IMDb",category:"top_rated",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"action_section",children:I($n,{similar:!1,genre_id:"28",title:"Action",category:"action",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"now_playing_section",children:I($n,{similar:!1,movie_id:"",genre_id:"",title:"In Theaters Now",category:"now_playing",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"drama_section",children:I($n,{similar:!1,genre_id:"18",title:"Drama",category:"drama",handleMovieClick:e,onCategoryClick:t})})]})};function fb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zd(t){return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Q$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y$(t,e,n){return e&&hb(t.prototype,e),n&&hb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S0(t,e){return J$(t)||e3(t,e)||YT(t,e)||n3()}function _u(t){return X$(t)||Z$(t)||YT(t)||t3()}function X$(t){if(Array.isArray(t))return iv(t)}function J$(t){if(Array.isArray(t))return t}function Z$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function YT(t,e){if(t){if(typeof t=="string")return iv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iv(t,e)}}function iv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pb=function(){},b0={},XT={},JT=null,ZT={mark:pb,measure:pb};try{typeof window<"u"&&(b0=window),typeof document<"u"&&(XT=document),typeof MutationObserver<"u"&&(JT=MutationObserver),typeof performance<"u"&&(ZT=performance)}catch{}var r3=b0.navigator||{},mb=r3.userAgent,gb=mb===void 0?"":mb,gi=b0,Oe=XT,vb=JT,wc=ZT;gi.document;var kr=!!Oe.documentElement&&!!Oe.head&&typeof Oe.addEventListener=="function"&&typeof Oe.createElement=="function",eC=~gb.indexOf("MSIE")||~gb.indexOf("Trident/"),Sc,bc,Ec,_c,Ic,gr="___FONT_AWESOME___",sv=16,tC="fa",nC="svg-inline--fa",Ss="data-fa-i2svg",ov="data-fa-pseudo-element",i3="data-fa-pseudo-element-pending",E0="data-prefix",_0="data-icon",yb="fontawesome-i2svg",s3="async",o3=["HTML","HEAD","STYLE","SCRIPT"],rC=function(){try{return!0}catch{return!1}}(),Ce="classic",qe="sharp",I0=[Ce,qe];function Iu(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ce]}})}var jl=Iu((Sc={},it(Sc,Ce,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),it(Sc,qe,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Sc)),Vl=Iu((bc={},it(bc,Ce,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),it(bc,qe,{solid:"fass",regular:"fasr",light:"fasl"}),bc)),Bl=Iu((Ec={},it(Ec,Ce,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),it(Ec,qe,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Ec)),a3=Iu((_c={},it(_c,Ce,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),it(_c,qe,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_c)),l3=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,iC="fa-layers-text",u3=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,c3=Iu((Ic={},it(Ic,Ce,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),it(Ic,qe,{900:"fass",400:"fasr",300:"fasl"}),Ic)),sC=[1,2,3,4,5,6,7,8,9,10],d3=sC.concat([11,12,13,14,15,16,17,18,19,20]),f3=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ts={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ql=new Set;Object.keys(Vl[Ce]).map(ql.add.bind(ql));Object.keys(Vl[qe]).map(ql.add.bind(ql));var h3=[].concat(I0,_u(ql),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ts.GROUP,ts.SWAP_OPACITY,ts.PRIMARY,ts.SECONDARY]).concat(sC.map(function(t){return"".concat(t,"x")})).concat(d3.map(function(t){return"w-".concat(t)})),al=gi.FontAwesomeConfig||{};function p3(t){var e=Oe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function m3(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Oe&&typeof Oe.querySelector=="function"){var g3=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];g3.forEach(function(t){var e=S0(t,2),n=e[0],r=e[1],i=m3(p3(n));i!=null&&(al[r]=i)})}var oC={styleDefault:"solid",familyDefault:"classic",cssPrefix:tC,replacementClass:nC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};al.familyPrefix&&(al.cssPrefix=al.familyPrefix);var Bo=j(j({},oC),al);Bo.autoReplaceSvg||(Bo.observeMutations=!1);var G={};Object.keys(oC).forEach(function(t){Object.defineProperty(G,t,{enumerable:!0,set:function(n){Bo[t]=n,ll.forEach(function(r){return r(G)})},get:function(){return Bo[t]}})});Object.defineProperty(G,"familyPrefix",{enumerable:!0,set:function(e){Bo.cssPrefix=e,ll.forEach(function(n){return n(G)})},get:function(){return Bo.cssPrefix}});gi.FontAwesomeConfig=G;var ll=[];function v3(t){return ll.push(t),function(){ll.splice(ll.indexOf(t),1)}}var Pr=sv,zn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function y3(t){if(!(!t||!kr)){var e=Oe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Oe.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Oe.head.insertBefore(e,r),t}}var w3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Wl(){for(var t=12,e="";t-- >0;)e+=w3[Math.random()*62|0];return e}function ua(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function k0(t){return t.classList?ua(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function aC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function S3(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(aC(t[n]),'" ')},"").trim()}function Th(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function T0(t){return t.size!==zn.size||t.x!==zn.x||t.y!==zn.y||t.rotate!==zn.rotate||t.flipX||t.flipY}function b3(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function E3(t){var e=t.transform,n=t.width,r=n===void 0?sv:n,i=t.height,s=i===void 0?sv:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&eC?l+="translate(".concat(e.x/Pr-r/2,"em, ").concat(e.y/Pr-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Pr,"em), calc(-50% + ").concat(e.y/Pr,"em)) "):l+="translate(".concat(e.x/Pr,"em, ").concat(e.y/Pr,"em) "),l+="scale(".concat(e.size/Pr*(e.flipX?-1:1),", ").concat(e.size/Pr*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var _3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function lC(){var t=tC,e=nC,n=G.cssPrefix,r=G.replacementClass,i=_3;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var wb=!1;function fm(){G.autoAddCss&&!wb&&(y3(lC()),wb=!0)}var I3={mixout:function(){return{dom:{css:lC,insertCss:fm}}},hooks:function(){return{beforeDOMElementCreation:function(){fm()},beforeI2svg:function(){fm()}}}},vr=gi||{};vr[gr]||(vr[gr]={});vr[gr].styles||(vr[gr].styles={});vr[gr].hooks||(vr[gr].hooks={});vr[gr].shims||(vr[gr].shims=[]);var Nn=vr[gr],uC=[],k3=function t(){Oe.removeEventListener("DOMContentLoaded",t),ef=1,uC.map(function(e){return e()})},ef=!1;kr&&(ef=(Oe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Oe.readyState),ef||Oe.addEventListener("DOMContentLoaded",k3));function T3(t){kr&&(ef?setTimeout(t,0):uC.push(t))}function ku(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?aC(t):"<".concat(e," ").concat(S3(r),">").concat(s.map(ku).join(""),"</").concat(e,">")}function Sb(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var C3=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},hm=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?C3(n,i):n,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function x3(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function av(t){var e=x3(t);return e.length===1?e[0].toString(16):null}function N3(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function bb(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=bb(e);typeof Nn.hooks.addPack=="function"&&!i?Nn.hooks.addPack(t,bb(e)):Nn.styles[t]=j(j({},Nn.styles[t]||{}),s),t==="fas"&&lv("fa",e)}var kc,Tc,Cc,co=Nn.styles,O3=Nn.shims,A3=(kc={},it(kc,Ce,Object.values(Bl[Ce])),it(kc,qe,Object.values(Bl[qe])),kc),C0=null,cC={},dC={},fC={},hC={},pC={},P3=(Tc={},it(Tc,Ce,Object.keys(jl[Ce])),it(Tc,qe,Object.keys(jl[qe])),Tc);function D3(t){return~h3.indexOf(t)}function R3(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!D3(i)?i:null}var mC=function(){var e=function(s){return hm(co,function(o,a,l){return o[l]=hm(a,s,{}),o},{})};cC=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),dC=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),pC=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in co||G.autoFetchSvg,r=hm(O3,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});fC=r.names,hC=r.unicodes,C0=Ch(G.styleDefault,{family:G.familyDefault})};v3(function(t){C0=Ch(t.styleDefault,{family:G.familyDefault})});mC();function x0(t,e){return(cC[t]||{})[e]}function M3(t,e){return(dC[t]||{})[e]}function ns(t,e){return(pC[t]||{})[e]}function gC(t){return fC[t]||{prefix:null,iconName:null}}function L3(t){var e=hC[t],n=x0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function vi(){return C0}var N0=function(){return{prefix:null,iconName:null,rest:[]}};function Ch(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Ce:n,i=jl[r][t],s=Vl[r][t]||Vl[r][i],o=t in Nn.styles?t:null;return s||o||null}var Eb=(Cc={},it(Cc,Ce,Object.keys(Bl[Ce])),it(Cc,qe,Object.keys(Bl[qe])),Cc);function xh(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},it(e,Ce,"".concat(G.cssPrefix,"-").concat(Ce)),it(e,qe,"".concat(G.cssPrefix,"-").concat(qe)),e),o=null,a=Ce;(t.includes(s[Ce])||t.some(function(u){return Eb[Ce].includes(u)}))&&(a=Ce),(t.includes(s[qe])||t.some(function(u){return Eb[qe].includes(u)}))&&(a=qe);var l=t.reduce(function(u,c){var d=R3(G.cssPrefix,c);if(co[c]?(c=A3[a].includes(c)?a3[a][c]:c,o=c,u.prefix=c):P3[a].indexOf(c)>-1?(o=c,u.prefix=Ch(c,{family:a})):d?u.iconName=d:c!==G.replacementClass&&c!==s[Ce]&&c!==s[qe]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var f=o==="fa"?gC(u.iconName):{},p=ns(u.prefix,u.iconName);f.prefix&&(o=null),u.iconName=f.iconName||p||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!co.far&&co.fas&&!G.autoFetchSvg&&(u.prefix="fas")}return u},N0());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===qe&&(co.fass||G.autoFetchSvg)&&(l.prefix="fass",l.iconName=ns(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=vi()||"fas"),l}var $3=function(){function t(){Q$(this,t),this.definitions={}}return Y$(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=j(j({},n.definitions[a]||{}),o[a]),lv(a,o[a]);var l=Bl[Ce][a];l&&lv(l,o[a]),mC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(d){typeof d=="string"&&(n[a][d]=u)}),n[a][l]=u}),n}}]),t}(),_b=[],fo={},To={},F3=Object.keys(To);function U3(t,e){var n=e.mixoutsTo;return _b=t,fo={},Object.keys(To).forEach(function(r){F3.indexOf(r)===-1&&delete To[r]}),_b.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),Zd(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){fo[o]||(fo[o]=[]),fo[o].push(s[o])})}r.provides&&r.provides(To)}),n}function uv(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=fo[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function bs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=fo[t]||[];i.forEach(function(s){s.apply(null,n)})}function yr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return To[t]?To[t].apply(null,e):void 0}function cv(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||vi();if(e)return e=ns(n,e)||e,Sb(vC.definitions,n,e)||Sb(Nn.styles,n,e)}var vC=new $3,z3=function(){G.autoReplaceSvg=!1,G.observeMutations=!1,bs("noAuto")},j3={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return kr?(bs("beforeI2svg",e),yr("pseudoElements2svg",e),yr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;G.autoReplaceSvg===!1&&(G.autoReplaceSvg=!0),G.observeMutations=!0,T3(function(){B3({autoReplaceSvgRoot:n}),bs("watch",e)})}},V3={icon:function(e){if(e===null)return null;if(Zd(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ns(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Ch(e[0]);return{prefix:r,iconName:ns(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(G.cssPrefix,"-"))>-1||e.match(l3))){var i=xh(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||vi(),iconName:ns(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=vi();return{prefix:s,iconName:ns(s,e)||e}}}},hn={noAuto:z3,config:G,dom:j3,parse:V3,library:vC,findIconDefinition:cv,toHtml:ku},B3=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Oe:n;(Object.keys(Nn.styles).length>0||G.autoFetchSvg)&&kr&&G.autoReplaceSvg&&hn.dom.i2svg({node:r})};function Nh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ku(r)})}}),Object.defineProperty(t,"node",{get:function(){if(kr){var r=Oe.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function q3(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(T0(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=Th(j(j({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function W3(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(G.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:j(j({},i),{},{id:o}),children:r}]}]}function O0(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,c=t.titleId,d=t.extra,f=t.watchable,p=f===void 0?!1:f,y=r.found?r:n,v=y.width,w=y.height,m=i==="fak",h=[G.replacementClass,s?"".concat(G.cssPrefix,"-").concat(s):""].filter(function(N){return d.classes.indexOf(N)===-1}).filter(function(N){return N!==""||!!N}).concat(d.classes).join(" "),g={children:[],attributes:j(j({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:h,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(w)})},S=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(v/w*16*.0625,"em")}:{};p&&(g.attributes[Ss]=""),l&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(c||Wl())},children:[l]}),delete g.attributes.title);var E=j(j({},g),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:j(j({},S),d.styles)}),b=r.found&&n.found?yr("generateAbstractMask",E)||{children:[],attributes:{}}:yr("generateAbstractIcon",E)||{children:[],attributes:{}},k=b.children,_=b.attributes;return E.children=k,E.attributes=_,a?W3(E):q3(E)}function Ib(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=j(j(j({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[Ss]="");var c=j({},o.styles);T0(i)&&(c.transform=E3({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var d=Th(c);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function H3(t){var e=t.content,n=t.title,r=t.extra,i=j(j(j({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Th(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var pm=Nn.styles;function dv(t){var e=t[0],n=t[1],r=t.slice(4),i=S0(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(G.cssPrefix,"-").concat(ts.GROUP)},children:[{tag:"path",attributes:{class:"".concat(G.cssPrefix,"-").concat(ts.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(G.cssPrefix,"-").concat(ts.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var G3={found:!1,width:512,height:512};function K3(t,e){!rC&&!G.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function fv(t,e){var n=e;return e==="fa"&&G.styleDefault!==null&&(e=vi()),new Promise(function(r,i){if(yr("missingIconAbstract"),n==="fa"){var s=gC(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&pm[e]&&pm[e][t]){var o=pm[e][t];return r(dv(o))}K3(t,e),r(j(j({},G3),{},{icon:G.showMissingIcons&&t?yr("missingIconAbstract")||{}:{}}))})}var kb=function(){},hv=G.measurePerformance&&wc&&wc.mark&&wc.measure?wc:{mark:kb,measure:kb},qa='FA "6.4.0"',Q3=function(e){return hv.mark("".concat(qa," ").concat(e," begins")),function(){return yC(e)}},yC=function(e){hv.mark("".concat(qa," ").concat(e," ends")),hv.measure("".concat(qa," ").concat(e),"".concat(qa," ").concat(e," begins"),"".concat(qa," ").concat(e," ends"))},A0={begin:Q3,end:yC},Jc=function(){};function Tb(t){var e=t.getAttribute?t.getAttribute(Ss):null;return typeof e=="string"}function Y3(t){var e=t.getAttribute?t.getAttribute(E0):null,n=t.getAttribute?t.getAttribute(_0):null;return e&&n}function X3(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(G.replacementClass)}function J3(){if(G.autoReplaceSvg===!0)return Zc.replace;var t=Zc[G.autoReplaceSvg];return t||Zc.replace}function Z3(t){return Oe.createElementNS("http://www.w3.org/2000/svg",t)}function eF(t){return Oe.createElement(t)}function wC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?Z3:eF:n;if(typeof t=="string")return Oe.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(wC(o,{ceFn:r}))}),i}function tF(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Zc={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(wC(i),n)}),n.getAttribute(Ss)===null&&G.keepOriginalSource){var r=Oe.createComment(tF(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~k0(n).indexOf(G.replacementClass))return Zc.replace(e);var i=new RegExp("".concat(G.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===G.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return ku(a)}).join(`
`);n.setAttribute(Ss,""),n.innerHTML=o}};function Cb(t){t()}function SC(t,e){var n=typeof e=="function"?e:Jc;if(t.length===0)n();else{var r=Cb;G.mutateApproach===s3&&(r=gi.requestAnimationFrame||Cb),r(function(){var i=J3(),s=A0.begin("mutate");t.map(i),s(),n()})}}var P0=!1;function bC(){P0=!0}function pv(){P0=!1}var tf=null;function xb(t){if(vb&&G.observeMutations){var e=t.treeCallback,n=e===void 0?Jc:e,r=t.nodeCallback,i=r===void 0?Jc:r,s=t.pseudoElementsCallback,o=s===void 0?Jc:s,a=t.observeMutationsRoot,l=a===void 0?Oe:a;tf=new vb(function(u){if(!P0){var c=vi();ua(u).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!Tb(d.addedNodes[0])&&(G.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&G.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&Tb(d.target)&&~f3.indexOf(d.attributeName))if(d.attributeName==="class"&&Y3(d.target)){var f=xh(k0(d.target)),p=f.prefix,y=f.iconName;d.target.setAttribute(E0,p||c),y&&d.target.setAttribute(_0,y)}else X3(d.target)&&i(d.target)})}}),kr&&tf.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function nF(){tf&&tf.disconnect()}function rF(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function iF(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=xh(k0(t));return i.prefix||(i.prefix=vi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=M3(i.prefix,t.innerText)||x0(i.prefix,av(t.innerText))),!i.iconName&&G.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function sF(t){var e=ua(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return G.autoA11y&&(n?e["aria-labelledby"]="".concat(G.replacementClass,"-title-").concat(r||Wl()):(e["aria-hidden"]="true",e.focusable="false")),e}function oF(){return{iconName:null,title:null,titleId:null,prefix:null,transform:zn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=iF(t),r=n.iconName,i=n.prefix,s=n.rest,o=sF(t),a=uv("parseNodeAttributes",{},t),l=e.styleParser?rF(t):[];return j({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:zn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var aF=Nn.styles;function EC(t){var e=G.autoReplaceSvg==="nest"?Nb(t,{styleParser:!1}):Nb(t);return~e.extra.classes.indexOf(iC)?yr("generateLayersText",t,e):yr("generateSvgReplacementMutation",t,e)}var yi=new Set;I0.map(function(t){yi.add("fa-".concat(t))});Object.keys(jl[Ce]).map(yi.add.bind(yi));Object.keys(jl[qe]).map(yi.add.bind(yi));yi=_u(yi);function Ob(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!kr)return Promise.resolve();var n=Oe.documentElement.classList,r=function(d){return n.add("".concat(yb,"-").concat(d))},i=function(d){return n.remove("".concat(yb,"-").concat(d))},s=G.autoFetchSvg?yi:I0.map(function(c){return"fa-".concat(c)}).concat(Object.keys(aF));s.includes("fa")||s.push("fa");var o=[".".concat(iC,":not([").concat(Ss,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(Ss,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=ua(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=A0.begin("onTree"),u=a.reduce(function(c,d){try{var f=EC(d);f&&c.push(f)}catch(p){rC||p.name==="MissingIcon"&&console.error(p)}return c},[]);return new Promise(function(c,d){Promise.all(u).then(function(f){SC(f,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(f){l(),d(f)})})}function lF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;EC(t).then(function(n){n&&SC([n],e)})}function uF(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:cv(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:cv(i||{})),t(r,j(j({},n),{},{mask:i}))}}var cF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?zn:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,d=n.title,f=d===void 0?null:d,p=n.titleId,y=p===void 0?null:p,v=n.classes,w=v===void 0?[]:v,m=n.attributes,h=m===void 0?{}:m,g=n.styles,S=g===void 0?{}:g;if(e){var E=e.prefix,b=e.iconName,k=e.icon;return Nh(j({type:"icon"},e),function(){return bs("beforeDOMElementCreation",{iconDefinition:e,params:n}),G.autoA11y&&(f?h["aria-labelledby"]="".concat(G.replacementClass,"-title-").concat(y||Wl()):(h["aria-hidden"]="true",h.focusable="false")),O0({icons:{main:dv(k),mask:l?dv(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:b,transform:j(j({},zn),i),symbol:o,title:f,maskId:c,titleId:y,extra:{attributes:h,styles:S,classes:w}})})}},dF={mixout:function(){return{icon:uF(cF)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=Ob,n.nodeCallback=lF,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Oe:r,s=n.callback,o=s===void 0?function(){}:s;return Ob(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,c=r.mask,d=r.maskId,f=r.extra;return new Promise(function(p,y){Promise.all([fv(i,a),c.iconName?fv(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(v){var w=S0(v,2),m=w[0],h=w[1];p([n,O0({icons:{main:m,mask:h},prefix:a,iconName:i,transform:l,symbol:u,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=Th(a);l.length>0&&(i.style=l);var u;return T0(o)&&(u=yr("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},fF={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return Nh({type:"layer"},function(){bs("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(G.cssPrefix,"-layers")].concat(_u(s)).join(" ")},children:o}]})}}}},hF={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,c=r.styles,d=c===void 0?{}:c;return Nh({type:"counter",content:n},function(){return bs("beforeDOMElementCreation",{content:n,params:r}),H3({content:n.toString(),title:s,extra:{attributes:u,styles:d,classes:["".concat(G.cssPrefix,"-layers-counter")].concat(_u(a))}})})}}}},pF={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?zn:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,c=r.attributes,d=c===void 0?{}:c,f=r.styles,p=f===void 0?{}:f;return Nh({type:"text",content:n},function(){return bs("beforeDOMElementCreation",{content:n,params:r}),Ib({content:n,transform:j(j({},zn),s),title:a,extra:{attributes:d,styles:p,classes:["".concat(G.cssPrefix,"-layers-text")].concat(_u(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(eC){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();a=c.width/u,l=c.height/u}return G.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,Ib({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},mF=new RegExp('"',"ug"),Ab=[1105920,1112319];function gF(t){var e=t.replace(mF,""),n=N3(e,0),r=n>=Ab[0]&&n<=Ab[1],i=e.length===2?e[0]===e[1]:!1;return{value:av(i?e[0]:e),isSecondary:r||i}}function Pb(t,e){var n="".concat(i3).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=ua(t.children),o=s.filter(function(k){return k.getAttribute(ov)===e})[0],a=gi.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(u3),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&c!=="none"&&c!==""){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?qe:Ce,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Vl[f][l[2].toLowerCase()]:c3[f][u],y=gF(d),v=y.value,w=y.isSecondary,m=l[0].startsWith("FontAwesome"),h=x0(p,v),g=h;if(m){var S=L3(v);S.iconName&&S.prefix&&(h=S.iconName,p=S.prefix)}if(h&&!w&&(!o||o.getAttribute(E0)!==p||o.getAttribute(_0)!==g)){t.setAttribute(n,g),o&&t.removeChild(o);var E=oF(),b=E.extra;b.attributes[ov]=e,fv(h,p).then(function(k){var _=O0(j(j({},E),{},{icons:{main:k,mask:N0()},prefix:p,iconName:g,extra:b,watchable:!0})),N=Oe.createElement("svg");e==="::before"?t.insertBefore(N,t.firstChild):t.appendChild(N),N.outerHTML=_.map(function(O){return ku(O)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function vF(t){return Promise.all([Pb(t,"::before"),Pb(t,"::after")])}function yF(t){return t.parentNode!==document.head&&!~o3.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(ov)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Db(t){if(kr)return new Promise(function(e,n){var r=ua(t.querySelectorAll("*")).filter(yF).map(vF),i=A0.begin("searchPseudoElements");bC(),Promise.all(r).then(function(){i(),pv(),e()}).catch(function(){i(),pv(),n()})})}var wF={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Db,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Oe:r;G.searchPseudoElements&&Db(i)}}},Rb=!1,SF={mixout:function(){return{dom:{unwatch:function(){bC(),Rb=!0}}}},hooks:function(){return{bootstrap:function(){xb(uv("mutationObserverCallbacks",{}))},noAuto:function(){nF()},watch:function(n){var r=n.observeMutationsRoot;Rb?pv():xb(uv("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Mb=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},bF={mixout:function(){return{parse:{transform:function(n){return Mb(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Mb(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(u," ").concat(c)},f={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:d,path:f};return{tag:"g",attributes:j({},p.outer),children:[{tag:"g",attributes:j({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:j(j({},r.icon.attributes),p.path)}]}]}}}},mm={x:0,y:0,width:"100%",height:"100%"};function Lb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function EF(t){return t.tag==="g"?t.children:[t]}var _F={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?xh(i.split(" ").map(function(o){return o.trim()})):N0();return s.prefix||(s.prefix=vi()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,d=o.width,f=o.icon,p=b3({transform:l,containerWidth:d,iconWidth:u}),y={tag:"rect",attributes:j(j({},mm),{},{fill:"white"})},v=c.children?{children:c.children.map(Lb)}:{},w={tag:"g",attributes:j({},p.inner),children:[Lb(j({tag:c.tag,attributes:j(j({},c.attributes),p.path)},v))]},m={tag:"g",attributes:j({},p.outer),children:[w]},h="mask-".concat(a||Wl()),g="clip-".concat(a||Wl()),S={tag:"mask",attributes:j(j({},mm),{},{id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,m]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:EF(f)},S]};return r.push(E,{tag:"rect",attributes:j({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(h,")")},mm)}),{children:r,attributes:i}}}},IF={provides:function(e){var n=!1;gi.matchMedia&&(n=gi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:j(j({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=j(j({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:j(j({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:j(j({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:j(j({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:j(j({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:j(j({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:j(j({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:j(j({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},kF={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},TF=[I3,dF,fF,hF,pF,wF,SF,bF,_F,IF,kF];U3(TF,{mixoutsTo:hn});hn.noAuto;hn.config;hn.library;hn.dom;var mv=hn.parse;hn.findIconDefinition;hn.toHtml;var CF=hn.icon;hn.layer;hn.text;hn.counter;var oe={},xF={get exports(){return oe},set exports(t){oe=t}},NF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OF=NF,AF=OF;function _C(){}function IC(){}IC.resetWarningCache=_C;var PF=function(){function t(r,i,s,o,a,l){if(l!==AF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IC,resetWarningCache:_C};return n.PropTypes=n,n};xF.exports=PF();function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nf(t){return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function ho(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function RF(t,e){if(t==null)return{};var n=DF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gv(t){return MF(t)||LF(t)||$F(t)||FF()}function MF(t){if(Array.isArray(t))return vv(t)}function LF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $F(t,e){if(t){if(typeof t=="string")return vv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vv(t,e)}}function vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UF(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,c=t.spinReverse,d=t.pulse,f=t.fixedWidth,p=t.inverse,y=t.border,v=t.listItem,w=t.flip,m=t.size,h=t.rotation,g=t.pull,S=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":p,"fa-border":y,"fa-li":v,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},ho(e,"fa-".concat(m),typeof m<"u"&&m!==null),ho(e,"fa-rotate-".concat(h),typeof h<"u"&&h!==null&&h!==0),ho(e,"fa-pull-".concat(g),typeof g<"u"&&g!==null),ho(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(S).map(function(E){return S[E]?E:null}).filter(function(E){return E})}function zF(t){return t=t-0,t===t}function kC(t){return zF(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var jF=["style"];function VF(t){return t.charAt(0).toUpperCase()+t.slice(1)}function BF(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=kC(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[VF(i)]=s:e[i]=s,e},{})}function TC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return TC(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=BF(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[kC(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=RF(n,jF);return i.attrs.style=Zr(Zr({},i.attrs.style),o),t.apply(void 0,[e.tag,Zr(Zr({},i.attrs),a)].concat(gv(r)))}var CC=!1;try{CC=!0}catch{}function qF(){if(!CC&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Fb(t){if(t&&nf(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(mv.icon)return mv.icon(t);if(t===null)return null;if(t&&nf(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function gm(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?ho({},t,e):{}}var Xn=wn.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,u=Fb(n),c=gm("classes",[].concat(gv(UF(t)),gv(s.split(" ")))),d=gm("transform",typeof t.transform=="string"?mv.transform(t.transform):t.transform),f=gm("mask",Fb(r)),p=CF(u,Zr(Zr(Zr(Zr({},c),d),f),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!p)return qF("Could not find icon",u),null;var y=p.abstract,v={ref:e};return Object.keys(t).forEach(function(w){Xn.defaultProps.hasOwnProperty(w)||(v[w]=t[w])}),WF(y[0],v)});Xn.displayName="FontAwesomeIcon";Xn.propTypes={beat:oe.bool,border:oe.bool,beatFade:oe.bool,bounce:oe.bool,className:oe.string,fade:oe.bool,flash:oe.bool,mask:oe.oneOfType([oe.object,oe.array,oe.string]),maskId:oe.string,fixedWidth:oe.bool,inverse:oe.bool,flip:oe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:oe.oneOfType([oe.object,oe.array,oe.string]),listItem:oe.bool,pull:oe.oneOf(["right","left"]),pulse:oe.bool,rotation:oe.oneOf([0,90,180,270]),shake:oe.bool,size:oe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:oe.bool,spinPulse:oe.bool,spinReverse:oe.bool,symbol:oe.oneOfType([oe.bool,oe.string]),title:oe.string,titleId:oe.string,transform:oe.oneOfType([oe.string,oe.object]),swapOpacity:oe.bool};Xn.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var WF=TC.bind(null,wn.createElement),HF={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20V180h44c11 0 20-9 20-20s-9-20-20-20H356V96c0-11-9-20-20-20s-20 9-20 20v44H272c-11 0-20 9-20 20z"]},GF={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},KF={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},QF={prefix:"fas",iconName:"thumbs-down",icon:[512,512,[128078,61576],"f165","M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2H464c26.5 0 48-21.5 48-48c0-18.5-10.5-34.6-25.9-42.6C497 236.6 504 223.1 504 208c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48H294.5c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7V192v48 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 384H96c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H32C14.3 96 0 110.3 0 128V352c0 17.7 14.3 32 32 32z"]},YF={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},xC=YF,XF={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ZF;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e4=function(t){const e=NC(t);return OC.encodeByteArray(e,!0)},rf=function(t){return e4(t).replace(/\./g,"")},AC=function(t){try{return OC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function sf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!t4(n)||(t[n]=sf(t[n],e[n]));return t}function t4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=()=>n4().__FIREBASE_DEFAULTS__,i4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AC(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return r4()||i4()||s4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o4=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a4=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config},PC=t=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rf(JSON.stringify(n)),rf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function d4(){var t;const e=(t=Oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f4(){return typeof self=="object"&&self.self===self}function h4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m4(){const t=st();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g4(){return!d4()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DC(){try{return typeof indexedDB=="object"}catch{return!1}}function v4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="FirebaseError";class er extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=y4,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?w4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new er(i,a,r)}}function w4(t,e){return t.replace(S4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const S4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function of(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(zb(s)&&zb(o)){if(!of(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RC(t,e){const n=new E4(t,e);return n.subscribe.bind(n)}class E4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vm),i.error===void 0&&(i.error=vm),i.complete===void 0&&(i.complete=vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t){return t&&t._delegate?t._delegate:t}class wr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k4(t){return t===Wi?void 0:t}function T4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=[];var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const MC={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},x4=fe.INFO,N4={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},O4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ah{constructor(e){this.name=e,this._logLevel=x4,this._logHandler=O4,this._userLogHandler=null,D0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}function A4(t){D0.forEach(e=>{e.setLogLevel(t)})}function P4(t,e){for(const n of D0){let r=null;e&&e.level&&(r=MC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:fe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const D4=(t,e)=>e.some(n=>t instanceof n);let jb,Vb;function R4(){return jb||(jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M4(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LC=new WeakMap,yv=new WeakMap,$C=new WeakMap,ym=new WeakMap,R0=new WeakMap;function L4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ui(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LC.set(n,t)}).catch(()=>{}),R0.set(e,t),e}function $4(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ui(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F4(t){wv=t(wv)}function U4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wm(this),e,...n);return $C.set(r,e.sort?e.sort():[e]),ui(r)}:M4().includes(t)?function(...e){return t.apply(wm(this),e),ui(LC.get(this))}:function(...e){return ui(t.apply(wm(this),e))}}function z4(t){return typeof t=="function"?U4(t):(t instanceof IDBTransaction&&$4(t),D4(t,R4())?new Proxy(t,wv):t)}function ui(t){if(t instanceof IDBRequest)return L4(t);if(ym.has(t))return ym.get(t);const e=z4(t);return e!==t&&(ym.set(t,e),R0.set(e,t)),e}const wm=t=>R0.get(t);function j4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ui(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ui(o.result),l.oldVersion,l.newVersion,ui(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],B4=["put","add","delete","clear"],Sm=new Map;function Bb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Sm.set(e,s),s}F4(t=>({...t,get:(e,n,r)=>Bb(e,n)||t.get(e,n,r),has:(e,n)=>!!Bb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(W4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function W4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sv="@firebase/app",qb="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Ah("@firebase/app"),H4="@firebase/app-compat",G4="@firebase/analytics-compat",K4="@firebase/analytics",Q4="@firebase/app-check-compat",Y4="@firebase/app-check",X4="@firebase/auth",J4="@firebase/auth-compat",Z4="@firebase/database",eU="@firebase/database-compat",tU="@firebase/functions",nU="@firebase/functions-compat",rU="@firebase/installations",iU="@firebase/installations-compat",sU="@firebase/messaging",oU="@firebase/messaging-compat",aU="@firebase/performance",lU="@firebase/performance-compat",uU="@firebase/remote-config",cU="@firebase/remote-config-compat",dU="@firebase/storage",fU="@firebase/storage-compat",hU="@firebase/firestore",pU="@firebase/firestore-compat",mU="firebase",gU="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]",vU={[Sv]:"fire-core",[H4]:"fire-core-compat",[K4]:"fire-analytics",[G4]:"fire-analytics-compat",[Y4]:"fire-app-check",[Q4]:"fire-app-check-compat",[X4]:"fire-auth",[J4]:"fire-auth-compat",[Z4]:"fire-rtdb",[eU]:"fire-rtdb-compat",[tU]:"fire-fn",[nU]:"fire-fn-compat",[rU]:"fire-iid",[iU]:"fire-iid-compat",[sU]:"fire-fcm",[oU]:"fire-fcm-compat",[aU]:"fire-perf",[lU]:"fire-perf-compat",[uU]:"fire-rc",[cU]:"fire-rc-compat",[dU]:"fire-gcs",[fU]:"fire-gcs-compat",[hU]:"fire-fst",[pU]:"fire-fst-compat","fire-js":"fire-js",[mU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Map,Hl=new Map;function af(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function FC(t,e){t.container.addOrOverwriteComponent(e)}function bi(t){const e=t.name;if(Hl.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Hl.set(e,t);for(const n of Si.values())af(n,t);return!0}function Ph(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yU(t,e,n=wi){Ph(t,e).clearInstance(n)}function wU(){Hl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cr=new Fs("app","Firebase",SU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bU=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=gU;function M0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=a4()),!n)throw cr.create("no-options");const s=Si.get(i);if(s){if(of(n,s.options)&&of(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}const o=new C4(i);for(const l of Hl.values())o.addComponent(l);const a=new bU(n,r,o);return Si.set(i,a),a}function UC(t=wi){const e=Si.get(t);if(!e&&t===wi)return M0();if(!e)throw cr.create("no-app",{appName:t});return e}function EU(){return Array.from(Si.values())}async function zC(t){const e=t.name;Si.has(e)&&(Si.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Hn(t,e,n){var r;let i=(r=vU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(a.join(" "));return}bi(new wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jC(t,e){if(t!==null&&typeof t!="function")throw cr.create("invalid-log-argument");P4(t,e)}function VC(t){A4(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="firebase-heartbeat-database",IU=1,Gl="firebase-heartbeat-store";let bm=null;function BC(){return bm||(bm=j4(_U,IU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gl)}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),bm}async function kU(t){try{return(await BC()).transaction(Gl).objectStore(Gl).get(qC(t))}catch(e){if(e instanceof er)Es.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function Wb(t,e){try{const r=(await BC()).transaction(Gl,"readwrite");return await r.objectStore(Gl).put(e,qC(t)),r.done}catch(n){if(n instanceof er)Es.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function qC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1024,CU=30*24*60*60*1e3;class xU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Hb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=CU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hb(),{heartbeatsToSend:n,unsentEntries:r}=NU(this._heartbeatsCache.heartbeats),i=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Hb(){return new Date().toISOString().substring(0,10)}function NU(t,e=TU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DC()?v4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kU(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gb(t){return rf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){bi(new wr("platform-logger",e=>new q4(e),"PRIVATE")),bi(new wr("heartbeat",e=>new xU(e),"PRIVATE")),Hn(Sv,qb,t),Hn(Sv,qb,"esm2017"),Hn("fire-js","")}AU("");const PU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:er,SDK_VERSION:Ri,_DEFAULT_ENTRY_NAME:wi,_addComponent:af,_addOrOverwriteComponent:FC,_apps:Si,_clearComponents:wU,_components:Hl,_getProvider:Ph,_registerComponent:bi,_removeServiceInstance:yU,deleteApp:zC,getApp:UC,getApps:EU,initializeApp:M0,onLog:jC,registerVersion:Hn,setLogLevel:VC},Symbol.toStringTag,{value:"Module"}));function L0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DU=WC,HC=new Fs("auth","Firebase",WC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Ah("@firebase/auth");function RU(t,...e){lf.logLevel<=fe.WARN&&lf.warn(`Auth (${Ri}): ${t}`,...e)}function ed(t,...e){lf.logLevel<=fe.ERROR&&lf.error(`Auth (${Ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw $0(t,...e)}function Gn(t,...e){return $0(t,...e)}function MU(t,e,n){const r=Object.assign(Object.assign({},DU()),{[e]:n});return new Fs("auth","Firebase",r).create(e,{appName:t.name})}function $0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function te(t,e,...n){if(!t)throw $0(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Sr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LU(){return Kb()==="http:"||Kb()==="https:"}function Kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LU()||h4()||"connection"in navigator)?navigator.onLine:!0}function FU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=c4()||p4()}get(){return $U()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t,e){Sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=new Cu(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function da(t,e,n,r,i={}){return KC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),GC.fetch()(QC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function KC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UU),e);try{const i=new jU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MU(t,c,u);Rn(t,c)}}catch(i){if(i instanceof er)throw i;Rn(t,"network-request-failed",{message:String(i)})}}async function xu(t,e,n,r,i={}){const s=await da(t,e,n,r,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function QC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?F0(t.config,i):`${t.config.apiScheme}://${i}`}class jU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),zU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VU(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function BU(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qU(t,e=!1){const n=Ee(t),r=await n.getIdToken(e),i=U0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ul(Em(i.auth_time)),issuedAtTime:ul(Em(i.iat)),expirationTime:ul(Em(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Em(t){return Number(t)*1e3}function U0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=AC(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WU(t){const e=U0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof er&&HU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function HU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kl(t,BU(n,{idToken:r}));te(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YU(s.providerUserInfo):[],a=QU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new YC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function KU(t){const e=Ee(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YU(t){return t.map(e=>{var{providerId:n}=e,r=L0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){const n=await KC(t,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await XU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ql;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new YC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qU(this,e)}reload(){return KU(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Kl(this,VU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:S,isAnonymous:E,providerData:b,stsTokenManager:k}=n;te(g&&k,e,"internal-error");const _=Ql.fromJSON(this.name,k);te(typeof g=="string",e,"internal-error"),Dr(d,e.name),Dr(f,e.name),te(typeof S=="boolean",e,"internal-error"),te(typeof E=="boolean",e,"internal-error"),Dr(p,e.name),Dr(y,e.name),Dr(v,e.name),Dr(w,e.name),Dr(m,e.name),Dr(h,e.name);const N=new ds({uid:g,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:_,createdAt:m,lastLoginAt:h});return b&&Array.isArray(b)&&(N.providerData=b.map(O=>Object.assign({},O))),w&&(N._redirectEventId=w),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ql;i.updateFromServerResponse(n);const s=new ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=new Map;function ar(t){Sr(t instanceof Function,"Expected a class definition");let e=Qb.get(t);return e?(Sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XC.type="NONE";const Yb=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=td(this.userKey,i.apiKey,s),this.fullPersistenceKey=td("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(ar(Yb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ar(Yb);const o=td(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ds._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Co(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nx(e))return"Blackberry";if(rx(e))return"Webos";if(z0(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(tx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JC(t=st()){return/firefox\//i.test(t)}function z0(t=st()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=st()){return/crios\//i.test(t)}function ex(t=st()){return/iemobile/i.test(t)}function tx(t=st()){return/android/i.test(t)}function nx(t=st()){return/blackberry/i.test(t)}function rx(t=st()){return/webos/i.test(t)}function Dh(t=st()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JU(t=st()){var e;return Dh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZU(){return m4()&&document.documentMode===10}function ix(t=st()){return Dh(t)||tx(t)||rx(t)||nx(t)||/windows phone/i.test(t)||ex(t)}function ez(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t,e=[]){let n;switch(t){case"Browser":n=Xb(st());break;case"Worker":n=`${Xb(st())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ri}/${r}`}async function ox(t,e){return da(t,"GET","/v2/recaptchaConfig",ca(t,e))}function Jb(t){return t!==void 0&&t.enterprise!==void 0}class ax{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function lx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tz().appendChild(r)})}function nz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rz="https://www.google.com/recaptcha/enterprise.js?render=",iz="recaptcha-enterprise";class ux{constructor(e){this.type=iz,this.auth=fa(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ox(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ax(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Jb(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Jb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}lx(rz+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function cf(t,e,n,r=!1){const i=new ux(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zb(this),this.idTokenSubscription=new Zb(this),this.beforeStateQueue=new sz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ee(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}async initializeRecaptchaConfig(){const e=await ox(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new ax(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ux(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return te(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fa(t){return Ee(t)}class Zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(t,e){const n=Ph(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(of(s,e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}function lz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uz(t,e,n){const r=fa(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=cx(e),{host:o,port:a}=cz(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dz()}function cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cz(t){const e=cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:eE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:eE(o)}}}function eE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function fz(t,e){return da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function pz(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends j0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await cf(e,r,"signInWithPassword");return _m(e,i)}else return _m(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await cf(e,r,"signInWithPassword");return _m(e,s)}else return Promise.reject(i)});case"emailLink":return hz(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return fz(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return pz(e,{idToken:n,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="http://localhost";class _s extends j0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new _s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:mz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vz(t){const e=Wa(Ha(t)).link,n=e?Wa(Ha(e)).deep_link_id:null,r=Wa(Ha(t)).deep_link_id;return(r?Wa(Ha(r)).link:null)||r||n||e||t}class V0{constructor(e){var n,r,i,s,o,a;const l=Wa(Ha(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=gz((i=l.mode)!==null&&i!==void 0?i:null);te(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vz(e);try{return new V0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.providerId=ha.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V0.parseLink(n);return te(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}ha.PROVIDER_ID="password";ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends dx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Nu{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Nu{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Nu{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Im(t,e){return xu(t,"POST","/v1/accounts:signUp",ca(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ds._fromIdTokenResponse(e,r,i),o=tE(r);return new Is({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tE(r);return new Is({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends er{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,df.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new df(e,n,r,i)}}function fx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(t,s,e,r):s})}async function yz(t,e,n=!1){const r=await Kl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Is._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Kl(t,fx(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=U0(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),Is._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(t,e,n=!1){const r="signIn",i=await fx(t,r,e),s=await Is._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Sz(t,e){return hx(fa(t),e)}async function bz(t,e,n){var r;const i=fa(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await cf(i,s,"signUpPassword");o=Im(i,u)}else o=Im(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await cf(i,s,"signUpPassword");return Im(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Is._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Ez(t,e,n){return Sz(Ee(t),ha.credential(e,n))}function _z(t,e,n,r){return Ee(t).onIdTokenChanged(e,n,r)}function Iz(t,e,n){return Ee(t).beforeAuthStateChanged(e,n)}function Xl(t,e,n,r){return Ee(t).onAuthStateChanged(e,n,r)}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(){const t=st();return z0(t)||Dh(t)}const Tz=1e3,Cz=10;class mx extends px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=kz()&&ez(),this.fallbackToPolling=ix(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);ZU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Cz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mx.type="LOCAL";const xz=mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gx.type="SESSION";const vx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Nz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=B0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function Az(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function Pz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rz(){return yx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebaseLocalStorageDb",Mz=1,hf="firebaseLocalStorage",Sx="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function Lz(){const t=indexedDB.deleteDatabase(wx);return new Ou(t).toPromise()}function Ev(){const t=indexedDB.open(wx,Mz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hf,{keyPath:Sx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await Lz(),e(await Ev()))})})}async function nE(t,e,n){const r=Mh(t,!0).put({[Sx]:e,value:n});return new Ou(r).toPromise()}async function $z(t,e){const n=Mh(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function rE(t,e){const n=Mh(t,!0).delete(e);return new Ou(n).toPromise()}const Fz=800,Uz=3;class bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Uz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(Rz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Pz(),!this.activeServiceWorker)return;this.sender=new Oz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ev();return await nE(e,ff,"1"),await rE(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$z(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Mh(i,!1).getAll();return new Ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bx.type="LOCAL";const zz=bx;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(t,e){return e?ar(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends j0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vz(t){return hx(t.auth,new q0(t),t.bypassAuthState)}function Bz(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),wz(n,new q0(t),t.bypassAuthState)}async function qz(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),yz(n,new q0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vz;case"linkViaPopup":case"linkViaRedirect":return qz;case"reauthViaPopup":case"reauthViaRedirect":return Bz;default:Rn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=new Cu(2e3,1e4);class po extends Ex{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=B0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Wz.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz="pendingRedirect",nd=new Map;class Gz extends Ex{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await Kz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kz(t,e){const n=Xz(e),r=Yz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qz(t,e){nd.set(t._key(),e)}function Yz(t){return ar(t._redirectPersistence)}function Xz(t){return td(Hz,t.config.apiKey,t.name)}async function Jz(t,e,n=!1){const r=fa(t),i=jz(r,e),o=await new Gz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=10*60*1e3;class ej{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_x(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _x({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ij=/^https?/;async function sj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nj(t);for(const n of e)try{if(oj(n))return}catch{}Rn(t,"unauthorized-domain")}function oj(t){const e=bv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ij.test(n))return!1;if(rj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new Cu(3e4,6e4);function sE(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lj(t){return new Promise((e,n)=>{var r,i,s;function o(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(Gn(t,"network-request-failed"))},timeout:aj.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{const a=nz("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},lx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rd=null,e})}let rd=null;function uj(t){return rd=rd||lj(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=new Cu(5e3,15e3),dj="__/auth/iframe",fj="emulator/auth/iframe",hj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mj(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F0(e,fj):`https://${t.config.authDomain}/${dj}`,r={apiKey:e.apiKey,appName:t.name,v:Ri},i=pj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tu(r).slice(1)}`}async function gj(t){const e=await uj(t),n=Kn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:mj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},cj.get());function l(){Kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yj=500,wj=600,Sj="_blank",bj="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ej(t,e,n,r=yj,i=wj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vj),{width:r.toString(),height:i.toString(),top:s,left:o}),u=st().toLowerCase();n&&(a=ZC(u)?Sj:n),JC(u)&&(e=e||bj,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(JU(u)&&a!=="_self")return _j(e||"",a),new oE(null);const d=window.open(e||"",a,c);te(d,t,"popup-blocked");try{d.focus()}catch{}return new oE(d)}function _j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="__/auth/handler",kj="emulator/auth/handler",Tj=encodeURIComponent("fac");async function aE(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ri,eventId:i};if(e instanceof dx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Nu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Tj}=${encodeURIComponent(l)}`:"";return`${Cj(t)}?${Tu(a).slice(1)}${u}`}function Cj({config:t}){return t.emulator?F0(t,kj):`https://${t.authDomain}/${Ij}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class xj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vx,this._completeRedirectFn=Jz,this._overrideRedirectResult=Qz}async _openPopup(e,n,r,i){var s;Sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await aE(e,n,r,bv(),i);return Ej(e,o,B0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await aE(e,n,r,bv(),i);return Az(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Sr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await gj(e),r=new ej(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[km];o!==void 0&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ix()||z0()||Dh()}}const Nj=xj;var lE="@firebase/auth",uE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Pj(t){bi(new wr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),te(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sx(t)},u=new oz(r,i,s,l);return lz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bi(new wr("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(r=>new Oj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(lE,uE,Aj(t)),Hn(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=5*60,Rj=PC("authIdTokenMaxAge")||Dj;let cE=null;const Mj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Rj)return;const i=n==null?void 0:n.token;cE!==i&&(cE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Us(t=UC()){const e=Ph(t,"auth");if(e.isInitialized())return e.getImmediate();const n=az(t,{popupRedirectResolver:Nj,persistence:[zz,xz,vx]}),r=PC("authTokenSyncURL");if(r){const s=Mj(r);Iz(n,s,()=>s(n.currentUser)),_z(n,o=>s(o))}const i=o4("auth");return i&&uz(n,`http://${i}`),n}Pj("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this._delegate=e,this.firebase=n,af(e,new wr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zC(this._delegate)))}_getService(e,n=wi){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=wi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){af(this._delegate,e)}_addOrOverwriteComponent(e){FC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},dE=new Fs("app-compat","Firebase",$j);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Hn,setLogLevel:VC,onLog:jC,apps:null,SDK_VERSION:Ri,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:PU}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||wi,!Ub(e,u))throw dE.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=M0(u,c);if(Ub(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(bi(u)&&u.type==="PUBLIC"){const f=(p=i())=>{if(typeof p[d]!="function")throw dE.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&sf(f,u.serviceProps),n[d]=f,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){const t=Fj(Lj);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Ix,extendNamespace:e,createSubscribe:RC,ErrorFactory:Fs,deepExtend:sf});function e(n){sf(t,n)}return t}const Uj=Ix();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Ah("@firebase/app-compat"),zj="@firebase/app-compat",jj="0.2.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){Hn(zj,jj,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(f4()&&self.firebase!==void 0){fE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&fE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Tr=Uj;Vj();var Bj="firebase",qj="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.registerVersion(Bj,qj,"app-compat");var Wj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,W0=W0||{},ne=Wj||self;function pf(){}function Lh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Au(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Hj(t){return Object.prototype.hasOwnProperty.call(t,Tm)&&t[Tm]||(t[Tm]=++Gj)}var Tm="closure_uid_"+(1e9*Math.random()>>>0),Gj=0;function Kj(t,e,n){return t.call.apply(t.bind,arguments)}function Qj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=Kj:Pt=Qj,Pt.apply(null,arguments)}function Nc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Mi(){this.s=this.s,this.o=this.o}var Yj=0;Mi.prototype.s=!1;Mi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Yj!=0)&&Hj(this)};Mi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function H0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Lh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var Xj=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ne.addEventListener("test",pf,e),ne.removeEventListener("test",pf,e)}catch{}return t}();function mf(t){return/^[\s\xa0]*$/.test(t)}var pE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Cm(t,e){return t<e?-1:t>e?1:0}function $h(){var t=ne.navigator;return t&&(t=t.userAgent)?t:""}function Un(t){return $h().indexOf(t)!=-1}function G0(t){return G0[" "](t),t}G0[" "]=pf;function Jj(t){var e=tV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Zj=Un("Opera"),qo=Un("Trident")||Un("MSIE"),Tx=Un("Edge"),_v=Tx||qo,Cx=Un("Gecko")&&!($h().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge"))&&!(Un("Trident")||Un("MSIE"))&&!Un("Edge"),eV=$h().toLowerCase().indexOf("webkit")!=-1&&!Un("Edge");function xx(){var t=ne.document;return t?t.documentMode:void 0}var gf;e:{var xm="",Nm=function(){var t=$h();if(Cx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Tx)return/Edge\/([\d\.]+)/.exec(t);if(qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eV)return/WebKit\/(\S+)/.exec(t);if(Zj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nm&&(xm=Nm?Nm[1]:""),qo){var Om=xx();if(Om!=null&&Om>parseFloat(xm)){gf=String(Om);break e}}gf=xm}var tV={};function nV(){return Jj(function(){let t=0;const e=pE(String(gf)).split("."),n=pE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Cm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Cm(i[2].length==0,s[2].length==0)||Cm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Iv;if(ne.document&&qo){var mE=xx();Iv=mE||parseInt(gf,10)||void 0}else Iv=void 0;var rV=Iv;function Jl(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Cx){e:{try{G0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Jl.X.h.call(this)}}kt(Jl,Dt);var iV={2:"touch",3:"pen",4:"mouse"};Jl.prototype.h=function(){Jl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pu="closure_listenable_"+(1e6*Math.random()|0),sV=0;function oV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++sV,this.ba=this.ea=!1}function Fh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function K0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Nx(t){const e={};for(const n in t)e[n]=t[n];return e}const gE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ox(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gE.length;s++)n=gE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Uh(t){this.src=t,this.g={},this.h=0}Uh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Tv(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new oV(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function kv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=kx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Fh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Q0="closure_lm_"+(1e6*Math.random()|0),Am={};function Ax(t,e,n,r,i){if(r&&r.once)return Dx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ax(t,e[s],n,r,i);return null}return n=J0(n),t&&t[Pu]?t.N(e,n,Au(r)?!!r.capture:!!r,i):Px(t,e,n,!1,r,i)}function Px(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Au(i)?!!i.capture:!!i,a=X0(t);if(a||(t[Q0]=a=new Uh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=aV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aV(){function t(n){return e.call(t.src,t.listener,n)}const e=lV;return t}function Dx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Dx(t,e[s],n,r,i);return null}return n=J0(n),t&&t[Pu]?t.O(e,n,Au(r)?!!r.capture:!!r,i):Px(t,e,n,!0,r,i)}function Rx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Rx(t,e[s],n,r,i);else r=Au(r)?!!r.capture:!!r,n=J0(n),t&&t[Pu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Tv(s,n,r,i),-1<n&&(Fh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=X0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tv(e,n,r,i)),(n=-1<t?e[t]:null)&&Y0(n))}function Y0(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Pu])kv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=X0(e))?(kv(n,t),n.h==0&&(n.src=null,e[Q0]=null)):Fh(t)}}}function Mx(t){return t in Am?Am[t]:Am[t]="on"+t}function lV(t,e){if(t.ba)t=!0;else{e=new Jl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Y0(t),t=n.call(r,e)}return t}function X0(t){return t=t[Q0],t instanceof Uh?t:null}var Pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function J0(t){return typeof t=="function"?t:(t[Pm]||(t[Pm]=function(e){return t.handleEvent(e)}),t[Pm])}function ht(){Mi.call(this),this.i=new Uh(this),this.P=this,this.I=null}kt(ht,Mi);ht.prototype[Pu]=!0;ht.prototype.removeEventListener=function(t,e,n,r){Rx(this,t,e,n,r)};function Et(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var i=e;e=new Dt(r,t),Ox(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Oc(o,r,!0,e)&&i}if(o=e.g=t,i=Oc(o,r,!0,e)&&i,i=Oc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Oc(o,r,!1,e)&&i}ht.prototype.M=function(){if(ht.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fh(n[r]);delete t.g[e],t.h--}}this.I=null};ht.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&kv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Z0=ne.JSON.stringify;function uV(){var t=Fx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class cV{constructor(){this.h=this.g=null}add(e,n){const r=Lx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Lx=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new dV,t=>t.reset());class dV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fV(t){ne.setTimeout(()=>{throw t},0)}function $x(t,e){Cv||hV(),xv||(Cv(),xv=!0),Fx.add(t,e)}var Cv;function hV(){var t=ne.Promise.resolve(void 0);Cv=function(){t.then(pV)}}var xv=!1,Fx=new cV;function pV(){for(var t;t=uV();){try{t.h.call(t.g)}catch(n){fV(n)}var e=Lx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xv=!1}function zh(t,e){ht.call(this),this.h=t||1,this.g=e||ne,this.j=Pt(this.lb,this),this.l=Date.now()}kt(zh,ht);K=zh.prototype;K.ca=!1;K.R=null;K.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Et(this,"tick"),this.ca&&(ew(this),this.start()))}};K.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ew(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}K.M=function(){zh.X.M.call(this),ew(this),delete this.g};function tw(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ne.setTimeout(t,e||0)}function Ux(t){t.g=tw(()=>{t.g=null,t.i&&(t.i=!1,Ux(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mV extends Mi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ux(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(t){Mi.call(this),this.h=t,this.g={}}kt(Zl,Mi);var vE=[];function zx(t,e,n,r){Array.isArray(n)||(n&&(vE[0]=n.toString()),n=vE);for(var i=0;i<n.length;i++){var s=Ax(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function jx(t){K0(t.g,function(e,n){this.g.hasOwnProperty(n)&&Y0(e)},t),t.g={}}Zl.prototype.M=function(){Zl.X.M.call(this),jx(this)};Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jh(){this.g=!0}jh.prototype.Aa=function(){this.g=!1};function gV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function mo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wV(t,n)+(r?" "+r:"")})}function yV(t,e){t.info(function(){return"TIMEOUT: "+e})}jh.prototype.info=function(){};function wV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Z0(n)}catch{return e}}var zs={},yE=null;function Vh(){return yE=yE||new ht}zs.Pa="serverreachability";function Vx(t){Dt.call(this,zs.Pa,t)}kt(Vx,Dt);function eu(t){const e=Vh();Et(e,new Vx(e))}zs.STAT_EVENT="statevent";function Bx(t,e){Dt.call(this,zs.STAT_EVENT,t),this.stat=e}kt(Bx,Dt);function Ut(t){const e=Vh();Et(e,new Bx(e,t))}zs.Qa="timingevent";function qx(t,e){Dt.call(this,zs.Qa,t),this.size=e}kt(qx,Dt);function Du(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){t()},e)}var Bh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function nw(){}nw.prototype.h=null;function wE(t){return t.h||(t.h=t.i())}function Hx(){}var Ru={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function rw(){Dt.call(this,"d")}kt(rw,Dt);function iw(){Dt.call(this,"c")}kt(iw,Dt);var Nv;function qh(){}kt(qh,nw);qh.prototype.g=function(){return new XMLHttpRequest};qh.prototype.i=function(){return{}};Nv=new qh;function Mu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Zl(this),this.O=SV,t=_v?125:void 0,this.T=new zh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Gx}function Gx(){this.i=null,this.g="",this.h=!1}var SV=45e3,Ov={},vf={};K=Mu.prototype;K.setTimeout=function(t){this.O=t};function Av(t,e,n){t.K=1,t.v=Hh(br(e)),t.s=n,t.P=!0,Kx(t,null)}function Kx(t,e){t.F=Date.now(),Lu(t),t.A=br(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),nN(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Gx,t.g=_N(t.l,n?e:null,!t.s),0<t.N&&(t.L=new mV(Pt(t.La,t,t.g),t.N)),zx(t.S,t.g,"readystatechange",t.ib),e=t.H?Nx(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),eu(),gV(t.j,t.u,t.A,t.m,t.U,t.s)}K.ib=function(t){t=t.target;const e=this.L;e&&lr(t)==3?e.l():this.La(t)};K.La=function(t){try{if(t==this.g)e:{const c=lr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||_v||this.g&&(this.h.h||this.g.fa()||_E(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?eu(3):eu(2)),Wh(this);var n=this.g.aa();this.Y=n;t:if(Qx(this)){var r=_E(this.g);t="";var i=r.length,s=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),cl(this);var o="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,vV(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(a)){var u=a;break t}}u=null}if(n=u)mo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pv(this,n);else{this.i=!1,this.o=3,Ut(12),rs(this),cl(this);break e}}this.P?(Yx(this,c,o),_v&&this.i&&c==3&&(zx(this.S,this.T,"tick",this.hb),this.T.start())):(mo(this.j,this.m,o,null),Pv(this,o)),c==4&&rs(this),this.i&&!this.I&&(c==4?wN(this.l,this):(this.i=!1,Lu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ut(12)):(this.o=0,Ut(13)),rs(this),cl(this)}}}catch{}finally{}};function Qx(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Yx(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=bV(t,n),i==vf){e==4&&(t.o=4,Ut(14),r=!1),mo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ov){t.o=4,Ut(15),mo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else mo(t.j,t.m,i,null),Pv(t,i);Qx(t)&&i!=vf&&i!=Ov&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),dw(e),e.K=!0,Ut(11))):(mo(t.j,t.m,n,"[Invalid Chunked Response]"),rs(t),cl(t))}K.hb=function(){if(this.g){var t=lr(this.g),e=this.g.fa();this.C<e.length&&(Wh(this),Yx(this,t,e),this.i&&t!=4&&Lu(this))}};function bV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vf:(n=Number(e.substring(n,r)),isNaN(n)?Ov:(r+=1,r+n>e.length?vf:(e=e.substr(r,n),t.C=r+n,e)))}K.cancel=function(){this.I=!0,rs(this)};function Lu(t){t.V=Date.now()+t.O,Xx(t,t.O)}function Xx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Du(Pt(t.gb,t),e)}function Wh(t){t.B&&(ne.clearTimeout(t.B),t.B=null)}K.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(yV(this.j,this.A),this.K!=2&&(eu(),Ut(17)),rs(this),this.o=2,cl(this)):Xx(this,this.V-t)};function cl(t){t.l.G==0||t.I||wN(t.l,t)}function rs(t){Wh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ew(t.T),jx(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Pv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Dv(n.h,t))){if(!t.J&&Dv(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Sf(n),Qh(n);else break e;cw(n),Ut(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Du(Pt(n.cb,n),6e3));if(1>=sN(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else is(n,11)}else if((t.J||n.g==t)&&Sf(n),!mf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(sw(s,s.h),s.h=null))}if(r.D){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,Me(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=EN(r,r.H?r.ka:null,r.V),o.J){oN(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Wh(a),Lu(a)),r.g=o}else vN(r);0<n.i.length&&Yh(n)}else u[0]!="stop"&&u[0]!="close"||is(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?is(n,7):uw(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}eu(4)}catch{}}function EV(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Lh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function _V(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Lh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Jx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=_V(t),r=EV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Zx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fs){this.h=e!==void 0?e:t.h,yf(this,t.j),this.s=t.s,this.g=t.g,wf(this,t.m),this.l=t.l,e=t.i;var n=new tu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),SE(this,n),this.o=t.o}else t&&(n=String(t).match(Zx))?(this.h=!!e,yf(this,n[1]||"",!0),this.s=Ga(n[2]||""),this.g=Ga(n[3]||"",!0),wf(this,n[4]),this.l=Ga(n[5]||"",!0),SE(this,n[6]||"",!0),this.o=Ga(n[7]||"")):(this.h=!!e,this.i=new tu(null,this.h))}fs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ka(e,bE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ka(e,bE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ka(n,n.charAt(0)=="/"?CV:TV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ka(n,NV)),t.join("")};function br(t){return new fs(t)}function yf(t,e,n){t.j=n?Ga(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SE(t,e,n){e instanceof tu?(t.i=e,OV(t.i,t.h)):(n||(e=Ka(e,xV)),t.i=new tu(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function Hh(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ka(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,kV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var bE=/[#\/\?@]/g,TV=/[#\?:]/g,CV=/[#\?]/g,xV=/[#\?@]/g,NV=/#/g;function tu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Li(t){t.g||(t.g=new Map,t.h=0,t.i&&IV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=tu.prototype;K.add=function(t,e){Li(this),this.i=null,t=pa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eN(t,e){Li(t),e=pa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tN(t,e){return Li(t),e=pa(t,e),t.g.has(e)}K.forEach=function(t,e){Li(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};K.oa=function(){Li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};K.W=function(t){Li(this);let e=[];if(typeof t=="string")tN(this,t)&&(e=e.concat(this.g.get(pa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return Li(this),this.i=null,t=pa(this,t),tN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function nN(t,e,n){eN(t,e),0<n.length&&(t.i=null,t.g.set(pa(t,e),H0(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OV(t,e){e&&!t.j&&(Li(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eN(this,r),nN(this,i,n))},t)),t.j=e}var AV=class{constructor(e,n){this.h=e,this.g=n}};function rN(t){this.l=t||PV,ne.PerformanceNavigationTiming?(t=ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var PV=10;function iN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sN(t){return t.h?1:t.g?t.g.size:0}function Dv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function sw(t,e){t.g?t.g.add(e):t.h=e}function oN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rN.prototype.cancel=function(){if(this.i=aN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aN(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return H0(t.i)}function ow(){}ow.prototype.stringify=function(t){return ne.JSON.stringify(t,void 0)};ow.prototype.parse=function(t){return ne.JSON.parse(t,void 0)};function DV(){this.g=new ow}function RV(t,e,n){const r=n||"";try{Jx(t,function(i,s){let o=i;Au(i)&&(o=Z0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function MV(t,e){const n=new jh;if(ne.Image){const r=new Image;r.onload=Nc(Ac,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nc(Ac,n,r,"TestLoadImage: error",!1,e),r.onabort=Nc(Ac,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nc(Ac,n,r,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ac(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $u(t){this.l=t.ac||null,this.j=t.jb||!1}kt($u,nw);$u.prototype.g=function(){return new Gh(this.l,this.j)};$u.prototype.i=function(t){return function(){return t}}({});function Gh(t,e){ht.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=aw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Gh,ht);var aw=0;K=Gh.prototype;K.open=function(t,e){if(this.readyState!=aw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nu(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fu(this)),this.readyState=aw};K.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nu(this)),this.g&&(this.readyState=3,nu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lN(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function lN(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}K.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fu(this):nu(this),this.readyState==3&&lN(this)}};K.Va=function(t){this.g&&(this.response=this.responseText=t,Fu(this))};K.Ua=function(t){this.g&&(this.response=t,Fu(this))};K.ga=function(){this.g&&Fu(this)};function Fu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nu(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var LV=ne.JSON.parse;function We(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uN,this.K=this.L=!1}kt(We,ht);var uN="",$V=/^https?$/i,FV=["POST","PUT"];K=We.prototype;K.Ka=function(t){this.L=t};K.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nv.g(),this.C=this.u?wE(this.u):wE(Nv),this.g.onreadystatechange=Pt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){EE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ne.FormData&&t instanceof ne.FormData,!(0<=kx(FV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fN(this),0<this.B&&((this.K=UV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.qa,this)):this.A=tw(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){EE(this,s)}};function UV(t){return qo&&nV()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.qa=function(){typeof W0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function EE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,cN(t),Kh(t)}function cN(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Kh(this))};K.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),We.X.M.call(this)};K.Ha=function(){this.s||(this.F||this.v||this.l?dN(this):this.fb())};K.fb=function(){dN(this)};function dN(t){if(t.h&&typeof W0<"u"&&(!t.C[1]||lr(t)!=4||t.aa()!=2)){if(t.v&&lr(t)==4)tw(t.Ha,0,t);else if(Et(t,"readystatechange"),lr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Zx)[1]||null;if(!i&&ne.self&&ne.self.location){var s=ne.self.location.protocol;i=s.substr(0,s.length-1)}r=!$V.test(i?i.toLowerCase():"")}n=r}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var o=2<lr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",cN(t)}}finally{Kh(t)}}}}function Kh(t,e){if(t.g){fN(t);const n=t.g,r=t.C[0]?pf:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch{}}}function fN(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ne.clearTimeout(t.A),t.A=null)}function lr(t){return t.g?t.g.readyState:0}K.aa=function(){try{return 2<lr(this)?this.g.status:-1}catch{return-1}};K.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),LV(e)}};function _E(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case uN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}K.Ea=function(){return this.m};K.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hN(t){let e="";return K0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function lw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function Pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pN(t){this.Ca=0,this.i=[],this.j=new jh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Pa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Pa("baseRetryDelayMs",5e3,t),this.bb=Pa("retryDelaySeedMs",1e4,t),this.$a=Pa("forwardChannelMaxRetries",2,t),this.ta=Pa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new rN(t&&t.concurrentRequestLimit),this.Fa=new DV,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}K=pN.prototype;K.ma=8;K.G=1;function uw(t){if(mN(t),t.G==3){var e=t.U++,n=br(t.F);Me(n,"SID",t.I),Me(n,"RID",e),Me(n,"TYPE","terminate"),Uu(t,n),e=new Mu(t,t.j,e,void 0),e.K=2,e.v=Hh(br(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.v.toString(),"")),!n&&ne.Image&&(new Image().src=e.v,n=!0),n||(e.g=_N(e.l,null),e.g.da(e.v)),e.F=Date.now(),Lu(e)}bN(t)}function Qh(t){t.g&&(dw(t),t.g.cancel(),t.g=null)}function mN(t){Qh(t),t.u&&(ne.clearTimeout(t.u),t.u=null),Sf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ne.clearTimeout(t.m),t.m=null)}function Yh(t){iN(t.h)||t.m||(t.m=!0,$x(t.Ja,t),t.C=0)}function zV(t,e){return sN(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Du(Pt(t.Ja,t,e),SN(t,t.C)),t.C++,!0)}K.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Mu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Nx(s),Ox(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gN(this,i,e),n=br(this.F),Me(n,"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),Uu(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(hN(s)))+"&"+e:this.o&&lw(n,this.o,s)),sw(this.h,i),this.Ya&&Me(n,"TYPE","init"),this.O?(Me(n,"$req",e),Me(n,"SID","null"),i.Z=!0,Av(i,n,null)):Av(i,n,e),this.G=2}}else this.G==3&&(t?IE(this,t):this.i.length==0||iN(this.h)||IE(this))};function IE(t,e){var n;e?n=e.m:n=t.U++;const r=br(t.F);Me(r,"SID",t.I),Me(r,"RID",n),Me(r,"AID",t.T),Uu(t,r),t.o&&t.s&&lw(r,t.o,t.s),n=new Mu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=gN(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),sw(t.h,n),Av(n,r,e)}function Uu(t,e){t.ia&&K0(t.ia,function(n,r){Me(e,r,n)}),t.l&&Jx({},function(n,r){Me(e,r,n)})}function gN(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Pt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{RV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function vN(t){t.g||t.u||(t.Z=1,$x(t.Ia,t),t.A=0)}function cw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Du(Pt(t.Ia,t),SN(t,t.A)),t.A++,!0)}K.Ia=function(){if(this.u=null,yN(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Du(Pt(this.eb,this),t)}};K.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ut(10),Qh(this),yN(this))};function dw(t){t.B!=null&&(ne.clearTimeout(t.B),t.B=null)}function yN(t){t.g=new Mu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=br(t.sa);Me(e,"RID","rpc"),Me(e,"SID",t.I),Me(e,"CI",t.L?"0":"1"),Me(e,"AID",t.T),Me(e,"TYPE","xmlhttp"),Uu(t,e),t.o&&t.s&&lw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Hh(br(e)),n.s=null,n.P=!0,Kx(n,t)}K.cb=function(){this.v!=null&&(this.v=null,Qh(this),cw(this),Ut(19))};function Sf(t){t.v!=null&&(ne.clearTimeout(t.v),t.v=null)}function wN(t,e){var n=null;if(t.g==e){Sf(t),dw(t),t.g=null;var r=2}else if(Dv(t.h,e))n=e.D,oN(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Vh(),Et(r,new qx(r,n)),Yh(t)}else vN(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&zV(t,e)||r==2&&cw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:is(t,5);break;case 4:is(t,10);break;case 3:is(t,6);break;default:is(t,2)}}}function SN(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function is(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Pt(t.kb,t);n||(n=new fs("//www.google.com/images/cleardot.gif"),ne.location&&ne.location.protocol=="http"||yf(n,"https"),Hh(n)),MV(n.toString(),r)}else Ut(2);t.G=0,t.l&&t.l.va(e),bN(t),mN(t)}K.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function bN(t){if(t.G=0,t.la=[],t.l){const e=aN(t.h);(e.length!=0||t.i.length!=0)&&(hE(t.la,e),hE(t.la,t.i),t.h.i.length=0,H0(t.i),t.i.length=0),t.l.ua()}}function EN(t,e,n){var r=n instanceof fs?br(n):new fs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),wf(r,r.m);else{var i=ne.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fs(null,void 0);r&&yf(s,r),e&&(s.g=e),i&&wf(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Me(r,n,e),Me(r,"VER",t.ma),Uu(t,r),r}function _N(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new We(new $u({jb:!0})):new We(t.ra),e.Ka(t.H),e}function IN(){}K=IN.prototype;K.xa=function(){};K.wa=function(){};K.va=function(){};K.ua=function(){};K.Ra=function(){};function bf(){if(qo&&!(10<=Number(rV)))throw Error("Environmental error: no available transport.")}bf.prototype.g=function(t,e){return new ln(t,e)};function ln(t,e){ht.call(this),this.g=new pN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!mf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ma(this)}kt(ln,ht);ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ut(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=EN(t,null,t.V),Yh(t)};ln.prototype.close=function(){uw(this.g)};ln.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Z0(t),t=n);e.i.push(new AV(e.ab++,t)),e.G==3&&Yh(e)};ln.prototype.M=function(){this.g.l=null,delete this.j,uw(this.g),delete this.g,ln.X.M.call(this)};function kN(t){rw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(kN,rw);function TN(){iw.call(this),this.status=1}kt(TN,iw);function ma(t){this.g=t}kt(ma,IN);ma.prototype.xa=function(){Et(this.g,"a")};ma.prototype.wa=function(t){Et(this.g,new kN(t))};ma.prototype.va=function(t){Et(this.g,new TN)};ma.prototype.ua=function(){Et(this.g,"b")};bf.prototype.createWebChannel=bf.prototype.g;ln.prototype.send=ln.prototype.u;ln.prototype.open=ln.prototype.m;ln.prototype.close=ln.prototype.close;Bh.NO_ERROR=0;Bh.TIMEOUT=8;Bh.HTTP_ERROR=6;Wx.COMPLETE="complete";Hx.EventType=Ru;Ru.OPEN="a";Ru.CLOSE="b";Ru.ERROR="c";Ru.MESSAGE="d";ht.prototype.listen=ht.prototype.N;We.prototype.listenOnce=We.prototype.O;We.prototype.getLastError=We.prototype.Oa;We.prototype.getLastErrorCode=We.prototype.Ea;We.prototype.getStatus=We.prototype.aa;We.prototype.getResponseJson=We.prototype.Sa;We.prototype.getResponseText=We.prototype.fa;We.prototype.send=We.prototype.da;We.prototype.setWithCredentials=We.prototype.Ka;var jV=function(){return new bf},VV=function(){return Vh()},Dm=Bh,BV=Wx,qV=zs,kE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},WV=$u,Pc=Hx,HV=We;const TE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Ah("@firebase/firestore");function Rv(){return Ei.logLevel}function GV(t){Ei.setLogLevel(t)}function P(t,...e){if(Ei.logLevel<=fe.DEBUG){const n=e.map(fw);Ei.debug(`Firestore (${ga}): ${t}`,...n)}}function Qe(t,...e){if(Ei.logLevel<=fe.ERROR){const n=e.map(fw);Ei.error(`Firestore (${ga}): ${t}`,...n)}}function Er(t,...e){if(Ei.logLevel<=fe.WARN){const n=e.map(fw);Ei.warn(`Firestore (${ga}): ${t}`,...n)}}function fw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+t;throw Qe(e),new Error(e)}function Q(t,e){t||U()}function KV(t,e){t||U()}function L(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class YV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class XV{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ft,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ft)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Q(typeof r.accessToken=="string"),new CN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Q(e===null||typeof e=="string"),new ut(e)}}class JV{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ZV{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new JV(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Q(typeof n.token=="string"),this.T=n.token,new e5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=n5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function NN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new $e(0,0))}static max(){return new Y(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ru.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ru?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends ru{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const r5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends ru{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return r5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new A(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new A(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(he.fromString(e))}static fromName(e){return new M(he.fromString(e).popFirst(5))}static empty(){return new M(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&he.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new he(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Mv(t){return t.fields.find(e=>e.kind===2)}function Hi(t){return t.fields.filter(e=>e.kind!==2)}ON.UNKNOWN_ID=-1;class i5{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ef{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ef(0,un.min())}}function AN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new un(i,M.empty(),e)}function PN(t){return new un(t.readTime,t.key,-1)}class un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new un(Y.min(),M.empty(),-1)}static max(){return new un(Y.max(),M.empty(),-1)}}function hw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==DN)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new T((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.R=new ft,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new dl(e,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=pw(r.target.error);this.R.reject(new dl(e,i))}}static open(e,n,r,i){try{return new Xh(n,e.transaction(i,r))}catch(s){throw new dl(n,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new o5(n)}}class On{constructor(e,n,r){this.name=e,this.version=n,this.V=r,On.S(st())===12.2&&Qe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),Gi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!DC())return!1;if(On.C())return!0;const e=st(),n=On.S(e),r=0<n&&n<10,i=On.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static O(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new dl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new A(x.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(x.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new dl(e,o))},i.onupgradeneeded=s=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.M(o,i.transaction,s.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=Xh.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(P("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class s5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Gi(this.L.delete())}}class dl extends A{constructor(e,n){super(x.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fi(t){return t.name==="IndexedDbTransactionError"}class o5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gi(r)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),Gi(this.store.add(e))}get(e){return Gi(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),Gi(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),Gi(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new T((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){P("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}X(e){const n=this.cursor({});return new T((r,i)=>{n.onerror=s=>{const o=pw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new T((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new s5(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(d=>(l.done(),T.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Gi(t){return new T((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=pw(r.target.error);n(i)}})}let CE=!1;function pw(t){const e=On.S(st());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CE||(CE=!0,setTimeout(()=>{throw r},0)),r}}return t}class a5{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){P("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{P("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Fi(n)?P("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await $i(n)}await this.et(6e4)})}}class l5{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return T.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return P("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(P("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=PN(s);hw(o,r)>0&&(r=o)}),new un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Kt.ct=-1;function zu(t){return t==null}function iu(t){return t===0&&1/t==-1/0}function MN(t){return typeof t=="number"&&Number.isInteger(t)&&!iu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xE(e)),e=u5(t.get(n),e);return xE(e)}function u5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function xE(t){return t+""}function jn(t){const e=t.length;if(Q(e>=2),e===2)return Q(t.charAt(0)===""&&t.charAt(1)===""),he.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&U(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:U()}s=o+2}return new he(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e){return[t,jt(e)]}function LN(t,e,n){return[t,jt(e),n]}const c5={},d5=["prefixPath","collectionGroup","readTime","documentId"],f5=["prefixPath","collectionGroup","documentId"],h5=["collectionGroup","readTime","prefixPath","documentId"],p5=["canonicalId","targetId"],m5=["targetId","path"],g5=["path","targetId"],v5=["collectionId","parent"],y5=["indexId","uid"],w5=["uid","sequenceNumber"],S5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],b5=["indexId","uid","orderedDocumentKey"],E5=["userId","collectionPath","documentId"],_5=["userId","collectionPath","largestBatchId"],I5=["userId","collectionGroup","largestBatchId"],$N=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k5=[...$N,"documentOverlays"],FN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UN=FN,T5=[...UN,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends RN{constructor(e,n){super(),this.at=e,this.currentSequenceNumber=n}}function mt(t,e){const n=L(t);return On.O(n.at,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new wt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(t,e,n,r,i){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AE(this.data.getIterator())}getIteratorFrom(e){return new AE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class AE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new be(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new C5("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const N5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(t){if(Q(!!t),typeof t=="string"){let e=0;const n=N5.exec(t);if(Q(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jN(t){const e=t.mapValue.fields.__previous_value__;return mw(e)?jN(e):e}function su(t){const e=_i(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ii{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ii("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ii&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sd={nullValue:"NULL_VALUE"};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mw(t)?4:VN(t)?9007199254740991:10:U()}function Jn(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=_i(r.timestampValue),o=_i(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ks(r.bytesValue).isEqual(ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Be(r.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Be(r.integerValue)===Be(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Be(r.doubleValue),o=Be(i.doubleValue);return s===o?iu(s)===iu(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(OE(s)!==OE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Jn(s[a],o[a])))return!1;return!0}(t,e);default:return U()}}function ou(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function ki(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Be(i.integerValue||i.doubleValue),a=Be(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return PE(t.timestampValue,e.timestampValue);case 4:return PE(su(t),su(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ks(i),a=ks(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ie(o[l],a[l]);if(u!==0)return u}return ie(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(Be(i.latitude),Be(s.latitude));return o!==0?o:ie(Be(i.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ki(o[l],a[l]);if(u)return u}return ie(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ei.mapValue&&s===ei.mapValue)return 0;if(i===ei.mapValue)return 1;if(s===ei.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ie(a[c],u[c]);if(d!==0)return d;const f=ki(o[a[c]],l[u[c]]);if(f!==0)return f}return ie(a.length,u.length)}(t.mapValue,e.mapValue);default:throw U()}}function PE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=_i(t),r=_i(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Ho(t){return $v(t)}function $v(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=_i(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ks(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=$v(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${$v(r.fields[a])}`;return s+"}"}(t.mapValue):U();var e,n}function Cs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fv(t){return!!t&&"integerValue"in t}function au(t){return!!t&&"arrayValue"in t}function DE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function A5(t){return"nullValue"in t?sd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Cs(Ii.empty(),M.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:U()}function P5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Cs(Ii.empty(),M.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ei:U()}function ME(t,e){const n=ki(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function LE(t,e){const n=ki(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fl(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new St(fl(this.value))}}function BN(t){const e=[];return js(t.fields,(n,r)=>{const i=new Ye([n]);if(od(r)){const s=BN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xe(e,0,Y.min(),Y.min(),Y.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new xe(e,1,n,Y.min(),r,i,0)}static newNoDocument(e,n){return new xe(e,2,n,Y.min(),Y.min(),St.empty(),0)}static newUnknownDocument(e,n){return new xe(e,3,n,Y.min(),Y.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,n){this.position=e,this.inclusive=n}}function $E(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=ki(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function FE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n="asc"){this.field=e,this.dir=n}}function D5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{}class ue extends qN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new R5(e,n,r):n==="array-contains"?new $5(e,r):n==="in"?new YN(e,r):n==="not-in"?new F5(e,r):n==="array-contains-any"?new U5(e,r):new ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M5(e,r):new L5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ki(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ve extends qN{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new ve(e,n)}matches(e){return Go(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Go(t){return t.op==="and"}function Uv(t){return t.op==="or"}function gw(t){return WN(t)&&Go(t)}function WN(t){for(const e of t.filters)if(e instanceof ve)return!1;return!0}function zv(t){if(t instanceof ue)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(gw(t))return t.filters.map(e=>zv(e)).join(",");{const e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function HN(t,e){return t instanceof ue?function(n,r){return r instanceof ue&&n.op===r.op&&n.field.isEqual(r.field)&&Jn(n.value,r.value)}(t,e):t instanceof ve?function(n,r){return r instanceof ve&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&HN(s,r.filters[o]),!0):!1}(t,e):void U()}function GN(t,e){const n=t.filters.concat(e);return ve.create(n,t.op)}function KN(t){return t instanceof ue?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(t):t instanceof ve?function(e){return e.op.toString()+" {"+e.getFilters().map(KN).join(" ,")+"}"}(t):"Filter"}class R5 extends ue{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class M5 extends ue{constructor(e,n){super(e,"in",n),this.keys=QN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L5 extends ue{constructor(e,n){super(e,"not-in",n),this.keys=QN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class $5 extends ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return au(n)&&ou(n.arrayValue,this.value)}}class YN extends ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class F5 extends ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class U5 extends ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!au(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function jv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new z5(t,e,n,r,i,s,o)}function xs(t){const e=L(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ft=n}return e.ft}function ju(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!D5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FE(t.startAt,e.startAt)&&FE(t.endAt,e.endAt)}function _f(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function If(t,e){return t.filters.filter(n=>n instanceof ue&&n.field.isEqual(e))}function UE(t,e,n){let r=sd,i=!0;for(const s of If(t,e)){let o=sd,a=!0;switch(s.op){case"<":case"<=":o=A5(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=sd}ME({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];ME({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function zE(t,e,n){let r=ei,i=!0;for(const s of If(t,e)){let o=ei,a=!0;switch(s.op){case">=":case">":o=P5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ei}LE({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];LE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function XN(t,e,n,r,i,s,o,a){return new Cr(t,e,n,r,i,s,o,a)}function va(t){return new Cr(t)}function jE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function yw(t){return t.collectionGroup!==null}function hs(t){const e=L(t);if(e.dt===null){e.dt=[];const n=Jh(e),r=vw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new No(n)),e.dt.push(new No(Ye.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new No(Ye.keyField(),s))}}}return e.dt}function en(t){const e=L(t);if(!e.wt)if(e.limitType==="F")e.wt=jv(e.path,e.collectionGroup,hs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of hs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new No(s.field,o))}const r=e.endAt?new Ti(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ti(e.startAt.position,e.startAt.inclusive):null;e.wt=jv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function Vv(t,e){e.getFirstInequalityField(),Jh(t);const n=t.filters.concat([e]);return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kf(t,e,n){return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vu(t,e){return ju(en(t),en(e))&&t.limitType===e.limitType}function JN(t){return`${xs(en(t))}|lt:${t.limitType}`}function Bv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>KN(r)).join(", ")}]`),zu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),`Target(${n})`}(en(t))}; limitType=${t.limitType})`}function Bu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of hs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=$E(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,hs(n),r)||n.endAt&&!function(i,s,o){const a=$E(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,hs(n),r))}(t,e)}function ZN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eO(t){return(e,n)=>{let r=!1;for(const i of hs(t)){const s=j5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function j5(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ki(a,l):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=new He(M.comparator);function Yt(){return V5}const tO=new He(M.comparator);function Qa(...t){let e=tO;for(const n of t)e=e.insert(n.key,n);return e}function nO(t){let e=tO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vn(){return hl()}function rO(){return hl()}function hl(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const B5=new He(M.comparator),q5=new be(M.comparator);function se(...t){let e=q5;for(const n of t)e=e.add(n);return e}const W5=new be(ie);function Zh(){return W5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iu(e)?"-0":e}}function sO(t){return{integerValue:""+t}}function oO(t,e){return MN(e)?sO(e):iO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function H5(t,e,n){return t instanceof Ko?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ns?lO(t,e):t instanceof Os?uO(t,e):function(r,i){const s=aO(r,i),o=VE(s)+VE(r._t);return Fv(s)&&Fv(r._t)?sO(o):iO(r.serializer,o)}(t,e)}function G5(t,e,n){return t instanceof Ns?lO(t,e):t instanceof Os?uO(t,e):n}function aO(t,e){return t instanceof Qo?Fv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ko extends ep{}class Ns extends ep{constructor(e){super(),this.elements=e}}function lO(t,e){const n=cO(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Os extends ep{constructor(e){super(),this.elements=e}}function uO(t,e){let n=cO(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Qo extends ep{constructor(e,n){super(),this.serializer=e,this._t=n}}function VE(t){return Be(t.integerValue||t.doubleValue)}function cO(t){return au(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.field=e,this.transform=n}}function K5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ns&&r instanceof Ns||n instanceof Os&&r instanceof Os?Wo(n.elements,r.elements,Jn):n instanceof Qo&&r instanceof Qo?Jn(n._t,r._t):n instanceof Ko&&r instanceof Ko}(t.transform,e.transform)}class Q5{constructor(e,n){this.version=e,this.transformResults=n}}class Le{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Le}static exists(e){return new Le(void 0,e)}static updateTime(e){return new Le(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function dO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wa(t.key,Le.none()):new ya(t.key,t.data,Le.none());{const n=t.data,r=St.empty();let i=new be(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xr(t.key,r,new Qt(i.toArray()),Le.none())}}function Y5(t,e,n){t instanceof ya?function(r,i,s){const o=r.value.clone(),a=qE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(r,i,s){if(!ad(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=qE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(fO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,r){return t instanceof ya?function(i,s,o,a){if(!ad(i.precondition,s))return o;const l=i.value.clone(),u=WE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof xr?function(i,s,o,a){if(!ad(i.precondition,s))return o;const l=WE(i.fieldTransforms,a,s),u=s.data;return u.setAll(fO(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return ad(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function X5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aO(r.transform,i||null);s!=null&&(n===null&&(n=St.empty()),n.set(r.field,s))}return n||null}function BE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Wo(n,r,(i,s)=>K5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ya extends tp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xr extends tp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qE(t,e,n){const r=new Map;Q(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,G5(o,a,n[i]))}return r}function WE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,H5(s,o,e))}return r}class wa extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Y5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=dO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>BE(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>BE(n,r))}}class bw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Q(e.mutations.length===r.length);let i=B5;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,de;function hO(t){switch(t){default:return U();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function pO(t){if(t===void 0)return Qe("GRPC error has no .code"),x.UNKNOWN;switch(t){case Je.OK:return x.OK;case Je.CANCELLED:return x.CANCELLED;case Je.UNKNOWN:return x.UNKNOWN;case Je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Je.INTERNAL:return x.INTERNAL;case Je.UNAVAILABLE:return x.UNAVAILABLE;case Je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Je.NOT_FOUND:return x.NOT_FOUND;case Je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Je.ABORTED:return x.ABORTED;case Je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Je.DATA_LOSS:return x.DATA_LOSS;default:return U()}}(de=Je||(Je={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Rc}static getOrCreateInstance(){return Rc===null&&(Rc=new _w),Rc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Rc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wu(Y.min(),i,Zh(),Yt(),se())}}class Hu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hu(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class mO{constructor(e,n){this.targetId=e,this.Et=n}}class gO{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class HE{constructor(){this.At=0,this.Rt=KE(),this.vt=ot.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=se(),n=se(),r=se();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Hu(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=KE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class Z5{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Yt(),this.qt=GE(),this.Ut=new be(ie)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(_f(o))if(i===0){const a=new M(o.path);this.Qt(r,a,xe.newNoDocument(a,Y.min()))}else Q(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=_w.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&_f(a.target)){const l=new M(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,xe.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=se();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Wu(e,n,this.Ut,this.Lt,r);return this.Lt=Yt(),this.qt=GE(),this.Ut=new be(ie),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new HE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new be(ie),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new HE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function GE(){return new He(M.comparator)}function KE(){return new He(M.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),n6=(()=>({and:"AND",or:"OR"}))();class r6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i6(t,e){return Yo(t,e.toTimestamp())}function Xe(t){return Q(!!t),Y.fromTimestamp(function(e){const n=_i(e);return new $e(n.seconds,n.nanos)}(t))}function Iw(t,e){return function(n){return new he(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yO(t){const e=he.fromString(t);return Q(CO(e)),e}function lu(t,e){return Iw(t.databaseId,e.path)}function Qn(t,e){const n=yO(e);if(n.get(1)!==t.databaseId.projectId)throw new A(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(SO(n))}function qv(t,e){return Iw(t.databaseId,e)}function wO(t){const e=yO(t);return e.length===4?he.emptyPath():SO(e)}function uu(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SO(t){return Q(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function QE(t,e,n){return{name:lu(t,e),fields:n.value.mapValue.fields}}function bO(t,e,n){const r=Qn(t,e.name),i=Xe(e.updateTime),s=e.createTime?Xe(e.createTime):Y.min(),o=new St({mapValue:{fields:e.fields}}),a=xe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function s6(t,e){return"found"in e?function(n,r){Q(!!r.found),r.found.name,r.found.updateTime;const i=Qn(n,r.found.name),s=Xe(r.found.updateTime),o=r.found.createTime?Xe(r.found.createTime):Y.min(),a=new St({mapValue:{fields:r.found.fields}});return xe.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){Q(!!r.missing),Q(!!r.readTime);const i=Qn(n,r.missing),s=Xe(r.readTime);return xe.newNoDocument(i,s)}(t,e):U()}function o6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Q(u===void 0||typeof u=="string"),ot.fromBase64String(u||"")):(Q(u===void 0||u instanceof Uint8Array),ot.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?x.UNKNOWN:pO(l.code);return new A(u,l.message||"")}(o);n=new gO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qn(t,r.document.name),s=Xe(r.document.updateTime),o=r.document.createTime?Xe(r.document.createTime):Y.min(),a=new St({mapValue:{fields:r.document.fields}}),l=xe.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ld(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qn(t,r.document),s=r.readTime?Xe(r.readTime):Y.min(),o=xe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qn(t,r.document),s=r.removedTargetIds||[];n=new ld([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new J5(i),o=r.targetId;n=new mO(o,s)}}return n}function cu(t,e){let n;if(e instanceof ya)n={update:QE(t,e.key,e.value)};else if(e instanceof wa)n={delete:lu(t,e.key)};else if(e instanceof xr)n={update:QE(t,e.key,e.data),updateMask:f6(e.fieldMask)};else{if(!(e instanceof ww))return U();n={verify:lu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ko)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ns)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Os)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Qo)return{fieldPath:s.field.canonicalString(),increment:o._t};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:i6(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:U()}(t,e.precondition)),n}function Wv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Le.updateTime(Xe(i.updateTime)):i.exists!==void 0?Le.exists(i.exists):Le.none()}(e.currentDocument):Le.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Q(o.setToServerValue==="REQUEST_TIME"),a=new Ko;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new Ns(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new Os(u)}else"increment"in o?a=new Qo(s,o.increment):U();const l=Ye.fromServerFormat(o.fieldPath);return new qu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Qn(t,e.update.name),s=new St({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Qt(l.map(u=>Ye.fromServerFormat(u)))}(e.updateMask);return new xr(i,s,o,n,r)}return new ya(i,s,n,r)}if(e.delete){const i=Qn(t,e.delete);return new wa(i,n)}if(e.verify){const i=Qn(t,e.verify);return new ww(i,n)}return U()}function a6(t,e){return t&&t.length>0?(Q(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Xe(r.updateTime):Xe(i);return s.isEqual(Y.min())&&(s=Xe(i)),new Q5(s,r.transformResults||[])}(n,e))):[]}function EO(t,e){return{documents:[qv(t,e.path)]}}function _O(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=qv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return TO(ve.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Qs(c.field),direction:u6(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||zu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function IO(t){let e=wO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Q(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=kO(c);return d instanceof ve&&gw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new No(Ys(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,zu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Ti(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Ti(f,d)}(n.endAt)),XN(e,i,o,s,a,"F",l,u)}function l6(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function kO(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ys(e.unaryFilter.field);return ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ys(e.unaryFilter.field);return ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ys(e.unaryFilter.field);return ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ys(e.unaryFilter.field);return ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(e){return ue.create(Ys(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ve.create(e.compositeFilter.filters.map(n=>kO(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(t):U()}function u6(t){return e6[t]}function c6(t){return t6[t]}function d6(t){return n6[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Ye.fromServerFormat(t.fieldPath)}function TO(t){return t instanceof ue?function(e){if(e.op==="=="){if(RE(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(DE(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(RE(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(DE(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:c6(e.op),value:e.value}}}(t):t instanceof ve?function(e){const n=e.getFilters().map(r=>TO(r));return n.length===1?n[0]:{compositeFilter:{op:d6(e.op),filters:n}}}(t):U()}function f6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=ot.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.se=e}}function h6(t,e){let n;if(e.document)n=bO(t.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=M.fromSegments(e.noDocument.path),i=Ps(e.noDocument.readTime);n=xe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return U();{const r=M.fromSegments(e.unknownDocument.path),i=Ps(e.unknownDocument.version);n=xe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new $e(r[0],r[1]);return Y.fromTimestamp(i)}(e.readTime)),n}function YE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:lu(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Yo(i,s.version.toTimestamp()),createTime:Yo(i,s.createTime.toTimestamp())}}(t.se,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:As(e.version)};else{if(!e.isUnknownDocument())return U();r.unknownDocument={path:n.path.toArray(),version:As(e.version)}}return r}function Tf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function As(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ps(t){const e=new $e(t.seconds,t.nanoseconds);return Y.fromTimestamp(e)}function Ki(t,e){const n=(e.baseMutations||[]).map(s=>Wv(t.se,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Wv(t.se,s)),i=$e.fromMillis(e.localWriteTimeMs);return new Sw(e.batchId,i,n,r)}function Ya(t){const e=Ps(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ps(t.lastLimboFreeSnapshotVersion):Y.min();let r;var i;return t.query.documents!==void 0?(Q((i=t.query).documents.length===1),r=en(va(wO(i.documents[0])))):r=function(s){return en(IO(s))}(t.query),new ci(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ot.fromBase64String(t.resumeToken))}function NO(t,e){const n=As(e.snapshotVersion),r=As(e.lastLimboFreeSnapshotVersion);let i;i=_f(e.target)?EO(t.se,e.target):_O(t.se,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kw(t){const e=IO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kf(e,e.limit,"L"):e}function Rm(t,e){return new Ew(e.largestBatchId,Wv(t.se,e.overlayMutation))}function XE(t,e){const n=e.path.lastSegment();return[t,jt(e.path.popLast()),n]}function JE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:As(r.readTime),documentKey:jt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{getBundleMetadata(e,n){return ZE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ps(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return ZE(e).put({bundleId:(r=n).id,createTime:As(Xe(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return e_(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:kw(i.bundledQuery),readTime:Ps(i.readTime)};var i})}saveNamedQuery(e,n){return e_(e).put(function(r){return{name:r.name,readTime:As(Xe(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function ZE(t){return mt(t,"bundles")}function e_(t){return mt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.serializer=e,this.userId=n}static ie(e,n){const r=n.uid||"";return new np(e,r)}getOverlay(e,n){return Da(e).get(XE(this.userId,n)).next(r=>r?Rm(this.serializer,r):null)}getOverlays(e,n){const r=Vn();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Ew(n,o);i.push(this.re(e,a))}),T.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(jt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Da(e).J("collectionPathOverlayIndex",a))}),T.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Vn(),s=jt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Da(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Rm(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Vn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Da(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Rm(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}re(e,n){return Da(e).put(function(r,i,s){const[o,a,l]=XE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:cu(r.se,s.mutation)}}(this.serializer,this.userId,n))}}function Da(t){return mt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){}oe(e,n){this.ue(e,n),n.ce()}ue(e,n){if("nullValue"in e)this.ae(n,5);else if("booleanValue"in e)this.ae(n,10),n.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(n,15),n.he(Be(e.integerValue));else if("doubleValue"in e){const r=Be(e.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),iu(r)?n.he(0):n.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(n,20),typeof r=="string"?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,n),this.de(n);else if("bytesValue"in e)this.ae(n,30),n.we(ks(e.bytesValue)),this.de(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in e?VN(e)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,n),this.de(n)):"arrayValue"in e?(this.ge(e.arrayValue,n),this.de(n)):U()}fe(e,n){this.ae(n,25),this.ye(e,n)}ye(e,n){n.le(e)}me(e,n){const r=e.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(e,n){const r=e.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(e,n){this.ae(n,37),M.fromName(e).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(e,n){e.he(n)}de(e){e.he(2)}}Qi.pe=new Qi;function m6(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function t_(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=m6(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class g6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Te(r.value),r=n.next();this.Ee()}Ae(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.ve()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=n.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(e){const n=this.Se(e),r=t_(n);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ce(e){const n=this.Se(e),r=t_(n);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Te(e){const n=255&e;n===0?(this.Ne(0),this.Ne(255)):n===255?(this.Ne(255),this.Ne(0)):this.Ne(n)}Re(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class v6{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class y6{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class Ra{constructor(){this.Me=new g6,this.Fe=new v6(this.Me),this.Be=new y6(this.Me)}seed(e){this.Me.seed(e)}Le(e){return e===0?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}qe(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Yi(this.indexId,this.documentKey,this.arrayValue,r)}}function Rr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=n_(t.arrayValue,e.arrayValue),n!==0?n:(n=n_(t.directionalValue,e.directionalValue),n!==0?n:M.comparator(t.documentKey,e.documentKey)))}function n_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){Q(e.collectionGroup===this.collectionId);const n=Mv(e);if(n!==void 0&&!this.ze(n))return!1;const r=Hi(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.Ge!==void 0){const o=r[i];if(!this.je(this.Ge,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}ze(e){for(const n of this.Ke)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){var e,n;if(Q(t instanceof ue||t instanceof ve),t instanceof ue){if(t instanceof YN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ue.create(t.field,"==",s)))||[];return ve.create(i,"or")}return t}const r=t.filters.map(i=>OO(i));return ve.create(r,t.op)}function S6(t){if(t.getFilters().length===0)return[];const e=Kv(OO(t));return Q(AO(e)),Hv(e)||Gv(e)?[e]:e.getFilters()}function Hv(t){return t instanceof ue}function Gv(t){return t instanceof ve&&gw(t)}function AO(t){return Hv(t)||Gv(t)||function(e){if(e instanceof ve&&Uv(e)){for(const n of e.getFilters())if(!Hv(n)&&!Gv(n))return!1;return!0}return!1}(t)}function Kv(t){if(Q(t instanceof ue||t instanceof ve),t instanceof ue)return t;if(t.filters.length===1)return Kv(t.filters[0]);const e=t.filters.map(r=>Kv(r));let n=ve.create(e,t.op);return n=Cf(n),AO(n)?n:(Q(n instanceof ve),Q(Go(n)),Q(n.filters.length>1),n.filters.reduce((r,i)=>Tw(r,i)))}function Tw(t,e){let n;return Q(t instanceof ue||t instanceof ve),Q(e instanceof ue||e instanceof ve),n=t instanceof ue?e instanceof ue?function(r,i){return ve.create([r,i],"and")}(t,e):r_(t,e):e instanceof ue?r_(e,t):function(r,i){if(Q(r.filters.length>0&&i.filters.length>0),Go(r)&&Go(i))return GN(r,i.getFilters());const s=Uv(r)?r:i,o=Uv(r)?i:r,a=s.filters.map(l=>Tw(l,o));return ve.create(a,"or")}(t,e),Cf(n)}function r_(t,e){if(Go(e))return GN(e,t.getFilters());{const n=e.filters.map(r=>Tw(t,r));return ve.create(n,"or")}}function Cf(t){if(Q(t instanceof ue||t instanceof ve),t instanceof ue)return t;const e=t.getFilters();if(e.length===1)return Cf(e[0]);if(WN(t))return t;const n=e.map(i=>Cf(i)),r=[];return n.forEach(i=>{i instanceof ue?r.push(i):i instanceof ve&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.He=new Cw}addToCollectionParentIndex(e,n){return this.He.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(un.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(un.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class Cw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Uint8Array(0);class E6{constructor(e,n){this.user=e,this.databaseId=n,this.Je=new Cw,this.Ye=new Ui(r=>xs(r),(r,i)=>ju(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Je.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Je.add(n)});const s={collectionId:r,parent:jt(i)};return i_(e).put(s)}return T.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[NN(n),""],!1,!0);return i_(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(jn(o.parent))}return r})}addFieldIndex(e,n){const r=Lc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=La(e);return s.next(a=>{o.put(JE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Lc(e),i=La(e),s=Ma(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ma(e);let i=!0;const s=new Map;return T.forEach(this.Ze(n),o=>this.Xe(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=se();const a=[];return T.forEach(s,(l,u)=>{var c;P("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(g=>`${g.fieldPath}:${g.kind}`).join(",")}`} to execute ${xs(n)}`);const d=function(g,S){const E=Mv(S);if(E===void 0)return null;for(const b of If(g,E.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),f=function(g,S){const E=new Map;for(const b of Hi(S))for(const k of If(g,b.fieldPath))switch(k.op){case"==":case"in":E.set(b.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return E.set(b.fieldPath.canonicalString(),k.value),Array.from(E.values())}return null}(u,l),p=function(g,S){const E=[];let b=!0;for(const k of Hi(S)){const _=k.kind===0?UE(g,k.fieldPath,g.startAt):zE(g,k.fieldPath,g.startAt);E.push(_.value),b&&(b=_.inclusive)}return new Ti(E,b)}(u,l),y=function(g,S){const E=[];let b=!0;for(const k of Hi(S)){const _=k.kind===0?zE(g,k.fieldPath,g.endAt):UE(g,k.fieldPath,g.endAt);E.push(_.value),b&&(b=_.inclusive)}return new Ti(E,b)}(u,l),v=this.tn(l,u,p),w=this.tn(l,u,y),m=this.en(l,u,f),h=this.nn(l.indexId,d,v,p.inclusive,w,y.inclusive,m);return T.forEach(h,g=>r.H(g,n.limit).next(S=>{S.forEach(E=>{const b=M.fromSegments(E.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return T.resolve(null)})}Ze(e){let n=this.Ye.get(e);return n||(e.filters.length===0?n=[e]:n=S6(ve.create(e.filters,"and")).map(r=>jv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,n),n)}nn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.sn(n[d/u]):Mc,p=this.rn(e,f,r[d%u],i),y=this.on(e,f,s[d%u],o),v=a.map(w=>this.rn(e,f,w,!0));c.push(...this.createRange(p,y,v))}return c}rn(e,n,r,i){const s=new Yi(e,M.empty(),n,r);return i?s:s.qe()}on(e,n,r,i){const s=new Yi(e,M.empty(),n,r);return i?s.qe():s}Xe(e,n){const r=new w6(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Qe(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return T.forEach(i,s=>this.Xe(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new be(Ye.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}un(e,n){const r=new Ra;for(const i of Hi(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Le(i.kind);Qi.pe.oe(s,o)}return r.$e()}sn(e){const n=new Ra;return Qi.pe.oe(e,n.Le(0)),n.$e()}cn(e,n){const r=new Ra;return Qi.pe.oe(Cs(this.databaseId,n),r.Le(function(i){const s=Hi(i);return s.length===0?0:s[s.length-1].kind}(e))),r.$e()}en(e,n,r){if(r===null)return[];let i=[];i.push(new Ra);let s=0;for(const o of Hi(e)){const a=r[s++];for(const l of i)if(this.an(n,o.fieldPath)&&au(a))i=this.hn(i,o,a);else{const u=l.Le(o.kind);Qi.pe.oe(a,u)}}return this.ln(i)}tn(e,n,r){return this.en(e,n,r.position)}ln(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}hn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ra;l.seed(a.$e()),Qi.pe.oe(o,l.Le(n.kind)),s.push(l)}return s}an(e,n){return!!e.filters.find(r=>r instanceof ue&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Lc(e),i=La(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return T.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new Ef(c.sequenceNumber,new un(Ps(c.readTime),new M(jn(c.documentKey)),c.largestBatchId)):Ef.empty(),f=u.fields.map(([p,y])=>new i5(Ye.fromServerFormat(p),y));return new ON(u.indexId,u.collectionGroup,f,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Lc(e),s=La(e);return this.fn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>T.forEach(a,l=>s.put(JE(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return T.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?T.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),T.forEach(a,l=>this.dn(e,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?T.resolve():this._n(e,s,l,u,c)}))))})}mn(e,n,r,i){return Ma(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,n.key),documentKey:n.key.path.toArray()})}gn(e,n,r,i){return Ma(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,n.key),n.key.path.toArray()])}dn(e,n,r){const i=Ma(e);let s=new be(Rr);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,n)])},(o,a)=>{s=s.add(new Yi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new be(Rr);const i=this.un(n,e);if(i==null)return r;const s=Mv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(au(o))for(const a of o.arrayValue.values||[])r=r.add(new Yi(n.indexId,e.key,this.sn(a),i))}else r=r.add(new Yi(n.indexId,e.key,Mc,i));return r}_n(e,n,r,i,s){P("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const f=a.getIterator(),p=l.getIterator();let y=Gs(f),v=Gs(p);for(;y||v;){let w=!1,m=!1;if(y&&v){const h=u(y,v);h<0?m=!0:h>0&&(w=!0)}else y!=null?m=!0:w=!0;w?(c(v),v=Gs(p)):m?(d(y),y=Gs(f)):(y=Gs(f),v=Gs(p))}}(i,s,Rr,a=>{o.push(this.mn(e,n,r,a))},a=>{o.push(this.gn(e,n,r,a))}),T.waitFor(o)}fn(e){let n=1;return La(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Rr(o,a)).filter((o,a,l)=>!a||Rr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Rr(o,e),l=Rr(o,n);if(a===0)i[0]=e.qe();else if(a>0&&l<0)i.push(o),i.push(o.qe());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.yn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Mc,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Mc,[]];s.push(IDBKeyRange.bound(a,l))}return s}yn(e,n){return Rr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(s_)}getMinOffset(e,n){return T.mapArray(this.Ze(n),r=>this.Xe(e,r).next(i=>i||U())).next(s_)}}function i_(t){return mt(t,"collectionParents")}function Ma(t){return mt(t,"indexEntries")}function Lc(t){return mt(t,"indexConfiguration")}function La(t){return mt(t,"indexState")}function s_(t){Q(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;hw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,d,f)=>(a++,f.delete()));s.push(l.next(()=>{Q(a===1)}));const u=[];for(const c of n.mutations){const d=LN(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return T.waitFor(s).next(()=>u)}function xf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw U();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(41943040,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);class rp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(e,n,r,i){Q(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new rp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mr(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Xs(e),o=Mr(e);return o.add({}).next(a=>{Q(typeof a=="number");const l=new Sw(a,n,r,i),u=function(f,p,y){const v=y.baseMutations.map(m=>cu(f.se,m)),w=y.mutations.map(m=>cu(f.se,m));return{userId:p,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:v,mutations:w}}(this.serializer,this.userId,l),c=[];let d=new be((f,p)=>ie(f.canonicalString(),p.canonicalString()));for(const f of i){const p=LN(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,c5))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),T.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Mr(e).get(n).next(r=>r?(Q(r.userId===this.userId),Ki(this.serializer,r)):null)}In(e,n){return this.pn[n]?T.resolve(this.pn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.pn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Mr(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Q(a.batchId>=r),s=Ki(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Mr(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mr(e).j("userMutationsIndex",n).next(r=>r.map(i=>Ki(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=id(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Xs(e).Z({range:i},(o,a,l)=>{const[u,c,d]=o,f=jn(c);if(u===this.userId&&n.path.isEqual(f))return Mr(e).get(d).next(p=>{if(!p)throw U();Q(p.userId===this.userId),s.push(Ki(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(ie);const i=[];return n.forEach(s=>{const o=id(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Xs(e).Z({range:a},(u,c,d)=>{const[f,p,y]=u,v=jn(p);f===this.userId&&s.path.isEqual(v)?r=r.add(y):d.done()});i.push(l)}),T.waitFor(i).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=id(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new be(ie);return Xs(e).Z({range:o},(l,u,c)=>{const[d,f,p]=l,y=jn(f);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Tn(e,a))}Tn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Mr(e).get(s).next(o=>{if(o===null)throw U();Q(o.userId===this.userId),r.push(Ki(this.serializer,o))}))}),T.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return PO(e.at,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.En(n.batchId)}),T.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return T.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Xs(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=jn(s[1]);i.push(l)}else a.done()}).next(()=>{Q(i.length===0)})})}containsKey(e,n){return DO(e,this.userId,n)}An(e){return RO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DO(t,e,n){const r=id(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Xs(t).Z({range:s,Y:!0},(a,l,u)=>{const[c,d,f]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Mr(t){return mt(t,"mutations")}function Xs(t){return mt(t,"documentMutations")}function RO(t){return mt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ds(0)}static bn(){return new Ds(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Pn(e).next(n=>{const r=new Ds(n.highestTargetId);return n.highestTargetId=r.next(),this.Vn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(n=>Y.fromTimestamp(new $e(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Pn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Vn(e,i)))}addTargetData(e,n){return this.Sn(e,n).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(n,r),this.Vn(e,r))))}updateTargetData(e,n){return this.Sn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ks(e).delete(n.targetId)).next(()=>this.Pn(e)).next(r=>(Q(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Ks(e).Z((o,a)=>{const l=Ya(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>T.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ks(e).Z((r,i)=>{const s=Ya(i);n(s)})}Pn(e){return a_(e).get("targetGlobalKey").next(n=>(Q(n!==null),n))}Vn(e,n){return a_(e).put("targetGlobalKey",n)}Sn(e,n){return Ks(e).put(NO(this.serializer,n))}Dn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=xs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Ks(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Ya(a);ju(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gr(e);return n.forEach(o=>{const a=jt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),T.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gr(e);return T.forEach(n,s=>{const o=jt(s.path);return T.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gr(e);let s=se();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=jn(o[1]),c=new M(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=jt(n.path),i=IDBKeyRange.bound([r],[NN(r)],!1,!0);let s=0;return Gr(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ne(e,n){return Ks(e).get(n).next(r=>r?Ya(r):null)}}function Ks(t){return mt(t,"targets")}function a_(t){return mt(t,"targetGlobal")}function Gr(t){return mt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class I6{constructor(e){this.Cn=e,this.buffer=new be(l_),this.xn=0}Nn(){return++this.xn}kn(e){const n=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();l_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}$n(e){P("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fi(n)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await $i(n)}await this.$n(3e5)})}}class T6{constructor(e,n){this.Mn=e,this.params=n}calculateTargetCount(e,n){return this.Mn.Fn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return T.resolve(Kt.ct);const r=new I6(n);return this.Mn.forEachTarget(e,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(e,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Mn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Mn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),T.resolve(o_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.Ln(e,n))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Rv()<=fe.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),T.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new T6(r,i)}(this,n)}Fn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Bn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Bn(e,n){return this.Un(e,(r,i)=>n(i))}addReference(e,n,r){return $c(e,r)}removeReference(e,n,r){return $c(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return $c(e,n)}Kn(e,n){return function(r,i){let s=!1;return RO(r).X(o=>DO(r,o,i).next(a=>(a&&(s=!0),T.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Un(e,(o,a)=>{if(a<=n){const l=this.Kn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Y.min()),Gr(e).delete([0,jt(o.path)])))});i.push(l)}}).next(()=>T.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return $c(e,n)}Un(e,n){const r=Gr(e);let i,s=Kt.ct;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Kt.ct&&n(new M(jn(i)),s),s=u,i=l):s=Kt.ct}).next(()=>{s!==Kt.ct&&n(new M(jn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $c(t,e){return Gr(t).put(function(n,r){return{targetId:0,path:jt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return ji(e).put(r)}removeEntry(e,n,r){return ji(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Tf(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Gn(e,r)))}getEntry(e,n){let r=xe.newInvalidDocument(n);return ji(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($a(n))},(i,s)=>{r=this.Qn(n,s)}).next(()=>r)}zn(e,n){let r={size:0,document:xe.newInvalidDocument(n)};return ji(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only($a(n))},(i,s)=>{r={document:this.Qn(n,s),size:xf(s)}}).next(()=>r)}getEntries(e,n){let r=Yt();return this.jn(e,n,(i,s)=>{const o=this.Qn(i,s);r=r.insert(i,o)}).next(()=>r)}Wn(e,n){let r=Yt(),i=new He(M.comparator);return this.jn(e,n,(s,o)=>{const a=this.Qn(s,o);r=r.insert(s,a),i=i.insert(s,xf(o))}).next(()=>({documents:r,Hn:i}))}jn(e,n,r){if(n.isEmpty())return T.resolve();let i=new be(d_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound($a(i.first()),$a(i.last())),o=i.getIterator();let a=o.getNext();return ji(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=M.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&d_(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G($a(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Tf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ji(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=Yt();for(const c of l){const d=this.Qn(M.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(Bu(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Yt();const o=c_(n,r),a=c_(n,un.max());return ji(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.Qn(M.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new N6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return u_(e).get("remoteDocumentGlobalKey").next(n=>(Q(!!n),n))}Gn(e,n){return u_(e).put("remoteDocumentGlobalKey",n)}Qn(e,n){if(n){const r=h6(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Y.min())))return r}return xe.newInvalidDocument(e)}}function LO(t){return new x6(t)}class N6 extends MO{constructor(e,n){super(),this.Jn=e,this.trackRemovals=n,this.Yn=new Ui(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new be((s,o)=>ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Yn.get(s);if(n.push(this.Jn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=YE(this.Jn.serializer,o);i=i.add(s.path.popLast());const u=xf(l);r+=u-a.size,n.push(this.Jn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=YE(this.Jn.serializer,o.convertToNoDocument(Y.min()));n.push(this.Jn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Jn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Jn.updateMetadata(e,r)),T.waitFor(n)}getFromCache(e,n){return this.Jn.zn(e,n).next(r=>(this.Yn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Jn.Wn(e,n).next(({documents:r,Hn:i})=>(i.forEach((s,o)=>{this.Yn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function u_(t){return mt(t,"remoteDocumentGlobal")}function ji(t){return mt(t,"remoteDocumentsV14")}function $a(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function c_(t,e){const n=e.documentKey.path.toArray();return[t,Tf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function d_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ie(n[s],r[s]),i)return i;return i=ie(n.length,r.length),i||(i=ie(n[n.length-2],r[r.length-2]),i||ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pl(r.mutation,i,Qt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Vn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Yt();const o=hl(),a=hl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),pl(c.mutation,u,c.mutation.getFieldMask(),$e.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new O6(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=hl();let i=new He((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Qt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=rO();c.forEach(f=>{if(!s.has(f)){const p=dO(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):T.resolve(Vn());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:nO(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Qa();return this.indexManager.getCollectionParents(e,i).next(o=>T.forEach(o,a=>{const l=function(u,c){return new Cr(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,xe.newInvalidDocument(u)))});let o=Qa();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&pl(u.mutation,l,Qt.empty(),$e.now()),Bu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return T.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Xe(r.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:kw(r.bundledQuery),readTime:Xe(r.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.overlays=new He(M.comparator),this.ts=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vn();return T.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const i=Vn(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Vn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ew(n,r));let s=this.ts.get(n);s===void 0&&(s=se(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.es=new be(at.ns),this.ss=new be(at.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new at(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new at(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new M(new he([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new M(new he([])),r=new at(n,e),i=new at(n,e+1);let s=se();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return M.comparator(e.key,n.key)||ie(e.ds,n.ds)}static rs(e,n){return ie(e.ds,n.ds)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new be(at.ns)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Sw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(ie);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),T.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new at(new M(s),0);let a=new be(ie);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),T.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Q(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return T.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new at(n,0),i=this._s.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.Ts=e,this.docs=new He(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(e,n){let r=Yt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xe.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Yt();const o=n.path,a=new M(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||hw(PN(c),r)<=0||(i.has(c.key)||Bu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}Es(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new M6(this)}getSize(e){return T.resolve(this.size)}}class M6 extends MO{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.persistence=e,this.As=new Ui(n=>xs(n),ju),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Rs=0,this.vs=new xw,this.targetCount=0,this.bs=Ds.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),T.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Ds(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Sn(n),T.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Kt(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new L6(this),this.indexManager=new b6,this.remoteDocumentCache=function(r){return new R6(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new xO(n),this.xs=new A6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new D6(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new $6(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return T.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class $6 extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.$s=new xw,this.Ms=null}static Fs(e){return new ip(e)}get Bs(){if(this.Ms)return this.Ms;throw U()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),T.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Bs,r=>{const i=M.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return T.or([()=>T.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.serializer=e}M(e,n,r,i){const s=new Xh("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NE,{unique:!0}),a.createObjectStore("documentMutations")}(e),f_(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=T.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),f_(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Y.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NE,{unique:!0});const c=l.store("mutations"),d=u.map(f=>c.put(f));return T.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Us(s)))),r<7&&i>=7&&(o=o.next(()=>this.Ks(s))),r<8&&i>=8&&(o=o.next(()=>this.Gs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Qs(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:E5});l.createIndex("collectionPathOverlayIndex",_5,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",I5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:d5});l.createIndex("documentKeyIndex",f5),l.createIndex("collectionGroupIndex",h5)}(e)).next(()=>this.zs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:y5}).createIndex("sequenceNumberIndex",w5,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:S5}).createIndex("documentKeyIndex",b5,{unique:!1})}(e))),o}Us(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=xf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>T.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>T.forEach(a,l=>{Q(l.userId===s.userId);const u=Ki(this.serializer,l);return PO(e,s.userId,u).next(()=>{})}))}))}Ks(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new he(o),u=function(c){return[0,jt(c)]}(l);s.push(n.get(u).next(c=>c?T.resolve():(d=>n.put({targetId:0,path:jt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>T.waitFor(s))})}Gs(e,n){e.createObjectStore("collectionParents",{keyPath:v5});const r=n.store("collectionParents"),i=new Cw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:jt(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new he(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=jn(a);return s(c.popLast())}))}Qs(e){const n=e.store("targets");return n.Z((r,i)=>{const s=Ya(i),o=NO(this.serializer,s);return n.put(o)})}zs(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new M(he.fromString(u.document.name).popFirst(5)):u.noDocument?M.fromSegments(u.noDocument.path):u.unknownDocument?M.fromSegments(u.unknownDocument.path):U()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>T.waitFor(i))}js(e,n){const r=n.store("mutations"),i=LO(this.serializer),s=new FO(ip.Fs,this.serializer.se);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:se();Ki(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),T.forEach(a,(l,u)=>{const c=new ut(u),d=np.ie(this.serializer,c),f=s.getIndexManager(c),p=rp.ie(c,this.serializer,f,s.referenceDelegate);return new $O(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Lv(n,Kt.ct),l).next()})})}}function f_(t){t.createObjectStore("targetDocuments",{keyPath:m5}).createIndex("documentTargetsIndex",g5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",p5,{unique:!0}),t.createObjectStore("targetGlobal")}const Mm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nw{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ws=s,this.window=o,this.document=a,this.Hs=u,this.Js=c,this.Ys=d,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=f=>Promise.resolve(),!Nw.D())throw new A(x.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C6(this,i),this.si=n+"main",this.serializer=new xO(l),this.ii=new On(this.si,this.Ys,new F6(this.serializer)),this.Ds=new _6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=LO(this.serializer),this.xs=new p6,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,c===!1&&Qe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new A(x.FAILED_PRECONDITION,Mm);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Kt(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){return this.ni=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(async()=>{this.started&&await this.oi()}))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(n=>{n||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(n=>this.isPrimary&&!n?this.di(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Fi(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Fa(e).get("owner").next(n=>T.resolve(this._i(n)))}mi(e){return Fc(e).delete(this.clientId)}async gi(){if(this.isPrimary&&!this.yi(this.ei,18e5)){this.ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=mt(n,"clientMetadata");return r.j().next(i=>{const s=this.pi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return T.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ri)for(const n of e)this.ri.removeItem(this.Ii(n.clientId))}}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?T.resolve(!0):Fa(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)){if(this._i(n)&&this.networkEnabled)return!0;if(!this._i(n)){if(!n.allowTabSynchronization)throw new A(x.FAILED_PRECONDITION,Mm);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fc(e).j().next(r=>this.pi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&P("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),await this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Lv(e,Kt.ct);return this.di(n).next(()=>this.mi(n))}),this.ii.close(),this.vi()}pi(e,n){return e.filter(r=>this.yi(r.updateTimeMs,n)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Fc(e).j().next(n=>this.pi(n,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,n){return rp.ie(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new E6(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return np.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,n,r){P("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Ys)===15?T5:o===14?UN:o===13?FN:o===12?k5:o===11?$N:void U();var o;let a;return this.ii.runTransaction(e,i,s,l=>(a=new Lv(l,this.Vs?this.Vs.next():Kt.ct),n==="readwrite-primary"?this.li(a).next(u=>!!u||this.fi(a)).next(u=>{if(!u)throw Qe(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new A(x.FAILED_PRECONDITION,DN);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Pi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e){return Fa(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)&&!this._i(n)&&!(this.Js||this.allowTabSynchronization&&n.allowTabSynchronization))throw new A(x.FAILED_PRECONDITION,Mm)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fa(e).put("owner",n)}static D(){return On.D()}di(e){const n=Fa(e);return n.get("owner").next(r=>this._i(r)?(P("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):T.resolve())}yi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Qe(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ui(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground=this.document.visibilityState==="visible")}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ei();const n=/(?:Version|Mobile)\/1[456]/;g4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var n;try{const r=((n=this.ri)===null||n===void 0?void 0:n.getItem(this.Ii(e)))!==null;return P("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qe("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Qe("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fa(t){return mt(t,"owner")}function Fc(t){return mt(t,"clientMetadata")}function Ow(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Aw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(jE(n))return T.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=kf(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,kf(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return jE(n)||i.isEqual(Y.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(Rv()<=fe.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bv(n)),this.Fi(e,o,n,AN(i,-1)))})}$i(e,n){let r=new be(eO(e));return n.forEach((i,s)=>{Bu(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Rv()<=fe.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Bv(n)),this.xi.getDocumentsMatchingQuery(e,n,un.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new He(ie),this.qi=new Ui(s=>xs(s),ju),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function zO(t,e,n,r){return new U6(t,e,n,r)}async function jO(t,e){const n=L(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=se();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function z6(t,e){const n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=T.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(y=>{const v=l.docVersions.get(p);Q(v!==null),y.version.compareTo(v)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VO(t){const e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function j6(t,e){const n=L(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(ot.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,v,w){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=Yt(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(BO(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(Y.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function BO(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Yt();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function V6(t,e){const n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xo(t,e){const n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ci(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Jo(t,e,n){const r=L(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Fi(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function Nf(t,e,n){const r=L(t);let i=Y.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=L(a),d=c.qi.get(u);return d!==void 0?T.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,o,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:se())).next(a=>(HO(r,ZN(e),a),{documents:a,Wi:s})))}function qO(t,e){const n=L(t),r=L(n.Ds),i=n.Li.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function WO(t,e){const n=L(t),r=n.Ui.get(e)||Y.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ki.getAllFromCollectionGroup(i,e,AN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(HO(n,e,i),i))}function HO(t,e,n){let r=t.Ui.get(e)||Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}async function B6(t,e,n,r){const i=L(t);let s=se(),o=Yt();for(const u of n){const c=e.Hi(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ji(u);d.setReadTime(e.Yi(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Ki.newChangeBuffer({trackRemovals:!0}),l=await Xo(i,function(u){return en(va(he.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>BO(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Ds.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ds.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.zi,c.ji)).next(()=>c.zi)))}async function q6(t,e,n=se()){const r=await Xo(t,en(kw(e.bundledQuery))),i=L(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Xe(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.xs.saveNamedQuery(s,e);const a=r.withResumeToken(ot.EMPTY_BYTE_STRING,o);return i.Li=i.Li.insert(a.targetId,a),i.Ds.updateTargetData(s,a).next(()=>i.Ds.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ds.addMatchingKeys(s,n,r.targetId)).next(()=>i.xs.saveNamedQuery(s,e))})}function h_(t,e){return`firestore_clients_${t}_${e}`}function p_(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Lm(t,e){return`firestore_targets_${t}_${e}`}class Of{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new A(i.error.code,i.error.message))),o?new Of(e,n,i.state,s):(Qe("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ml{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new A(r.error.code,r.error.message))),s?new ml(e,r.state,i):(Qe("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Af{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Zh();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=MN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Af(e,s):(Qe("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Pw{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Pw(n.clientId,n.onlineState):(Qe("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qv{constructor(){this.activeTargetIds=Zh()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $m{constructor(e,n,r,i,s){this.window=e,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new He(ie),this.started=!1,this.ur=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=h_(this.persistenceKey,this.nr),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Qv),this.hr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.bi();for(const r of e){if(r===this.nr)continue;const i=this.getItem(h_(this.persistenceKey,r));if(i){const s=Af.Zi(r,i);s&&(this.rr=this.rr.insert(s.clientId,s))}}this.mr();const n=this.storage.getItem(this.wr);if(n){const r=this.gr(n);r&&this.yr(r)}for(const r of this.ur)this.ir(r);this.ur=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let n=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,n,r){this.Ir(e,n,r),this.Tr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Lm(this.persistenceKey,e));if(r){const i=ml.Zi(e,r);i&&(n=i.state)}}return this.Er.tr(e),this.mr(),n}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lm(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ar(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Tr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return P("SharedClientState","READ",e,n),n}setItem(e,n){P("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){const n=e;if(n.storageArea===this.storage){if(P("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void Qe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.hr.test(n.key)){if(n.newValue==null){const r=this.br(n.key);return this.Pr(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.Pr(r.clientId,r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Cr(n.key,n.newValue);if(r)return this.Nr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.gr(n.newValue);if(r)return this.yr(r)}}else if(n.key===this.ar){const r=function(i){let s=Kt.ct;if(i!=null)try{const o=JSON.parse(i);Q(typeof o=="number"),s=o}catch(o){Qe("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Kt.ct&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.ur.push(n)})}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,n,r){const i=new Of(this.currentUser,e,n,r),s=p_(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Xi())}Tr(e){const n=p_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Rr(e){const n={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Ar(e,n,r){const i=Lm(this.persistenceKey,e),s=new ml(e,n,r);this.setItem(i,s.Xi())}vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}br(e){const n=this.hr.exec(e);return n?n[1]:null}Vr(e,n){const r=this.br(e);return Af.Zi(r,n)}Sr(e,n){const r=this.lr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Of.Zi(new ut(s),i,n)}Cr(e,n){const r=this.dr.exec(e),i=Number(r[1]);return ml.Zi(i,n)}gr(e){return Pw.Zi(e)}kr(e){return JSON.parse(e)}async Dr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.$r(e.batchId,e.state,e.error);P("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,n){const r=n?this.rr.insert(e,n):this.rr.remove(e),i=this.pr(this.rr),s=this.pr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let n=Zh();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class GO{constructor(){this.Br=new Qv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Qv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Fm(){return Uc===null?Uc=268435456+Math.round(2147483648*Math.random()):Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class K6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Fm(),a=this.ao(e,n);P("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(P("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Er("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ga,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=H6[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Fm();return new Promise((o,a)=>{const l=new HV;l.setWithCredentials(!0),l.listenOnce(BV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Dm.NO_ERROR:const c=l.getResponseJson();P(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Dm.TIMEOUT:P(Nt,`RPC '${e}' ${s} timed out`),a(new A(x.DEADLINE_EXCEEDED,"Request time out"));break;case Dm.HTTP_ERROR:const d=l.getStatus();if(P(Nt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(w)>=0?w:x.UNKNOWN}(p.status);a(new A(y,p.message))}else a(new A(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new A(x.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{P(Nt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P(Nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Fm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jV(),a=VV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new WV({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");P(Nt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,f=!1;const p=new G6({Wr:v=>{f?P(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(P(Nt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),P(Nt,`RPC '${e}' stream ${i} sending:`,v),c.send(v))},Hr:()=>c.close()}),y=(v,w,m)=>{v.listen(w,h=>{try{m(h)}catch(g){setTimeout(()=>{throw g},0)}})};return y(c,Pc.EventType.OPEN,()=>{f||P(Nt,`RPC '${e}' stream ${i} transport opened.`)}),y(c,Pc.EventType.CLOSE,()=>{f||(f=!0,P(Nt,`RPC '${e}' stream ${i} transport closed`),p.so())}),y(c,Pc.EventType.ERROR,v=>{f||(f=!0,Er(Nt,`RPC '${e}' stream ${i} transport errored:`,v),p.so(new A(x.UNAVAILABLE,"The operation could not be completed")))}),y(c,Pc.EventType.MESSAGE,v=>{var w;if(!f){const m=v.data[0];Q(!!m);const h=m,g=h.error||((w=h[0])===null||w===void 0?void 0:w.error);if(g){P(Nt,`RPC '${e}' stream ${i} received error:`,g);const S=g.status;let E=function(k){const _=Je[k];if(_!==void 0)return pO(_)}(S),b=g.message;E===void 0&&(E=x.INTERNAL,b="Unknown error status: "+S+" with message "+g.message),f=!0,p.so(new A(E,b)),c.close()}else P(Nt,`RPC '${e}' stream ${i} received:`,m),p.io(m)}}),y(a,qV.STAT_EVENT,v=>{v.stat===kE.PROXY?P(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===kE.NOPROXY&&P(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return typeof window<"u"?window:null}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){return new r6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Dw(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Qe(n.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new A(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q6 extends QO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=o6(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?Xe(s.readTime):Y.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=uu(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=_f(a)?{documents:EO(i,a)}:{query:_O(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=vO(i,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=Yo(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=l6(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=uu(this.serializer),n.removeTarget=e,this.Fo(n)}}class Y6 extends QO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Q(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=a6(e.writeResults,e.commitTime),r=Xe(e.commitTime);return this.listener.Zo(r,n)}return Q(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=uu(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cu(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new A(x.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(x.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(x.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class J6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Qe(n),this.ru=!1):P("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{zi(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=L(a);l.du.add(4),await Sa(l),l.mu.set("Unknown"),l.du.delete(4),await Ku(l)}(this))})}),this.mu=new J6(r,i)}}async function Ku(t){if(zi(t))for(const e of t.wu)await e(!0)}async function Sa(t){for(const e of t.wu)await e(!1)}function sp(t,e){const n=L(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Lw(n)?Mw(n):Ea(n).No()&&Rw(n,e))}function du(t,e){const n=L(t),r=Ea(n);n.fu.delete(e),r.No()&&YO(n,e),n.fu.size===0&&(r.No()?r.$o():zi(n)&&n.mu.set("Unknown"))}function Rw(t,e){t.gu.Ot(e.targetId),Ea(t).jo(e)}function YO(t,e){t.gu.Ot(e),Ea(t).Wo(e)}function Mw(t){t.gu=new Z5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),Ea(t).start(),t.mu.ou()}function Lw(t){return zi(t)&&!Ea(t).xo()&&t.fu.size>0}function zi(t){return L(t).du.size===0}function XO(t){t.gu=void 0}async function eB(t){t.fu.forEach((e,n)=>{Rw(t,e)})}async function tB(t,e){XO(t),Lw(t)?(t.mu.au(e),Mw(t)):t.mu.set("Unknown")}async function nB(t,e,n){if(t.mu.set("Online"),e instanceof gO&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pf(t,r)}else if(e instanceof ld?t.gu.Kt(e):e instanceof mO?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(Y.min()))try{const r=await VO(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ot.EMPTY_BYTE_STRING,l.snapshotVersion)),YO(i,a);const u=new ci(l.target,a,1,l.sequenceNumber);Rw(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await Pf(t,r)}}async function Pf(t,e,n){if(!Fi(e))throw e;t.du.add(1),await Sa(t),t.mu.set("Offline"),n||(n=()=>VO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Ku(t)})}function JO(t,e){return e().catch(n=>Pf(t,n,e))}async function ba(t){const e=L(t),n=Ci(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;rB(e);)try{const i=await V6(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,iB(e,i)}catch(i){await Pf(e,i)}ZO(e)&&eA(e)}function rB(t){return zi(t)&&t.lu.length<10}function iB(t,e){t.lu.push(e);const n=Ci(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function ZO(t){return zi(t)&&!Ci(t).xo()&&t.lu.length>0}function eA(t){Ci(t).start()}async function sB(t){Ci(t).tu()}async function oB(t){const e=Ci(t);for(const n of t.lu)e.Yo(n.mutations)}async function aB(t,e,n){const r=t.lu.shift(),i=bw.from(r,e,n);await JO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ba(t)}async function lB(t,e){e&&Ci(t).Jo&&await async function(n,r){if(i=r.code,hO(i)&&i!==x.ABORTED){const s=n.lu.shift();Ci(n).Oo(),await JO(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ba(n)}var i}(t,e),ZO(t)&&eA(t)}async function g_(t,e){const n=L(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.du.add(3),await Sa(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Ku(n)}async function Yv(t,e){const n=L(t);e?(n.du.delete(2),await Ku(n)):e||(n.du.add(2),await Sa(n),n.mu.set("Unknown"))}function Ea(t){return t.yu||(t.yu=function(e,n,r){const i=L(e);return i.nu(),new Q6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:eB.bind(null,t),Zr:tB.bind(null,t),zo:nB.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Lw(t)?Mw(t):t.mu.set("Unknown")):(await t.yu.stop(),XO(t))})),t.yu}function Ci(t){return t.pu||(t.pu=function(e,n,r){const i=L(e);return i.nu(),new Y6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:sB.bind(null,t),Zr:lB.bind(null,t),Xo:oB.bind(null,t),Zo:aB.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await ba(t)):(await t.pu.stop(),t.lu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new $w(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _a(t,e){if(Qe("AsyncQueue",`${e}: ${t}`),Fi(t))return new A(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.Iu=new He(M.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):U():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Zo(e,n,Oo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.Eu=void 0,this.listeners=[]}}class cB{constructor(){this.queries=new Ui(e=>JN(e),Vu),this.onlineState="Unknown",this.Au=new Set}}async function Fw(t,e){const n=L(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new uB),i)try{s.Eu=await n.onListen(r)}catch(o){const a=_a(o,`Initialization of query '${Bv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&zw(n)}async function Uw(t,e){const n=L(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dB(t,e){const n=L(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&zw(n)}function fB(t,e,n){const r=L(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function zw(t){t.Au.forEach(e=>{e.next()})}class jw{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n){this.Nu=e,this.byteLength=n}ku(){return"metadata"in this.Nu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this.serializer=e}Hi(e){return Qn(this.serializer,e)}Ji(e){return e.metadata.exists?bO(this.serializer,e.document,!1):xe.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Xe(e)}}class pB{constructor(e,n,r){this.Ou=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tA(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++n;const r=he.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,r=new y_(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Hi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||se()).add(s);n.set(o,a)}}return n}async complete(){const e=await B6(this.localStore,new y_(this.serializer),this.documents,this.Ou.id),n=this.Mu(this.documents);for(const r of this.queries)await q6(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:e}}}function tA(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class iA{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=se(),this.mutatedKeys=se(),this.Ku=eO(e),this.Gu=new Oo(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new v_,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=Bu(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),w=!0):this.Wu(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(d,f){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return p(d)-p(f)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Zo(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new v_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=se(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new rA(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new nA(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=se();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Zo.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class mB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gB{constructor(e){this.key=e,this.ec=!1}}class vB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ui(a=>JN(a),Vu),this.ic=new Map,this.rc=new Set,this.oc=new He(M.comparator),this.uc=new Map,this.cc=new xw,this.ac={},this.hc=new Map,this.lc=Ds.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function yB(t,e){const n=Hw(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await Xo(n.localStore,en(e));n.isPrimaryClient&&sp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Vw(n,e,r,a==="current",o.resumeToken)}return i}async function Vw(t,e,n,r,i){t.dc=(d,f,p)=>async function(y,v,w,m){let h=v.view.zu(w);h.Mi&&(h=await Nf(y.localStore,v.query,!1).then(({documents:E})=>v.view.zu(E,h)));const g=m&&m.targetChanges.get(v.targetId),S=v.view.applyChanges(h,y.isPrimaryClient,g);return Xv(y,v.targetId,S.Yu),S.snapshot}(t,d,f,p);const s=await Nf(t.localStore,e,!0),o=new iA(e,s.Wi),a=o.zu(s.documents),l=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Xv(t,n,u.Yu);const c=new mB(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function wB(t,e){const n=L(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Vu(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),du(n.remoteStore,r.targetId),ea(n,r.targetId)}).catch($i)):(ea(n,r.targetId),await Jo(n.localStore,r.targetId,!0))}async function SB(t,e,n){const r=Gw(t);try{const i=await function(s,o){const a=L(s),l=$e.now(),u=o.reduce((f,p)=>f.add(p.key),se());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Yt(),y=se();return a.Ki.getEntries(f,u).next(v=>{p=v,p.forEach((w,m)=>{m.isValidDocument()||(y=y.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(v=>{c=v;const w=[];for(const m of o){const h=X5(m,c.get(m.key).overlayedDocument);h!=null&&w.push(new xr(m.key,h,BN(h.value.mapValue),Le.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,w,o)}).next(v=>{d=v;const w=v.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,v.batchId,w)})}).then(()=>({batchId:d.batchId,changes:nO(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new He(ie)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Nr(r,i.changes),await ba(r.remoteStore)}catch(i){const s=_a(i,"Failed to persist write");n.reject(s)}}async function sA(t,e){const n=L(t);try{const r=await j6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Q(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Q(o.ec):i.removedDocuments.size>0&&(Q(o.ec),o.ec=!1))}),await Nr(n,r,e)}catch(r){await $i(r)}}function w_(t,e,n){const r=L(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=L(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(o)&&(l=!0)}),l&&zw(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function bB(t,e,n){const r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new He(M.comparator);o=o.insert(s,xe.newNoDocument(s,Y.min()));const a=se().add(s),l=new Wu(Y.min(),new Map,new be(ie),o,a);await sA(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Ww(r)}else await Jo(r.localStore,e,!1).then(()=>ea(r,e,n)).catch($i)}async function EB(t,e){const n=L(t),r=e.batch.batchId;try{const i=await z6(n.localStore,e);qw(n,r,null),Bw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nr(n,i)}catch(i){await $i(i)}}async function _B(t,e,n){const r=L(t);try{const i=await function(s,o){const a=L(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Q(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);qw(r,e,n),Bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nr(r,i)}catch(i){await $i(i)}}async function IB(t,e){const n=L(t);zi(n.remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=L(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.hc.get(r)||[];i.push(e),n.hc.set(r,i)}catch(r){const i=_a(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Bw(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function qw(t,e,n){const r=L(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function ea(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||oA(t,r)})}function oA(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(du(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Ww(t))}function Xv(t,e,n){for(const r of n)r instanceof nA?(t.cc.addReference(r.key,e),kB(t,r)):r instanceof rA?(P("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||oA(t,r.key)):U()}function kB(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.rc.add(r),Ww(t))}function Ww(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new M(he.fromString(e)),r=t.lc.next();t.uc.set(r,new gB(n)),t.oc=t.oc.insert(n,r),sp(t.remoteStore,new ci(en(va(n.path)),r,2,Kt.ct))}}async function Nr(t,e,n){const r=L(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Aw.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=L(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>T.forEach(l,d=>T.forEach(d.Vi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>T.forEach(d.Si,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Fi(c))throw c;P("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Li.get(d),p=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(d,y)}}}(r.localStore,s))}async function TB(t,e){const n=L(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await jO(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new A(x.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nr(n,r.Qi)}}function CB(t,e){const n=L(t),r=n.uc.get(e);if(r&&r.ec)return se().add(r.key);{let i=se();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}async function xB(t,e){const n=L(t),r=await Nf(n.localStore,e.query,!0),i=e.view.Xu(r);return n.isPrimaryClient&&Xv(n,e.targetId,i.Yu),i}async function NB(t,e){const n=L(t);return WO(n.localStore,e).then(r=>Nr(n,r))}async function OB(t,e,n,r){const i=L(t),s=await function(o,a){const l=L(o),u=L(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.In(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):T.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ba(i.remoteStore):n==="acknowledged"||n==="rejected"?(qw(i,e,r||null),Bw(i,e),function(o,a){L(L(o).mutationQueue).En(a)}(i.localStore,e)):U(),await Nr(i,s)):P("SyncEngine","Cannot apply mutation batch with id: "+e)}async function AB(t,e){const n=L(t);if(Hw(n),Gw(n),e===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await S_(n,r.toArray());n.fc=!0,await Yv(n.remoteStore,!0);for(const s of i)sp(n.remoteStore,s)}else if(e===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ea(n,o),Jo(n.localStore,o,!0))),du(n.remoteStore,o)}),await i,await S_(n,r),function(s){const o=L(s);o.uc.forEach((a,l)=>{du(o.remoteStore,l)}),o.cc.ls(),o.uc=new Map,o.oc=new He(M.comparator)}(n),n.fc=!1,await Yv(n.remoteStore,!1)}}async function S_(t,e,n){const r=L(t),i=[],s=[];for(const o of e){let a;const l=r.ic.get(o);if(l&&l.length!==0){a=await Xo(r.localStore,en(l[0]));for(const u of l){const c=r.sc.get(u),d=await xB(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await qO(r.localStore,o);a=await Xo(r.localStore,u),await Vw(r,aA(u),o,!1,a.resumeToken)}i.push(a)}return r.nc.zo(s),i}function aA(t){return XN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function PB(t){const e=L(t);return L(L(e.localStore).persistence).bi()}async function DB(t,e,n,r){const i=L(t);if(i.fc)return void P("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await WO(i.localStore,ZN(s[0])),a=Wu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ot.EMPTY_BYTE_STRING);await Nr(i,o,a);break}case"rejected":await Jo(i.localStore,e,!0),ea(i,e,r);break;default:U()}}async function RB(t,e,n){const r=Hw(t);if(r.fc){for(const i of e){if(r.ic.has(i)){P("SyncEngine","Adding an already active target "+i);continue}const s=await qO(r.localStore,i),o=await Xo(r.localStore,s);await Vw(r,aA(s),o.targetId,!1,o.resumeToken),sp(r.remoteStore,o)}for(const i of n)r.ic.has(i)&&await Jo(r.localStore,i,!1).then(()=>{du(r.remoteStore,i),ea(r,i)}).catch($i)}}function Hw(t){const e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bB.bind(null,e),e.nc.zo=dB.bind(null,e.eventManager),e.nc.wc=fB.bind(null,e.eventManager),e}function Gw(t){const e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_B.bind(null,e),e}function MB(t,e,n){const r=L(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,f){const p=L(d),y=Xe(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",v=>p.xs.getBundleMetadata(v,f.id)).then(v=>!!v&&v.createTime.compareTo(y)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(tA(a));const l=new pB(a,i.localStore,s.serializer);let u=await s._c();for(;u;){const d=await l.$u(u);d&&o._updateProgress(d),u=await s._c()}const c=await l.complete();return await Nr(i,c.Bu,void 0),await function(d,f){const p=L(d);return p.persistence.runTransaction("Save bundle","readwrite",y=>p.xs.saveBundleMetadata(y,f))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Fu)}catch(a){return Er("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Jv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return zO(this.persistence,new UO,e.initialUser,this.serializer)}createPersistence(e){return new FO(ip.Fs,this.serializer)}createSharedClientState(e){return new GO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lA extends Jv{constructor(e,n,r){super(),this.mc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.mc.initialize(this,e),await Gw(this.mc.syncEngine),await ba(this.mc.remoteStore),await this.persistence.hi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return zO(this.persistence,new UO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new k6(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new l5(n,this.persistence);return new a5(e.asyncQueue,r)}createPersistence(e){const n=Ow(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new Nw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,KO(),ud(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new GO}}class LB extends lA{constructor(e,n){super(e,n,!1),this.mc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.mc.syncEngine;this.sharedClientState instanceof $m&&(this.sharedClientState.syncEngine={$r:OB.bind(null,n),Mr:DB.bind(null,n),Fr:RB.bind(null,n),bi:PB.bind(null,n),Or:NB.bind(null,n)},await this.sharedClientState.start()),await this.persistence.hi(async r=>{await AB(this.mc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=KO();if(!$m.D(n))throw new A(x.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ow(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $m(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Kw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TB.bind(null,this.syncEngine),await Yv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new cB}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new K6(i));var i;return function(s,o,a,l){return new X6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>w_(this.syncEngine,a,0),o=m_.D()?new m_:new W6,new Z6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new vB(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=L(e);P("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Sa(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Qe("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n){this.Ic=e,this.serializer=n,this.metadata=new ft,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}async getMetadata(){return this.metadata.promise}async _c(){return await this.getMetadata(),this.Ec()}async Ec(){const e=await this.Ac();if(e===null)return null;const n=this.Tc.decode(e),r=Number(n);isNaN(r)&&this.Rc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new hB(JSON.parse(i),e.length+r)}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ac(){for(;this.bc()<0&&!await this.Pc(););if(this.buffer.length===0)return null;const e=this.bc();e<0&&this.Rc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Pc()&&this.Rc("Reached the end of bundle when more is expected.");const n=this.Tc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pc(){const e=await this.Ic.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(x.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=L(r),o=uu(s.serializer)+"/documents",a={documents:i.map(d=>lu(s.serializer,d))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const f=s6(s.serializer,d);u.set(f.key.toString(),f)});const c=[];return i.forEach(d=>{const f=u.get(d.toString());Q(!!f),c.push(f)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=M.fromPath(r);this.mutations.push(new ww(i,this.precondition(i)))}),await async function(n,r){const i=L(n),s=uu(i.serializer)+"/documents",o={writes:r.map(a=>cu(i.serializer,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw U();n=Y.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new A(x.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Y.min())?Le.exists(!1):Le.updateTime(n):Le.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Y.min()))throw new A(x.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Le.updateTime(n)}return Le.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Vc=r.maxAttempts,this.Co=new Dw(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){this.Co.Ao(async()=>{const e=new FB(this.datastore),n=this.Dc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Cc(i)}))}).catch(r=>{this.Cc(r)})})}Dc(e){try{const n=this.updateFunction(e);return!zu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!hO(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=xN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{P("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_a(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cd(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Qw(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>g_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>g_(e.remoteStore,s)),t._onlineComponents=e}function uA(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Qw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{await cd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uA(n))throw n;Er("Error using user provided cache. Falling back to memory cache: "+n),await cd(t,new Jv)}}else P("FirestoreClient","Using default OfflineComponentProvider"),await cd(t,new Jv);return t._offlineComponents}async function ap(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),await Zv(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),await Zv(t,new Kw))),t._onlineComponents}function cA(t){return Qw(t).then(e=>e.persistence)}function Yw(t){return Qw(t).then(e=>e.localStore)}function dA(t){return ap(t).then(e=>e.remoteStore)}function Xw(t){return ap(t).then(e=>e.syncEngine)}function jB(t){return ap(t).then(e=>e.datastore)}async function ta(t){const e=await ap(t),n=e.eventManager;return n.onListen=yB.bind(null,e.syncEngine),n.onUnlisten=wB.bind(null,e.syncEngine),n}function VB(t){return t.asyncQueue.enqueue(async()=>{const e=await cA(t),n=await dA(t);return e.setNetworkEnabled(!0),function(r){const i=L(r);return i.du.delete(0),Ku(i)}(n)})}function BB(t){return t.asyncQueue.enqueue(async()=>{const e=await cA(t),n=await dA(t);return e.setNetworkEnabled(!1),async function(r){const i=L(r);i.du.add(0),await Sa(i),i.mu.set("Offline")}(n)})}function qB(t,e){const n=new ft;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=L(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new A(x.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=_a(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Yw(t),e,n)),n.promise}function fA(t,e,n={}){const r=new ft;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new op({next:d=>{s.enqueueAndForget(()=>Uw(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new A(x.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new A(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new jw(va(o.path),u,{includeMetadataChanges:!0,xu:!0});return Fw(i,c)}(await ta(t),t.asyncQueue,e,n,r)),r.promise}function WB(t,e){const n=new ft;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Nf(r,i,!0),a=new iA(i,o.Wi),l=a.zu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=_a(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Yw(t),e,n)),n.promise}function hA(t,e,n={}){const r=new ft;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new op({next:d=>{s.enqueueAndForget(()=>Uw(i,c)),d.fromCache&&a.source==="server"?l.reject(new A(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new jw(o,u,{includeMetadataChanges:!0,xu:!0});return Fw(i,c)}(await ta(t),t.asyncQueue,e,n,r)),r.promise}function HB(t,e){const n=new op(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){L(r).Au.add(i),i.next()}(await ta(t),n)),()=>{n.yc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){L(r).Au.delete(i)}(await ta(t),n))}}function GB(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new $B(l,u)}(function(l,u){if(l instanceof Uint8Array)return b_(l,u);if(l instanceof ArrayBuffer)return b_(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Gu(e));t.asyncQueue.enqueueAndForget(async()=>{MB(await Xw(t),i,r)})}function KB(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=L(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.xs.getNamedQuery(s,r))}(await Yw(t),e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e,n){if(!n)throw new A(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pA(t,e,n,r){if(e===!0&&r===!0)throw new A(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function __(t){if(!M.isDocumentKey(t))throw new A(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I_(t){if(M.isDocumentKey(t))throw new A(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function me(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(t);throw new A(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function mA(t,e){if(e<=0)throw new A(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new A(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QV;switch(n.type){case"firstParty":return new ZV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=E_.get(e);n&&(P("ComponentProvider","Removing Datastore"),E_.delete(e),n.terminate())}(this),Promise.resolve()}}function QB(t,e,n,r={}){var i;const s=(t=me(t,Qu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=ut.MOCK_USER;else{o=u4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ut(l)}t._authCredentials=new YV(new CN(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ae(this.firestore,e,this._key)}}class It{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new It(this.firestore,e,this._query)}}class Yn extends It{constructor(e,n,r){super(e,n,va(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ae(this.firestore,null,new M(e))}withConverter(e){return new Yn(this.firestore,e,this._path)}}function gA(t,e,...n){if(t=Ee(t),Jw("collection","path",e),t instanceof Qu){const r=he.fromString(e,...n);return I_(r),new Yn(t,null,r)}{if(!(t instanceof Ae||t instanceof Yn))throw new A(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return I_(r),new Yn(t.firestore,null,r)}}function YB(t,e){if(t=me(t,Qu),Jw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(x.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(t,null,function(n){return new Cr(he.emptyPath(),n)}(e))}function Df(t,e,...n){if(t=Ee(t),arguments.length===1&&(e=xN.A()),Jw("doc","path",e),t instanceof Qu){const r=he.fromString(e,...n);return __(r),new Ae(t,null,new M(r))}{if(!(t instanceof Ae||t instanceof Yn))throw new A(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return __(r),new Ae(t.firestore,t instanceof Yn?t.converter:null,new M(r))}}function vA(t,e){return t=Ee(t),e=Ee(e),(t instanceof Ae||t instanceof Yn)&&(e instanceof Ae||e instanceof Yn)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yA(t,e){return t=Ee(t),e=Ee(e),t instanceof It&&e instanceof It&&t.firestore===e.firestore&&Vu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Dw(this,"async_queue_retry"),this.qc=()=>{const n=ud();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=ud();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new ft;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Fi(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Qe("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=$w.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&U()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function ey(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class JB{constructor(){this._progressObserver={},this._taskCompletionResolver=new ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=-1;class Ge extends Qu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wA(this),this._firestoreClient.terminate()}}function gt(t){return t._firestoreClient||wA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new O5(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function e8(t,e){bA(t=me(t,Ge));const n=gt(t);if(n._uninitializedComponentsProvider)throw new A(x.FAILED_PRECONDITION,"SDK cache is already specified.");Er("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Kw;return SA(n,i,new lA(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function t8(t){bA(t=me(t,Ge));const e=gt(t);if(e._uninitializedComponentsProvider)throw new A(x.FAILED_PRECONDITION,"SDK cache is already specified.");Er("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Kw;return SA(e,r,new LB(r,n.cacheSizeBytes))}function SA(t,e,n){const r=new ft;return t.asyncQueue.enqueue(async()=>{try{await cd(t,n),await Zv(t,e),r.resolve()}catch(i){const s=i;if(!uA(s))throw s;Er("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function n8(t){if(t._initialized&&!t._terminated)throw new A(x.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ft;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!On.D())return Promise.resolve();const r=n+"main";await On.delete(r)}(Ow(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function r8(t){return function(e){const n=new ft;return e.asyncQueue.enqueueAndForget(async()=>IB(await Xw(e),n)),n.promise}(gt(t=me(t,Ge)))}function i8(t){return VB(gt(t=me(t,Ge)))}function s8(t){return BB(gt(t=me(t,Ge)))}function o8(t,e){const n=gt(t=me(t,Ge)),r=new JB;return GB(n,t._databaseId,e,r),r}function a8(t,e){return KB(gt(t=me(t,Ge)),e).then(n=>n?new It(t,null,n.query):null)}function bA(t){if(t._initialized||t._terminated)throw new A(x.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(ot.fromBase64String(e))}catch(n){throw new A(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zn(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^__.*__$/;class u8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}class EA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class cp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Rf(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(_A(this.Yc)&&l8.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class c8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gu(e)}ua(e,n,r,i=!1){return new cp({Yc:e,methodName:n,oa:r,path:Ye.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bs(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new c8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dp(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);n1("Data must be an object, but it was:",o,r);const a=TA(r,o);let l,u;if(s.merge)l=new Qt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=ty(e,d,n);if(!o.contains(f))throw new A(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xA(c,f)||c.push(f)}l=new Qt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new u8(new St(a),l,u)}class Yu extends Vs{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yu}}function IA(t,e,n){return new cp({Yc:3,oa:e.settings.oa,methodName:t._methodName,ta:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zw extends Vs{_toFieldTransform(e){return new qu(e.path,new Ko)}isEqual(e){return e instanceof Zw}}class d8 extends Vs{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=IA(this,e,!0),r=this.ca.map(s=>qs(s,n)),i=new Ns(r);return new qu(e.path,i)}isEqual(e){return this===e}}class f8 extends Vs{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=IA(this,e,!0),r=this.ca.map(s=>qs(s,n)),i=new Os(r);return new qu(e.path,i)}isEqual(e){return this===e}}class h8 extends Vs{constructor(e,n){super(e),this.aa=n}_toFieldTransform(e){const n=new Qo(e.serializer,oO(e.serializer,this.aa));return new qu(e.path,n)}isEqual(e){return this===e}}function e1(t,e,n,r){const i=t.ua(1,e,n);n1("Data must be an object, but it was:",i,r);const s=[],o=St.empty();js(r,(l,u)=>{const c=r1(e,l,n);u=Ee(u);const d=i.na(c);if(u instanceof Yu)s.push(c);else{const f=qs(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Qt(s);return new EA(o,a,i.fieldTransforms)}function t1(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[ty(e,r,n)],l=[i];if(s.length%2!=0)throw new A(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ty(e,s[f])),l.push(s[f+1]);const u=[],c=St.empty();for(let f=a.length-1;f>=0;--f)if(!xA(u,a[f])){const p=a[f];let y=l[f];y=Ee(y);const v=o.na(p);if(y instanceof Yu)u.push(p);else{const w=qs(y,v);w!=null&&(u.push(p),c.set(p,w))}}const d=new Qt(u);return new EA(c,d,o.fieldTransforms)}function kA(t,e,n,r=!1){return qs(n,t.ua(r?4:3,e))}function qs(t,e){if(CA(t=Ee(t)))return n1("Unsupported field value:",e,t),TA(t,e);if(t instanceof Vs)return function(n,r){if(!_A(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qs(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ee(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oO(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=$e.fromDate(n);return{timestampValue:Yo(r.serializer,i)}}if(n instanceof $e){const i=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yo(r.serializer,i)}}if(n instanceof up)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zn)return{bytesValue:vO(r.serializer,n._byteString)};if(n instanceof Ae){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Iw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${lp(n)}`)}(t,e)}function TA(t,e){const n={};return zN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const s=qs(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof up||t instanceof Zn||t instanceof Ae||t instanceof Vs)}function n1(t,e,n){if(!CA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=lp(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function ty(t,e,n){if((e=Ee(e))instanceof xi)return e._internalPath;if(typeof e=="string")return r1(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}const p8=new RegExp("[~\\*/\\[\\]]");function r1(t,e,n){if(e.search(p8)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xi(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(x.INVALID_ARGUMENT,a+t+l)}function xA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class m8 extends fu{data(){return super.data()}}function fp(t,e){return typeof e=="string"?r1(t,e):e instanceof xi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i1{}class Xu extends i1{}function Lr(t,e,...n){let r=[];e instanceof i1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof s1).length,o=i.filter(a=>a instanceof hp).length;if(s>1||s>0&&o>0)throw new A(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hp extends Xu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hp(e,n,r)}_apply(e){const n=this._parse(e);return AA(e._query,n),new It(e.firestore,e.converter,Vv(e._query,n))}_parse(e){const n=Bs(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new A(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){C_(c,u);const f=[];for(const p of c)f.push(T_(a,i,p));d={arrayValue:{values:f}}}else d=T_(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||C_(c,u),d=kA(o,s,c,u==="in"||u==="not-in");return ue.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function g8(t,e,n){const r=e,i=fp("where",t);return hp._create(i,r,n)}class s1 extends i1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)AA(s,a),s=Vv(s,a)}(e._query,n),new It(e.firestore,e.converter,Vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o1 extends Xu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new A(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new A(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new No(i,s);return function(a,l){if(vw(a)===null){const u=Jh(a);u!==null&&PA(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new It(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Cr(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function v8(t,e="asc"){const n=e,r=fp("orderBy",t);return o1._create(r,n)}class pp extends Xu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new pp(e,n,r)}_apply(e){return new It(e.firestore,e.converter,kf(e._query,this._limit,this._limitType))}}function y8(t){return mA("limit",t),pp._create("limit",t,"F")}function w8(t){return mA("limitToLast",t),pp._create("limitToLast",t,"L")}class mp extends Xu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mp(e,n,r)}_apply(e){const n=OA(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,i){return new Cr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function S8(...t){return mp._create("startAt",t,!0)}function b8(...t){return mp._create("startAfter",t,!1)}class gp extends Xu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gp(e,n,r)}_apply(e){const n=OA(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,i){return new Cr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function E8(...t){return gp._create("endBefore",t,!1)}function _8(...t){return gp._create("endAt",t,!0)}function OA(t,e,n,r){if(n[0]=Ee(n[0]),n[0]instanceof fu)return function(i,s,o,a,l){if(!a)throw new A(x.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of hs(i))if(c.field.isKeyField())u.push(Cs(s,a.key));else{const d=a.data.field(c.field);if(mw(d))throw new A(x.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=c.field.canonicalString();throw new A(x.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Ti(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bs(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new A(x.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<u.length;p++){const y=u[p];if(d[p].field.isKeyField()){if(typeof y!="string")throw new A(x.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!yw(s)&&y.indexOf("/")!==-1)throw new A(x.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const v=s.path.child(he.fromString(y));if(!M.isDocumentKey(v))throw new A(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const w=new M(v);f.push(Cs(o,w))}else{const v=kA(a,l,y);f.push(v)}}return new Ti(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function T_(t,e,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new A(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yw(e)&&n.indexOf("/")!==-1)throw new A(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(he.fromString(n));if(!M.isDocumentKey(r))throw new A(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cs(t,new M(r))}if(n instanceof Ae)return Cs(t,n._key);throw new A(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new A(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(t,e){if(e.isInequality()){const r=Jh(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new A(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=vw(t);s!==null&&PA(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function PA(t,e,n){if(!n.isEqual(e))throw new A(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class a1{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){const r={};return js(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new up(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jN(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=_i(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);Q(CO(r));const i=new Ii(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class I8 extends a1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _r extends fu{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gl extends _r{data(e={}){return super.data(e)}}class Ni{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ss(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gl(this._firestore,this._userDataWriter,r.key,r,new ss(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new gl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ss(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new gl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ss(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:k8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function k8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function DA(t,e){return t instanceof _r&&e instanceof _r?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ni&&e instanceof Ni&&t._firestore===e._firestore&&yA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){t=me(t,Ae);const e=me(t.firestore,Ge);return fA(gt(e),t._key).then(n=>l1(e,t,n))}class Ws extends a1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function C8(t){t=me(t,Ae);const e=me(t.firestore,Ge),n=gt(e),r=new Ws(e);return qB(n,t._key).then(i=>new _r(e,r,t._key,i,new ss(i!==null&&i.hasLocalMutations,!0),t.converter))}function x8(t){t=me(t,Ae);const e=me(t.firestore,Ge);return fA(gt(e),t._key,{source:"server"}).then(n=>l1(e,t,n))}function N8(t){t=me(t,It);const e=me(t.firestore,Ge),n=gt(e),r=new Ws(e);return NA(t._query),hA(n,t._query).then(i=>new Ni(e,r,t,i))}function O8(t){t=me(t,It);const e=me(t.firestore,Ge),n=gt(e),r=new Ws(e);return WB(n,t._query).then(i=>new Ni(e,r,t,i))}function A8(t){t=me(t,It);const e=me(t.firestore,Ge),n=gt(e),r=new Ws(e);return hA(n,t._query,{source:"server"}).then(i=>new Ni(e,r,t,i))}function x_(t,e,n){t=me(t,Ae);const r=me(t.firestore,Ge),i=vp(t.converter,e,n);return Ju(r,[dp(Bs(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Le.none())])}function N_(t,e,n,...r){t=me(t,Ae);const i=me(t.firestore,Ge),s=Bs(i);let o;return o=typeof(e=Ee(e))=="string"||e instanceof xi?t1(s,"updateDoc",t._key,e,n,r):e1(s,"updateDoc",t._key,e),Ju(i,[o.toMutation(t._key,Le.exists(!0))])}function P8(t){return Ju(me(t.firestore,Ge),[new wa(t._key,Le.none())])}function D8(t,e){const n=me(t.firestore,Ge),r=Df(t),i=vp(t.converter,e);return Ju(n,[dp(Bs(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Le.exists(!1))]).then(()=>r)}function RA(t,...e){var n,r,i;t=Ee(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ey(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ey(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ae)u=me(t.firestore,Ge),c=va(t._key.path),l={next:d=>{e[o]&&e[o](l1(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=me(t,It);u=me(d.firestore,Ge),c=d._query;const f=new Ws(u);l={next:p=>{e[o]&&e[o](new Ni(u,f,d,p))},error:e[o+1],complete:e[o+2]},NA(t._query)}return function(d,f,p,y){const v=new op(y),w=new jw(f,v,p);return d.asyncQueue.enqueueAndForget(async()=>Fw(await ta(d),w)),()=>{v.yc(),d.asyncQueue.enqueueAndForget(async()=>Uw(await ta(d),w))}}(gt(u),c,a,l)}function R8(t,e){return HB(gt(t=me(t,Ge)),ey(e)?e:{next:e})}function Ju(t,e){return function(n,r){const i=new ft;return n.asyncQueue.enqueueAndForget(async()=>SB(await Xw(n),r,i)),i.promise}(gt(t),e)}function l1(t,e,n){const r=n.docs.get(e._key),i=new Ws(t);return new _r(t,i,e._key,r,new ss(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bs(e)}set(e,n,r){this._verifyNotCommitted();const i=Kr(e,this._firestore),s=vp(i.converter,n,r),o=dp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Le.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Kr(e,this._firestore);let o;return o=typeof(n=Ee(n))=="string"||n instanceof xi?t1(this._dataReader,"WriteBatch.update",s._key,n,r,i):e1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Le.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Kr(e,this._firestore);return this._mutations=this._mutations.concat(new wa(n._key,Le.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new A(x.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kr(t,e){if((t=Ee(t)).firestore!==e)throw new A(x.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Bs(e)}get(e){const n=Kr(e,this._firestore),r=new I8(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return U();const s=i[0];if(s.isFoundDocument())return new fu(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new fu(this._firestore,r,n._key,null,n.converter);throw U()})}set(e,n,r){const i=Kr(e,this._firestore),s=vp(i.converter,n,r),o=dp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Kr(e,this._firestore);let o;return o=typeof(n=Ee(n))=="string"||n instanceof xi?t1(this._dataReader,"Transaction.update",s._key,n,r,i):e1(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Kr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Kr(e,this._firestore),r=new Ws(this._firestore);return super.get(e).then(i=>new _r(this._firestore,r,n._key,i._document,new ss(!1,!1),n.converter))}}function F8(t,e,n){t=me(t,Ge);const r=Object.assign(Object.assign({},M8),n);return function(i){if(i.maxAttempts<1)throw new A(x.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new ft;return i.asyncQueue.enqueueAndForget(async()=>{const l=await jB(i);new UB(i.asyncQueue,l,o,s,a).run()}),a.promise}(gt(t),i=>e(new $8(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(){return new Yu("deleteField")}function z8(){return new Zw("serverTimestamp")}function j8(...t){return new d8("arrayUnion",t)}function V8(...t){return new f8("arrayRemove",t)}function B8(t){return new h8("increment",t)}(function(t,e=!0){(function(n){ga=n})(Ri),bi(new wr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ge(new XV(n.getProvider("auth-internal")),new t5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ii(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Hn(TE,"3.10.1",t),Hn(TE,"3.10.1","esm2017")})();const q8="@firebase/firestore-compat",W8="0.3.7";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new A("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){if(typeof Uint8Array>"u")throw new A("unimplemented","Uint8Arrays are not available in this environment.")}function A_(){if(!x5())throw new A("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hu{constructor(e){this._delegate=e}static fromBase64String(e){return A_(),new hu(Zn.fromBase64String(e))}static fromUint8Array(e){return O_(),new hu(Zn.fromUint8Array(e))}toBase64(){return A_(),this._delegate.toBase64()}toUint8Array(){return O_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t){return H8(t,["next","error","complete"])}function H8(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{enableIndexedDbPersistence(e,n){return e8(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return t8(e._delegate)}clearIndexedDbPersistence(e){return n8(e._delegate)}}class MA{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ii||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Er("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){QB(this._delegate,e,n,r)}enableNetwork(){return i8(this._delegate)}disableNetwork(){return s8(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,pA("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return r8(this._delegate)}onSnapshotsInSync(e){return R8(this._delegate,e)}get app(){if(!this._appCompat)throw new A("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new na(this,gA(this._delegate,e))}catch(n){throw Ft(n,"collection()","Firestore.collection()")}}doc(e){try{return new yn(this,Df(this._delegate,e))}catch(n){throw Ft(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $t(this,YB(this._delegate,e))}catch(n){throw Ft(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return F8(this._delegate,n=>e(new LA(this,n)))}batch(){return gt(this._delegate),new $A(new L8(this._delegate,e=>Ju(this._delegate,e)))}loadBundle(e){return o8(this._delegate,e)}namedQuery(e){return a8(this._delegate,e).then(n=>n?new $t(this,n):null)}}class yp extends a1{constructor(e){super(),this.firestore=e}convertBytes(e){return new hu(new Zn(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return yn.forKey(n,this.firestore,null)}}function K8(t){GV(t)}class LA{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new yp(e)}get(e){const n=os(e);return this._delegate.get(n).then(r=>new pu(this._firestore,new _r(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=os(e);return r?(u1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=os(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=os(e);return this._delegate.delete(n),this}}class $A{constructor(e){this._delegate=e}set(e,n,r){const i=os(e);return r?(u1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=os(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=os(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Rs{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new gl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mu(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Rs.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Rs(e,new yp(e),n),i.set(n,s)),s}}Rs.INSTANCES=new WeakMap;class yn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yp(e)}static forPath(e,n,r){if(e.length%2!==0)throw new A("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yn(n,new Ae(n._delegate,r,new M(e)))}static forKey(e,n,r){return new yn(n,new Ae(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new na(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new na(this.firestore,gA(this._delegate,e))}catch(n){throw Ft(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ee(e),e instanceof Ae?vA(this._delegate,e):!1}set(e,n){n=u1("DocumentReference.set",n);try{return n?x_(this._delegate,e,n):x_(this._delegate,e)}catch(r){throw Ft(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?N_(this._delegate,e):N_(this._delegate,e,n,...r)}catch(i){throw Ft(i,"updateDoc()","DocumentReference.update()")}}delete(){return P8(this._delegate)}onSnapshot(...e){const n=FA(e),r=UA(e,i=>new pu(this.firestore,new _r(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return RA(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=C8(this._delegate):(e==null?void 0:e.source)==="server"?n=x8(this._delegate):n=T8(this._delegate),n.then(r=>new pu(this.firestore,new _r(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new yn(this.firestore,e?this._delegate.withConverter(Rs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ft(t,e,n){return t.message=t.message.replace(e,n),t}function FA(t){for(const e of t)if(typeof e=="object"&&!ny(e))return e;return{}}function UA(t,e){var n,r;let i;return ny(t[0])?i=t[0]:ny(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class pu{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new yn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return DA(this._delegate,e._delegate)}}class mu extends pu{data(e){const n=this._delegate.data(e);return KV(n!==void 0),n}}class $t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yp(e)}where(e,n,r){try{return new $t(this.firestore,Lr(this._delegate,g8(e,n,r)))}catch(i){throw Ft(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new $t(this.firestore,Lr(this._delegate,v8(e,n)))}catch(r){throw Ft(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $t(this.firestore,Lr(this._delegate,y8(e)))}catch(n){throw Ft(n,"limit()","Query.limit()")}}limitToLast(e){try{return new $t(this.firestore,Lr(this._delegate,w8(e)))}catch(n){throw Ft(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $t(this.firestore,Lr(this._delegate,S8(...e)))}catch(n){throw Ft(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $t(this.firestore,Lr(this._delegate,b8(...e)))}catch(n){throw Ft(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $t(this.firestore,Lr(this._delegate,E8(...e)))}catch(n){throw Ft(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $t(this.firestore,Lr(this._delegate,_8(...e)))}catch(n){throw Ft(n,"endAt()","Query.endAt()")}}isEqual(e){return yA(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=O8(this._delegate):(e==null?void 0:e.source)==="server"?n=A8(this._delegate):n=N8(this._delegate),n.then(r=>new ry(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=FA(e),r=UA(e,i=>new ry(this.firestore,new Ni(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return RA(this._delegate,n,r)}withConverter(e){return new $t(this.firestore,e?this._delegate.withConverter(Rs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Q8{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new mu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ry{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new $t(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Q8(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new mu(this._firestore,r))})}isEqual(e){return DA(this._delegate,e._delegate)}}class na extends $t{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yn(this.firestore,e):null}doc(e){try{return e===void 0?new yn(this.firestore,Df(this._delegate)):new yn(this.firestore,Df(this._delegate,e))}catch(n){throw Ft(n,"doc()","CollectionReference.doc()")}}add(e){return D8(this._delegate,e).then(n=>new yn(this.firestore,n))}isEqual(e){return vA(this._delegate,e._delegate)}withConverter(e){return new na(this.firestore,e?this._delegate.withConverter(Rs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function os(t){return me(t,Ae)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(...e){this._delegate=new xi(...e)}static documentId(){return new c1(Ye.keyField().canonicalString())}isEqual(e){return e=Ee(e),e instanceof xi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._delegate=e}static serverTimestamp(){const e=z8();return e._methodName="FieldValue.serverTimestamp",new Xi(e)}static delete(){const e=U8();return e._methodName="FieldValue.delete",new Xi(e)}static arrayUnion(...e){const n=j8(...e);return n._methodName="FieldValue.arrayUnion",new Xi(n)}static arrayRemove(...e){const n=V8(...e);return n._methodName="FieldValue.arrayRemove",new Xi(n)}static increment(e){const n=B8(e);return n._methodName="FieldValue.increment",new Xi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8={Firestore:MA,GeoPoint:up,Timestamp:$e,Blob:hu,Transaction:LA,WriteBatch:$A,DocumentReference:yn,DocumentSnapshot:pu,Query:$t,QueryDocumentSnapshot:mu,QuerySnapshot:ry,CollectionReference:na,FieldPath:c1,FieldValue:Xi,setLogLevel:K8,CACHE_SIZE_UNLIMITED:ZB};function X8(t,e){t.INTERNAL.registerComponent(new wr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Y8)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){X8(t,(e,n)=>new MA(e,n,new G8)),t.registerVersion(q8,W8)}J8(Tr);const Z8=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),i=new Date,s=Us(),o=Tr.firestore(),[a,l]=C.useState([]),[u,c]=C.useState(""),d=localStorage.getItem("lastSelectedMovie"),f=JSON.parse(d);C.useEffect(()=>{o.collection("comments").where("movieid","==",f.id.toString()).onSnapshot(S=>{if(S.empty)console.log("No comments found for movie",f.id);else{const E=S.docs.map(b=>b.data());console.log("Comments for movie",f.id,":",E),l(E)}},S=>{console.log("Error getting comments:",S)})},[]);const p=()=>{if(t!=""){const h=i.toString(),g=new Intl.DateTimeFormat("en-US").format(i).toString();console.log("formatDate"+g);const S=f.id.toString();o.collection("comments").doc(h).set({text:t,name:n,time:g,movieid:S,timeStamp:h,thumbsUp:0,thumbsDown:0}).then(()=>{console.log("saved.")}).catch(E=>{console.error("error saving: ",E)}),e("")}};C.useEffect(()=>{const h=Xl(s,g=>{if(g){const S=g.uid;console.log(S),c(g),o.collection("users").doc(S).get().then(b=>{if(b.exists){const _=b.data().username;console.log("Username:",_),r(_)}else console.log("cant fint username")}).catch(b=>{console.log("Error getting document:",b)})}else console.log("user is signed out")});return()=>{h()}},[]);const y=h=>{const{value:g}=h.target;e(g)},v=h=>{if(u){const g=s.currentUser.uid;o.collection("users").doc(g).collection("rates").doc(h).get().then(E=>{if(E.exists)console.log("User has already rated this comment.");else{m(h,"thumbsup"),console.log("thumbs up"+h);const b=o.collection("comments").doc(h);b.get().then(k=>{if(k.exists){const _=k.data(),N={..._,thumbsUp:_.thumbsUp+1};b.set(N).then(()=>{console.log("Thumbs up updated successfully")}).catch(O=>{console.error("Error updating thumbs up:",O)})}else console.error("Comment not found")}).catch(k=>{console.error("Error getting comment document:",k)})}}).catch(E=>{console.error("Error checking user's rating:",E)})}},w=h=>{if(u){const g=s.currentUser.uid;o.collection("users").doc(g).collection("rates").doc(h).get().then(E=>{if(E.exists)console.log("User has already rated this comment.");else{m(h,"thumbsdown"),console.log("thumbs down"+h);const b=o.collection("comments").doc(h);b.get().then(k=>{if(k.exists){const _=k.data(),N={..._,thumbsDown:_.thumbsDown+1};b.set(N).then(()=>{console.log("Thumbs down updated successfully")}).catch(O=>{console.error("Error updating thumbs down:",O)})}else console.error("Comment not found")}).catch(k=>{console.error("Error getting comment document:",k)})}}).catch(E=>{console.error("Error checking user's rating:",E)})}},m=(h,g)=>{if(u!=null){const S=s.currentUser.uid;o.collection("users").doc(S).collection("rates").doc(h).set({rate:g,id:h}).then(()=>{console.log("saved.")}).catch(E=>{console.error("error saving: ",E)})}else return};return H("div",{className:"comments-wrapper",children:[u&&H("div",{children:[I("textarea",{className:"comment-input",value:t,onChange:y,name:"text",type:"text",placeholder:"your comment..."}),I("button",{onClick:p,children:"comment"})]}),I("div",{className:"comments-list",children:a&&a.slice().sort((h,g)=>g.weightedScore-h.weightedScore).map(h=>H("div",{children:[I("span",{children:h.name})," ",h.time,"  ",I(Xn,{onClick:()=>v(h.timeStamp),name:"thumbUp",className:"thumbUp",icon:XF}),h.thumbsUp,I(Xn,{onClick:()=>w(h.timeStamp),className:"thumbDown",name:"thumbDown",icon:QF}),h.thumbsDown," ",I("br",{})," ",h.text]},h.timeStamp))})]})},zA=sn("setToTrue"),eq=sn("setToFalse"),tq={payment:!1},nq=y0(tq,t=>{t.addCase(zA,e=>{e.payment=!0}).addCase(eq,e=>{e.payment=!1})}),jA=sn("show searchdropdown"),VA=sn("hide searchdropdown"),pn={showSearchDropDown:jA,hideSearchDropDown:VA},rq={searchDropDown:null},iq=y0(rq,t=>{t.addCase(jA,(e,n)=>{e.searchDropDown=!0}).addCase(VA,(e,n)=>{e.searchDropDown=!1})});function sq({onCategoryClick:t,handleMovieClick:e}){const n=localStorage.getItem("lastSelectedMovie"),r=JSON.parse(n),[i,s]=C.useState(!1),[o,a]=C.useState(null),[l,u]=C.useState([]),c=C.useRef(null),[d,f]=C.useState([]),p=r.vote_average,[y,v]=C.useState(null),[w,m]=C.useState(!0),[h,g]=C.useState(!1),[S,E]=C.useState(!1),[b,k]=C.useState("Add to watchlist"),_="https://image.tmdb.org/t/p/original",N=oa(X=>X.navigatePayment.payment),O=Us(),B=Tr.firestore();let q=aa(),z=Di();const[et,Ie]=C.useState(""),ke=O.currentUser,tt={EXISTS:"Remove from watchlist",EMPTY:"Add to watchlist"},R=()=>{ke&&B.collection("users").doc(ke.uid).collection("watchlist").where("id","==",r.id).onSnapshot(X=>{if(X.empty)k(tt.EMPTY),Ie("");else{const Or=X.docs[0].id;Ie(Or),k(tt.EXISTS)}})};C.useEffect(()=>{let X;return ke&&(X=R()),()=>{X&&X()}},[ke]),C.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=305f99214975faee28a0f129881c6ec9&language=en-US").then(X=>X.json()).then(X=>{f(X.genres)}).catch(X=>console.log(X)),fetch(`https://api.themoviedb.org/3/movie/${r.id}/videos?api_key=305f99214975faee28a0f129881c6ec9&language=en-US`).then(X=>X.json()).then(X=>{const Tt=X.results.find(Or=>Or.type==="Trailer");Tt&&v(Tt.key)}).catch(X=>console.log(X))},[r.id]),C.useEffect(()=>{Xl(O,X=>{X?(console.log("user hämtats"),a(X)):a(null)})},[]),C.useEffect(()=>{console.log("before async");async function X(){if(o!=null){console.log("aysync funktion user sant"),console.log("user: ",o);const WA=(await B.collection("users").doc(o.uid).collection("purchased").get()).docs.map(HA=>HA.data());u(WA)}}X()},[o]),C.useEffect(()=>{s(!!l.find(X=>X.id===r.id))},[l,r.id]);const J=r.genre_ids.map(X=>{const Tt=d.find(Or=>Or.id===X);return Tt?Tt.name:""}),Z=()=>{q(pn.hideSearchDropDown()),Xl(O,X=>{X?z("/payment/"):(q(zA()),console.log(N),z("/login"))})},ge=()=>{ke!=null?b==tt.EMPTY?B.collection("users").doc(ke.uid).collection("watchlist").doc().set(r).then(()=>{console.log("saved.")}).catch(X=>{console.error("error saving: ",X)}):b===tt.EXISTS&&B.collection("users").doc(ke.uid).collection("watchlist").doc(et).delete().then(()=>{console.log("Document successfully deleted!")}).catch(X=>{console.error("Error removing document: ",X)}):z("/login")},W=()=>{q(pn.hideSearchDropDown()),m(!0),g(!1),E(!1)},F=()=>{q(pn.hideSearchDropDown()),m(!1),g(!0),E(!1)},re=()=>{q(pn.hideSearchDropDown()),m(!1),g(!1),E(!0)},vt=()=>{if(console.log("Play button clicked"),o){console.log("purchasedMovies:",l);const X=l.find(Tt=>Tt.id===r.id);console.log(X),X?(z("/video"),console.log("handlePlayButtonClick function called")):console.log("You haven't purchased this movie yet!")}};return H("div",{className:"movieinfo",children:[H("div",{className:"movieinfocontainer",children:[I("h1",{children:r.title}),H("div",{className:"poster-container",children:[I("img",{className:"poster-img",src:_+r.poster_path,alt:r.title}),H("div",{className:"movie-details",children:[I("div",{className:"movieinfobackdrop",children:I("img",{className:"backdrop-img",src:_+r.backdrop_path})}),H("p",{className:"movie-detail",children:[I("strong",{children:"Genres: "}),J.join(", ")]}),H("p",{className:"movie-detail",children:[I("strong",{children:"Language: "}),r.original_language]}),H("p",{className:"movie-detail",children:[I("strong",{children:"Release: "}),r.release_date]}),H("p",{children:[I("strong",{children:"Rating:"})," ",p]})]})]})]}),I("div",{className:"movieinfobuybtns",children:i?I("button",{onClick:vt,className:"movieinfobtn",children:"Play"}):H(W_,{children:[H("button",{onClick:Z,className:"movieinfobtn",children:[I(Xn,{icon:HF})," Buy"]}),I("button",{className:"movieinfobtn",onClick:ge,children:b})]})}),H("div",{className:"details-nav",children:[I("button",{className:"details-btn",onClick:W,children:"About"}),I("button",{className:"details-btn",onClick:F,children:"Trailer"}),I("button",{className:"details-btn",onClick:re,children:"Comments"})]}),w&&I("div",{className:"info-overview",children:H("p",{className:"overview",children:[I("strong",{children:"Overview"})," ",I("br",{})," ",r.overview]})}),h&&I("div",{className:"traileriframe",children:I("iframe",{className:"trailer",ref:c,src:`https://www.youtube.com/embed/${y}?autoplay=1`,title:"YouTube video player",display:"initial",webkitallowfullscreen:"true",allowFullScreen:!0,allow:"autoplay; encrypted-media"})}),S&&I("div",{children:I(Z8,{})}),H("section",{children:[I($n,{onClick:window.scrollTo(0,0),similar:!1,movie_id:r.id,genre_id:"",title:"Recommended Movies",category:"recommended",handleMovieClick:e,onCategoryClick:t}),I($n,{onClick:window.scrollTo(0,0),similar:!0,movie_id:r.id,genre_id:"",title:"Similar Movies",category:"similar",handleMovieClick:e,onCategoryClick:t})]})]})}const oq=({onCreatingAccountClick:t})=>{const e=Us(),n=Tr.firestore(),r=Di(),i={NORMAL:" _",VALID:"Username is available",EXISTS:"The username is already taken",INVALID:"Username must not contain spaces"},[s,o]=C.useState(i.NORMAL),[a,l]=C.useState(!1),[u,c]=C.useState(!1),d=b=>{const{value:k}=b.target;v(k)?(b.target.setCustomValidity(""),l(!0)):(b.target.setCustomValidity("Please enter a valid email address with a valid domain"),l(!1))},f=b=>{const{value:k}=b.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(k)?(b.target.setCustomValidity(""),c(!0)):b.target.setCustomValidity("The password should be a minimum of 8 characters long and include at least one uppercase letter and one number")},p=()=>{const b=document.getElementById("username-input").value;if(b==="")o(i.NORMAL);else if(y(b))o(i.INVALID);else{const k=b.charAt(0).toUpperCase()+b.slice(1);n.collection("users").where("username","==",k).get().then(_=>{_.empty?o(i.VALID):o(i.EXISTS)})}},y=b=>/\s/.test(b),v=b=>{if(/^\s*$/.test(b))return!1;const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,N=b.substring(b.lastIndexOf("@")+1);return _.test(b)&&N==="gmail.com"||_.test(b)&&N==="hotmail.com"||_.test(b)&&N==="outlook.com"||_.test(b)&&N==="yahoo.com"?!0:!!(_.test(b)&&N==="live.com")},w=()=>{const b=document.getElementById("email-input").value,k=document.getElementById("password-input").value,_=document.getElementById("repeatpassword-input").value;s==i.INVALID?alert("Username must not contain spaces"):s==i.EXISTS?alert("The username is already taken, please enter a new username"):k!=_?alert("The passwords you entered are not identical. Please try again"):(t("creating"),m(b,k))},m=(b,k)=>{const _=document.getElementById("username-input").value;bz(e,b,k).then(N=>{console.log(N.user.uid,"lyckats skapa konto!"),h(_,b)}).catch(N=>{console.log(N)})},h=(b,k)=>{const _=b.charAt(0).toUpperCase()+b.slice(1),N=e.currentUser.uid;n.collection("users").doc(N).set({username:_,email:k,background:"black"}).then(()=>{t("success"),console.log("Document successfully written!"),r(-2)}).catch(O=>{console.error("Error writing document: ",O)})},g=()=>{r(-1)},S=b=>{if(b.key==="Enter"){const k=b.target.nextElementSibling;k&&k.focus()}};return H("div",{className:"sign-up-page",children:[I("div",{className:"fa-icon-container",onClick:g,children:I(Xn,{className:"fa-times-icon",icon:xC})}),I("section",{className:"signup-title",children:I("h1",{children:"Create an account"})}),H("form",{onSubmit:b=>{b.preventDefault(),w()},className:"sign-up-container",children:[I("p",{className:s===i.EXISTS?"text-danger":s===i.VALID?"text-success":s===i.INVALID?"text-danger":"",children:s}),I("input",{type:"text",id:"username-input",placeholder:"Username",onBlur:p,onKeyUp:S,required:!0}),I("input",{type:"text",id:"email-input",placeholder:"Email",onKeyUp:S,onChange:d,required:!0}),I("input",{type:"password",id:"password-input",placeholder:"Password",onKeyUp:S,onChange:f,required:!0}),I("input",{type:"password",id:"repeatpassword-input",placeholder:"Repeat Password",required:!0}),I("section",{className:"signup-button-container",children:I("button",{type:"submit",children:"Sign up"})})]})]})};const aq=({icon:t,...e})=>{const[n,r]=C.useState(!1),i=()=>{r(!n)};return H("div",{className:"password-input-container",children:[I("input",{type:n?"text":"password",...e}),I(Xn,{icon:n?KF:GF,onClick:i,className:"password-input-icon"})]})},lq=()=>{const t=Us(),e=Di(),[n,r]=C.useState(""),[i,s]=C.useState(!1),[o,a]=C.useState(!1),l=oa(p=>p.navigatePayment.payment),u={EMAILMISSING:"Please enter your email",PASSWORDMISSING:"Please enter your password",INVALIDEMAIL:"Invalid email",WRONGPASSWORD:"Wrong password",USERNOTFOUND:"User not found"};return H("div",{className:"login-page",children:[I("div",{className:"fa-icon-container",onClick:()=>{e(-1)},children:I(Xn,{className:"fa-times-icon",icon:xC})}),I("section",{className:"signup-title",children:I("h1",{children:"Sign in"})}),H("section",{className:"sign-up-container",children:[I("p",{className:"error-message",children:n}),I("input",{type:"text",className:i?"email-input red-border":"email-input",id:"userEmail-input",placeholder:"Enter you email"}),I(aq,{id:"userPassword-input",className:o?"password-input red-border":"password-input",name:"password",placeholder:"Enter your password"})]}),I("p",{className:"register-member",onClick:()=>{e("/signup/")},children:"Not registered yet? Register here!"}),I("section",{className:"signup-button-container",children:I("button",{onClick:async()=>{const p=document.getElementById("userEmail-input").value,y=document.getElementById("userPassword-input").value;p===""?(r(u.EMAILMISSING),s(!0)):y===""?(r(u.PASSWORDMISSING),a(!0)):Ez(t,p,y).then(v=>{const w=v.user;console.log(w.uid),l?e("/payment/"):(e(-1),console.log("redux statet payment "+l))}).catch(v=>{v.code==="auth/wrong-password"?(r(u.WRONGPASSWORD),a(!0)):v.code==="auth/invalid-email"?(r(u.INVALIDEMAIL),s(!0)):v.code==="auth/user-not-found"&&r(u.USERNOTFOUND)})},children:"Sign in"})})]})};const uq="/MovieShop/assets/visa-c8c66644.png",cq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAkFBMVEUBb9D///8Aac8AbM8AbtAAas6StuWLteUAZ856peB/qeAof9X6/f1Jj9khd9IAZ83j7vfP4/Xf6faEruK5z+6iwehHi9cGc9EAZM1vod5TktrW5fWIseQAYs3s8/lkmtzD1++tyOqYuuU+hdZAhta/1O5gl9vr8fkjetIAXM0wgNTD1u+yy+ugveZ2p99Nkdo6d/JZAAALwklEQVR4nO2biXLiuhKGjRYiGMesMWJfAoRwksz7v921rW65ZYtzZwi5Vbeqv5qagCRb8m8t3S2RJAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzz/4BwGEnSlPDIaKoqv2sRocyRJkzTUuEtpEuhDZBaC7hAN2vStGC7SZG73YN8Anp1fWqGiU/d3NeoXn3qU/X966lN96ISmXeDtFVvIY1TQW5dkvLVG3Pd9ldQciIb9c9JozK86xGbpN3dJt+UQMw7yK9a38wndkYGE+1HnTorWzDsRCg006tW6uZFV29rcHLftRNBmdnnMCXF3CMLf4M082qpX5g4BkET4+62SXyhu7BL34AX/7RJVrcrvYI0arYJNRDjWxpMIunpohRhMKUaSNENC71VGihZq9v1Hb3WoPNiQQN3t7fvaaAXpJV+1FINOk/QCl33GOgHf6VBJ811QwOZ7BplnAa0pqH2U0mtQSfXD9QAepNj4jWnGoyhexja4Ds06AxNQ4P1qFnEaTCg6X5GoBqM3et6iAbqV0pbgOMs0KDzWg0GGaTdo0FnqwMNzKFVopoP5JEmLW1EAxi3D9HAvEDdDc2D53X1iT5tGZkPxq9HQj5TXoN5lZPnfbj91FANav3f9pOeY17KbU9Bo3BhCjRwo+ERGijtmjHcuhuPhAo0cK3YVBqsl7RhpB8sjaQUd0ANjsIlGWj92FINzCc8zkFaoR3l40pYlJY99/dkYxoMyz77CA0ENPZp8BZqDhrs3Z9zobm8uBL7tgZCEcqrUQNvWlhX8o1qoBRM/l0bPgH2zXni9E6vKqJBtTY8QAMl3KOnMxyaUxNosBr5NwElRqu2BlYTZEQDZdN2P5Cv7pNf7LFRsARvlAG9Yc1GDXCFXuhHaIBr0MdAXmBsZjLQwM0Bm8JQEe6t9dsapGPCcCdrDa5rW7JO9l5hogGMv27D0sV551Pg3LiZKarBAfrsUKoHaGBG/n3hPPRpqAbdmfs7F/LZPW/WrTWI2khjMh8MQRic++Z0XcBxeJZBmxQqW5hmFtrXF1SDFYhX9I/vayBzd6+lqdejNOgH3XdnE+wM9Mt/1kSD6NpINWgQ2gdoIh7D9ouzS97Z0h1wnzfVjIEadN/RpsnX39YAVOz0ykltDQ/k7CTUwEIrMpif5t/QoGEnGtQg7Aew/HQWVaNg7G811cBA7+wMv62BmoHKl6xgBu0eV8sjamCM+zBxJnUqxN0apOfQX/BjIXCP5dWlvqmyUQlM1cs11UB4P++w/6YGuAY1qDSvNXC1LF3T90a054N0STnFNUinM2cGew2woz8Fc6KdRhtVrjC1Bn72Ssff00CpNFrdruwIXgOcM1JoSqQfLN/d9A8QDUb/oOG/T2AFJPYBvPGlIA/g16cGp0Gggco2NPduDcQNo77zSjVQtMMXk1pMg1YYBzV4Xa/xhf2GQhEbqW/rKwdtF8Jdf5FUAxr1+IYGKu7xFEwt0SChHn5Re0wDq6mtnFAbSeHymx6dD0xtZRyLEyPcHYpHCd4v4VMEGvjR8C0NcDhGKEySWgN59b2zXLIj88H4eUEhPlMxiuUMpC7fZKiB8nceHrbllVcZ+mWUYs2WVAOZkEFzrwb4gvZzzxZewsEQDbyhUnpUSawfNCC+czmTafQOh5UJGvjOjUl5IQ3c8VA3ag6X90XQD4LRcKcGCqz1NDPe1LfwfBsliQb6C6vq36NBomFWLVZN2YihkDheKbHFoNbGCN+o9R4ktKEGikR/7tQA16APMiEptD36hmjg14+0NNv/XoPE4KgbFX51I5ZGA0a/NXa5gyGNAn+1sxWBBoWL7eeO+zRA+whiRICBwPFYEA28XJUf7zVQ/xJTFaHfaDBKvDNKhDFVWa8DS4OeZCejj4QhvJENNSCj4T4NBAzF8Zqm+m57zkh12EMr50Ycag1uxNaVD42j72xx4J+0acbWL59wl7nGPrIzQaOwG+XoN+JabDHAeV9sXc77JZNcRpPPima7L+C85S6HlA6ZFC9RHt3HC97XfLnM1VWf3SdfrxR2tuj1+z2lkp677NoIKHxBY2YT99dnu4R+f36HAgUk4hFLVpJmu0R4c+6La7+OUBUS5Apy3yJFkutRBgkpvlCoASarZjbm6IRhGOYnIScNyCmC+sABLSv9yQPZvKA+dhBmGHqEoHFWIThhUMzNzTZARvPsw/d2nmMSzLoRVnJ7cJ+eyIKsc8g+JOfGBb18NnAh4cshzOkvMjjzIfNGVsUWlhf5Ol8FGRNnW5lsMQnSD8eHi0DOH9SkswuapydvYtdRj9W6HZjavMyqraO8nXO6Ot+nfVahA/scUq9aVti+zDD5rhlqAbf0oRrEwjmbmfbu7gFEkAKbeTDR4NwmF1ENimZ/VcZ3NJTzMSgdgmU7o7RPbbed/mL+9XkeqIESOWZMqkqV9tEyeyNAmRYuSVQDcERvaqAi8ZSpjW5Xd9JfD+8GNzWoncDCj0vq8Hxnt74ZpB2bWxqUb/WGBiYeXT3Kxs48MLX/9ZEeo0HlPFtsc7URhK9kWcbQbmjQ2epbGhQ9OK7ByahYdHUnwlNRnuvDZ8R63zn7Ramy/HNvZhZ2xzvDakcQNEifL654zx87QA26kLOFkT60XoPthdaUSQ1hteGZZJTVrEGbw5WU/wmPATR4sY2TBUm5iYwvYonjYuMmZdTgF8RYBcygY4EaTOCogvAb3n6rJRfBKQbfqY6F2UFboBIQ9l3R4j+oQWy2VbZxkio9wgkp0MB3TIiVvSkMTKzQuIJ5JL3U8ZbGq4TNndaap2DZfrE/0P0DUIN182hBiZThonWGJ/tzDRREzdKs7geGVlXvNEyl88PRuFQahH/FC4T5Gd8Zz+IMKb5XyBm1Xb4wGTW4QER0DQGopZ8PJhZMbTCMhgPfD4KqNr+lxEhZCmnj3eG1tIhxHxavGC8/5skPzgchUz8yNJm0u35ZQg0mLijee4FC+wFq8AabknCK4va6cJY+wEv5kCq6+gwXjzeR4hp81BWJIxaY1hHJW2tjLm/aB7dspEUxKUaswfI0j4y2bfvtc9t/rYFfIP2EeFuD0/qWjfR1004sNEjWp0hG2XPOkcal2f/GX6jHgvmqUzd+5o5rME7UDQ1W5f1ujYVy9uu2W1HZqnnEkXh6eEfAOXFEWPrTU3hexjFERzqqwa60a2IajI7ObwQNlkFVLnZsst50B0koR+lVa51//gPpuMcxeviMgGvju7Gm+GeL/41BCXQevp8l2ChtDdLdwlLfeXnC/j1SsL6jBse1qaopa7IWD/XpsvKqAXDsBs4Kyapwlf4Mx0wfvjT8m43kIwYpdkmIJuC68LV1nPPEQhAeNOi/v2O4YGJCDZ7/y3jGW7T6PBz83vyYBjY0YEuUNw7meIoCfk/QtA/qUJqsbSQ8eNmZO33jtnK1GxlgwV7oaxWk67VrxPin5oNp/kzIq8fxRmLX1mbC0yCJ2IkeokG9X3w2VIMvWtXvwidVYd0TqOq3zn7TjDMY7uVpnR/RIKT0nZX/FcO+GNDC/wKkZ/5Qg0QNQET3w5b4ulAsQevobuabDH5KUjP/qbEQUq5Ldg9fdtWeV71IFpban2lQWNpgJm7KTe+bcaR1dFd7IuIHaIbq8THVuAZ1KG8MdXprLn3Vf6hB4qOSpWHzdxrs7I1DRE238+c0sHheaOPNsjVGEzYX+4caJALNhWEdP/gjDaaF0xTTYPP8eFNZxmPrifflatmVwKjqmwL74Npa5poLm8EbjTMTja2fIvNBOqpm0fZ8MDxkj5egMPy+em3mcg6faM+TMyjbz3P3IWv1A5X1qxJ+I0Sc8Rp97EeqKvwFvQ0rf87cJpO8hhecr/Lxm0wVsZ/x6kTr5o9tk3rbqzAHNN0Oa5ehBxL8plpzN81XEO7ckX07ckFlhPx0QIlhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGOZh/AdoZttGpNzlCQAAAABJRU5ErkJggg==",dq="/MovieShop/assets/Mastercard-1520e9af.png";const fq=()=>{const[t,e]=C.useState(0);let n=Di();return C.useEffect(()=>{const r=setInterval(()=>{e(i=>i+20)},400);return setTimeout(()=>{clearInterval(r),n("/movieInfo/")},3e3),()=>{clearInterval(r)}},[]),H("div",{className:"payment_sucsessfull_wrapper",children:["Processing payment..",I("progress",{className:"progress_bar",value:t,max:"100"})]})},hq=({setIsPaymentSuccessful:t,cardName:e,cardNumber:n,expDate:r,cvv:i,setCVV:s,setCardNumber:o,setCardName:a,setExpDate:l,saveMovieToFirebase:u})=>{const[c,d]=C.useState(!1),[f,p]=C.useState(!1),[y,v]=C.useState(!1),[w,m]=C.useState(!1);return I("div",{children:H("form",{onSubmit:k=>{k.preventDefault(),c==!0&&y==!0&&f==!0&&w==!0&&(console.log("you now bought the movie"),t(!0),u()),console.log(c,f,y,w)},children:[H("div",{className:"paymentform",children:["Card Number:",I("input",{type:"text",onChange:k=>{const{value:_}=k.target,N=/^\d{15}$/.test(_);o(_),N?(k.target.setCustomValidity(""),d(!0),console.log("its valid")):(k.target.setCustomValidity("Please enter a valid 15-digit card number"),console.log("its not  valid")),console.log(_)},value:n,placeholder:"Valid Card Number"}),"Exp. Date:",I("input",{type:"text",onChange:k=>{const{value:_}=k.target,N=/^(0[1-9]|1[0-2])\/\d{2}$/.test(_),O=new Date,[B,q]=_.split("/"),z=new Date(+("20"+q),Number(B)-1,1);l(_),N?z<O?(k.target.setCustomValidity("Card has expired"),console.log("Card has expired")):(console.log("Card is still valid"),m(!0),k.target.setCustomValidity("")):(k.target.setCustomValidity("Please submit a correct expiration date"),console.log("Invalid expiration date"))},value:r,placeholder:"MM/YY"}),"cvv/CVC:",I("input",{type:"text",onChange:k=>{const{value:_}=k.target;s(_),/^\d{4}$/.test(_)?(k.target.setCustomValidity(""),console.log("correct cvv for visa and mastercard"),v(!0)):(k.target.setCustomValidity("Please submit a valid cvv/CVC number"),console.log("its not 4 digits"))},value:i,placeholder:"1234"}),"Name on Card:",I("input",{type:"text",onChange:k=>{const{value:_}=k.target,N=/^[a-zA-Z\u00C0-\u00ff]+\s?[a-zA-Z\u00C0-\u00ff]+$/.test(_);a(_),N?(k.target.setCustomValidity(""),p(!0)):k.target.setCustomValidity("Please use only letters")},value:e,placeholder:"Jamile Jonson"})]}),I("button",{className:"submitButton",type:"submit",children:" Buy 199kr"})]})})},pq=()=>{const t=localStorage.getItem("lastSelectedMovie"),e=JSON.parse(t);console.log("payment: "+e.title);const n="https://image.tmdb.org/t/p/original",[r,i]=C.useState(""),[s,o]=C.useState(""),[a,l]=C.useState(""),[u,c]=C.useState(""),[d,f]=C.useState(""),[p,y]=C.useState(!1),[v,w]=C.useState(!1),[m,h]=C.useState(!1),[g,S]=C.useState(!1),[E,b]=C.useState(!1),k=oa(W=>W.navigatePayment.payment),_=Us(),N=Tr.firestore(),O=e;let B=Di();const q=()=>{B(k===!0?"/":-1)},z=W=>{const{value:F}=W.target;f(F),console.log(F)},et=W=>{const{value:F}=W.target,re=/^\d{16}$/.test(F);i(F),re?(W.target.setCustomValidity(""),y(!0),console.log("its valid")):(W.target.setCustomValidity("Please enter a valid 16-digit card number"),console.log("its not  valid")),console.log(F)},Ie=W=>{const{value:F}=W.target,re=/^(0[1-9]|1[0-2])\/\d{2}$/.test(F),vt=new Date,[X,Tt]=F.split("/"),Or=new Date(+("20"+Tt),Number(X)-1,1);o(F),re?Or<vt?(W.target.setCustomValidity("Card has expired"),console.log("Card has expired")):(console.log("Card is still valid"),S(!0),W.target.setCustomValidity("")):(W.target.setCustomValidity("Please submit a correct expiration date"),console.log("Invalid expiration date"))},ke=W=>{const{value:F}=W.target;l(F);const re=/^\d{3}$/.test(F);d=="American Express"||console.log("here we land up if there is not found out to be a Amex card."),re?(W.target.setCustomValidity(""),console.log("correct cvv for amex"),h(!0)):(W.target.setCustomValidity("Please submit a valid 4 digit cvv/CVC number"),console.log("its not 4 numbers"))},tt=W=>{const{value:F}=W.target,re=/^[a-zA-Z\u00C0-\u00ff]+\s?[a-zA-Z\u00C0-\u00ff]+$/.test(F);c(F),re?(console.log("its a string without numbers or symbols"),W.target.setCustomValidity(""),w(!0)):(W.target.setCustomValidity("Please use only letters"),console.log("please use only letters"))},R=()=>{if(_.currentUser!=null){const F=_.currentUser.uid;N.collection("users").doc(F).collection("purchased").doc().set(O).then(()=>{console.log("saved."),J()}).catch(re=>{console.error("error saving: ",re)})}},J=()=>{const W=_.currentUser;console.log("selectedMovie Id",e.id),console.log("user Id",W.uid),N.collection("users").doc(W.uid).collection("watchlist").where("id","==",e.id).get().then(F=>{F.empty||F.forEach(re=>{const vt=re.id;Z(W,vt)})}).catch(F=>{console.log("Error getting documents: ",F)})},Z=(W,F)=>{N.collection("users").doc(W.uid).collection("watchlist").doc(F).delete().then(()=>{console.log("Document successfully deleted!")}).catch(re=>{console.error("Error removing document: ",re)})},ge=W=>{W.preventDefault(),p==!0&&m==!0&&v==!0&&g==!0?(console.log("all fields area valid"),b(!0),console.log(p,v,m,g),R()):(console.log("fields are not valid"),console.log(r,u,a,s))};return n+O.backdrop_path,I("div",{className:"payment-container",children:H("div",{className:E?"div-for-web show":"div-for-web",children:[I("div",{className:"small-info",children:E?H("div",{className:"loading_payment",children:[I("img",{className:"poster_purchased",src:n+O.poster_path})," ",I("br",{}),I(fq,{})," "]}):H("div",{children:["  ",I("h1",{onClick:q,className:"exit-button",children:"x"})," ",I("h2",{children:"Checkout:"}),I("img",{className:"poster",src:n+O.poster_path})," ",I("h2",{children:O.title})," "]})}),E?I(W_,{}):H("div",{className:"payment-form-wrapper",children:[I("input",{type:"checkbox",value:"Visa",name:"cardType",checked:d==="Visa",onChange:z}),I("img",{className:`creditcard ${d==="Visa"?"selected":""}`,src:uq,alt:""}),I("input",{type:"checkbox",value:"Mastercard",name:"cardType",checked:d==="Mastercard",onChange:z}),I("img",{className:`creditcard ${d==="Mastercard"?"selected":""}`,src:dq,alt:""}),I("input",{type:"checkbox",value:"American Express",name:"cardType",checked:d==="American Express",onChange:z}),I("img",{className:`creditcard ${d==="American Express"?"selected":""}`,src:cq,alt:""}),d==="American Express"?I(hq,{setIsPaymentSuccessful:b,saveMovieToFirebase:R,setCardName:c,setCVV:l,setCardNumber:i,setExpDate:o,cardName:u,cardNumber:r,cvv:a,expDate:s}):H("form",{onSubmit:ge,children:[H("div",{className:"paymentform",children:["Card Number:",I("input",{type:"text",onChange:et,value:r,placeholder:"Valid Card Number"}),"Exp. Date:",I("input",{type:"text",onChange:Ie,value:s,placeholder:"MM/YY"}),"cvv/CVC:",I("input",{type:"text",onChange:ke,value:a,placeholder:"123"}),"Name on Card:",I("input",{type:"text",onChange:tt,value:u,placeholder:"Jamile Jonson"})]}),I("button",{type:"submit",className:"submitButton",children:" Buy "}),I("button",{onClick:q,children:"Cancel"})]})]})]})})};var BA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P_=wn.createContext&&wn.createContext(BA),di=globalThis&&globalThis.__assign||function(){return di=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},di.apply(this,arguments)},mq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function qA(t){return t&&t.map(function(e,n){return wn.createElement(e.tag,di({key:n},e.attr),qA(e.child))})}function Zu(t){return function(e){return wn.createElement(gq,di({attr:di({},t.attr)},e),qA(t.child))}}function gq(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=mq(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),wn.createElement("svg",di({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:di(di({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&wn.createElement("title",null,s),t.children)};return P_!==void 0?wn.createElement(P_.Consumer,null,function(n){return e(n)}):e(BA)}function vq(t){return Zu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}const yq=()=>{const t="https://image.tmdb.org/t/p/original",[e,n]=C.useState([]),[r,i]=C.useState([]),[s,o]=C.useState(null),a=Di(),[l,u]=C.useState(!0),[c,d]=C.useState(!0);aa();const f=Tr.firestore(),p=Us();C.useEffect(()=>{Xl(p,m=>{m&&(console.log("user hämtats"),o(m))})},[]),C.useEffect(()=>{async function m(){if(s!=null){const S=await f.collection("users").doc(s.uid).collection("purchased").get();if(S.empty)d(!0);else{d(!1);const E=S.docs.map(b=>b.data());n(E)}}}async function h(){if(s!=null){const S=await f.collection("users").doc(s.uid).collection("watchlist").get();if(S.empty)u(!0);else{u(!1);const E=S.docs.map(b=>b.data());i(E)}}}m(),h()},[s]);const y=m=>{localStorage.setItem("lastSelectedMovie",JSON.stringify(m)),a("/movieinfo/")},v=e&&e.map((m,h)=>H("div",{className:"purchased-item",children:[H("section",{onClick:()=>a("/video"),children:[I("p",{className:"purchased-title",children:"Purchased"}),I("img",{src:t+m.poster_path,alt:m.title,className:"purchased-img"}),I("div",{className:"play-icon",children:I(vq,{size:40})})]}),I("div",{className:"more-info-container",children:I("button",{className:"more-info-button",onClick:()=>y(m),children:"More Info"})})]},h)),w=r&&r.map((m,h)=>I("div",{className:"watchlist-item",children:I("section",{children:I("img",{src:t+m.poster_path,alt:m.title,className:"watchlist-img",onClick:()=>y(m)})})},h));return H("div",{className:"user-page",children:[H("h3",{children:[I("br",{}),"My movies"]}),H("section",{className:c?"":"purchased-container",children:[v,I("p",{children:c?"You haven't bought any movies yet":""})]}),I("h3",{children:"My watchlist"}),H("section",{className:l?"":"watchList-container",children:[w,I("p",{children:l?"You haven't added any movies to your watchlist yet":""})]})]})},wq="/MovieShop/assets/cat-e8cc5612.mp4";function Sq(){return I("div",{className:"video-container",children:H("video",{className:"video",controls:!0,children:[I("source",{src:wq,type:"video/mp4"}),"Your browser does not support the video tag."]})})}const bq="/MovieShop/assets/movie-wheel-d1112624.png";function D_(t){return Zu({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(t)}function Eq(t){return Zu({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.504 13.616l-3.79-3.223c-0.392-0.353-0.811-0.514-1.149-0.499 0.895-1.048 1.435-2.407 1.435-3.893 0-3.314-2.686-6-6-6s-6 2.686-6 6 2.686 6 6 6c1.486 0 2.845-0.54 3.893-1.435-0.016 0.338 0.146 0.757 0.499 1.149l3.223 3.79c0.552 0.613 1.453 0.665 2.003 0.115s0.498-1.452-0.115-2.003zM6 10c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"}}]})(t)}const _q=({searchResults:t,handleSearchClick:e,handleMovieClick:n})=>{const r="https://image.tmdb.org/t/p/w185",s=t.slice(0,6);return H("div",{className:"search_dropdown",children:[s&&s.map((o,a)=>H("div",{className:"dropdown_item",onClick:()=>n(o),children:[I("img",{className:"movie_poster",src:r+o.poster_path}),I("p",{children:o.title})]},a)),I("button",{onClick:e,children:"Show all results..."})]})};function R_(t){return Zu({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}function M_(t){return Zu({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attr:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 0 0 398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 0 0 0-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]})(t)}const Iq=({onSearchClick:t,handleAccountStatus:e,createAccount:n})=>{const r="linear-gradient(to bottom, #d70dff 0%, #d70dff 80%, rgba(0, 0, 0, 0) 100%)",i="linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.8) 80%, rgba(0, 0, 0, 0) 100%",s="linear-gradient(to bottom, #06acb8 0%, #06acb8 80%, rgba(0, 0, 0, 0) 100%)",o="linear-gradient(to bottom, #ff8400 0%, #ff8400 80%, rgba(0, 0, 0, 0) 100%)",a=document.querySelector(".navbar .dropdown ul"),l="305f99214975faee28a0f129881c6ec9",u=Di(),c=aa(),d=Zy(),f=Us(),p=Tr.firestore(),[y,v]=C.useState(null),[w,m]=C.useState(!1);let h=()=>{};const g=oa(F=>F.searchDropdown.searchDropDown),[S,E]=C.useState([]),[b,k]=C.useState("");C.useEffect(()=>{Xl(f,F=>{F?(m(!0),v(F.uid),console.log("currentuser inloggad")):(m(!1),v(null),console.log("inte inloggad"))})},[]),C.useEffect(()=>(n==="success"&&(console.log("userUID,",y),h=p.collection("users").doc(y).onSnapshot(re=>{if(re.exists){console.log("snapshot körs, datan finns");const vt=re.data();_(vt.background),n!="normal"&&e("normal")}})),()=>{w||h()}),[n]),C.useEffect(()=>{let F=()=>{};return y&&n==="normal"&&(console.log("userUID,",y),F=p.collection("users").doc(y).onSnapshot(vt=>{if(vt.exists){console.log("snapshot körs, datan finns");const X=vt.data();_(X.background)}else console.log("snapshot körs, datan finns inte")})),()=>{console.log("unsubscripe körs"),F()}},[y]);const _=F=>{console.log("change background körs"),F==="black"?(console.log("change background to black körs"),document.body.style.backgroundColor="black",document.querySelector("#root").style.backgroundColor="black",a.style.background="black",document.querySelector(".navbar-container").style.background=i):F==="turquoise"?(document.body.style.backgroundColor="#06acb8",document.querySelector("#root").style.backgroundColor="#06acb8",a.style.background="#06acb8",document.querySelector(".navbar-container").style.background=s):F==="pink"?(document.body.style.backgroundColor="#d70dff",document.querySelector("#root").style.backgroundColor="#d70dff",a.style.background="#d70dff",document.querySelector(".navbar-container").style.background=r):F==="orange"&&(document.body.style.backgroundColor="#ff8400",document.querySelector("#root").style.backgroundColor="#ff8400",a.style.background="#ff8400",document.querySelector(".navbar-container").style.background=o)},N=async F=>{const re=F.target.value;if(k(re),re!==""){const X=await(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${l}&query=${re}`)).json();E(X.results),c(pn.showSearchDropDown())}else c(pn.hideSearchDropDown())},O=()=>{k(""),c(pn.hideSearchDropDown()),t(b,S)};C.useEffect(()=>{k("")},[d.pathname]);const B=F=>{c(pn.hideSearchDropDown()),localStorage.setItem("lastSelectedMovie",JSON.stringify(F)),u("/movieinfo/")},q=()=>{c(pn.hideSearchDropDown()),u("/login")},z=()=>{c(pn.hideSearchDropDown()),u("/userpage")},et=F=>{tt(F),ke(F)},Ie=()=>{document.body.style.backgroundColor="black",document.querySelector("#root").style.backgroundColor="black",document.querySelector(".navbar-container").style.background=i,document.querySelector(".dropdown").removeAttribute("open"),h(),u("/"),f.signOut()},ke=F=>{const re=f.currentUser.uid;p.collection("users").doc(re).set({background:F},{merge:!0}).then(()=>{console.log("Document successfully written!")}).catch(vt=>{console.error("Error writing document: ",vt)})},tt=F=>{localStorage.setItem("background",F)},R=()=>{c(pn.hideSearchDropDown()),u("/")},J=(F,re)=>F?re?I(M_,{className:"playbtn-mobile",onClick:z}):I(D_,{className:"user_icon",onClick:q}):re?H("div",{className:"play-button-div",onClick:z,children:[I(M_,{className:"play-icon-computer"}),I("h4",{children:"My movies"})]}):H("div",{className:"user-icon-div",onClick:q,children:[I(D_,{className:"user_icon_computer"}),I("h4",{children:" Log in"})]}),Z=F=>F?I("summary",{role:"button",children:I(R_,{className:"settings_icon"})}):I("summary",{role:"button",children:H("section",{className:"settingsbtn-container",children:[I(R_,{className:"settings-icon"}),I("h4",{children:"Settings"})]})}),[ge,W]=C.useState(!1);return C.useEffect(()=>{const F=()=>{W(window.innerWidth<768)};return window.addEventListener("resize",F),F(),()=>{window.removeEventListener("resize",F)}},[]),H("nav",{className:"navbar",children:[H("section",{className:"navbar-container",children:[I("img",{src:bq,alt:"Movie Wheel Logo",className:"movie_wheel",onClick:R}),H("div",{className:"search_bar",children:[I("input",{type:"text",value:b,placeholder:"Search movies..",onChange:N}),I(Eq,{className:"search_icon",onClick:O})]}),I("section",{className:w?"navbar_section":"navbar_section hide",children:H("details",{className:"dropdown",children:[Z(ge),H("ul",{children:[H("li",{className:"dropdown-title",children:[" ",I("strong",{children:" Change background to:"})]}),I("li",{onClick:()=>et("black"),children:H("a",{className:"li-color",children:[" ",I("p",{className:"black-circle"}),"Black"]})}),I("li",{onClick:()=>et("turquoise"),children:H("a",{className:"li-color",children:[" ",I("p",{className:"white-circle"}),"Turquoise"]})}),I("li",{onClick:()=>et("pink"),children:H("a",{className:"li-color",children:[" ",I("p",{className:"pink-circle"}),"Pink"]})}),I("li",{onClick:()=>et("orange"),children:H("a",{className:"li-color",children:[" ",I("p",{className:"orange-circle"}),"Orange"]})}),I("li",{onClick:Ie,children:I("a",{children:"Sign out"})})]})]})}),J(ge,w)]}),I("section",{children:I("div",{className:`search_dropdown ${g?"":"hide"}`,children:I(_q,{searchResults:S,handleSearchClick:O,handleMovieClick:B})})})]})};const kq=({title:t,searchResults:e,handleMovieClick:n,handleButtonClick:r})=>H("div",{className:"search_results",children:[I("h2",{children:t}),I("div",{className:"movie_grid",children:e&&e.map((i,s)=>I("div",{className:"movie_item",children:I(QT,{movie:i,handleMovieClick:n},i.id)},s))})]});function Tq(){const t=Di();oa(f=>f.navigatePayment.payment);const e=aa(),[n,r]=C.useState([]),[i,s]=C.useState(""),o={NORMAL:"normal",CREATING:"creating",SUCCESS:"success"},[a,l]=C.useState(o.NORMAL),u=(f,p)=>{e(pn.hideSearchDropDown()),s(f),r(p),t("/searchResults")},c=f=>{console.log("handleCreateAccountStatus körs, datan:",f),l(f)},d=f=>{localStorage.setItem("lastSelectedMovie",JSON.stringify(f)),t("/movieinfo/")};return H("div",{className:"App",children:[I(Iq,{onSearchClick:u,handleAccountStatus:c,createAccount:a}),H(mR,{children:[I(tr,{path:"/",element:I(K$,{onCategoryClick:u,handleMovieClick:d})}),I(tr,{path:"/movieinfo",element:I(sq,{onCategoryClick:u,handleMovieClick:d})}),I(tr,{path:"/login",element:I(lq,{})}),I(tr,{path:"/userpage",element:I(yq,{})}),I(tr,{path:"/signup",element:I(oq,{onCreatingAccountClick:c})}),I(tr,{path:"/video",element:I(Sq,{})}),I(tr,{path:"/payment",element:I(pq,{})}),I(tr,{path:"/searchresults",element:I(kq,{title:`Showing results for ${i}`,searchResults:n,handleMovieClick:d})})]})]})}const Cq=VT({movies:G$,navigatePayment:nq,searchDropdown:iq}),xq={apiKey:"AIzaSyDEfI0TLpFbsldRzHb72ZhZsXVKjiuRn1o",authDomain:"movieshop-e53aa.firebaseapp.com",projectId:"movieshop-e53aa",storageBucket:"movieshop-e53aa.appspot.com",messagingSenderId:"711049264258",appId:"1:711049264258:web:2e6a5ce723a1873b7a089b"};Tr.initializeApp(xq);const Nq=$$({reducer:Cq});zm.createRoot(document.getElementById("root")).render(I(wn.StrictMode,{children:I(n$,{store:Nq,children:I(gR,{children:I(Tq,{})})})}));
