function eP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bl={},nP={get exports(){return bl},set exports(t){bl=t}},Uf={},k={},rP={get exports(){return k},set exports(t){k=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),iP=Symbol.for("react.portal"),sP=Symbol.for("react.fragment"),oP=Symbol.for("react.strict_mode"),aP=Symbol.for("react.profiler"),lP=Symbol.for("react.provider"),uP=Symbol.for("react.context"),cP=Symbol.for("react.forward_ref"),dP=Symbol.for("react.suspense"),fP=Symbol.for("react.memo"),hP=Symbol.for("react.lazy"),v1=Symbol.iterator;function pP(t){return t===null||typeof t!="object"?null:(t=v1&&t[v1]||t["@@iterator"],typeof t=="function"?t:null)}var j_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,q_={};function la(t,e,n){this.props=t,this.context=e,this.refs=q_,this.updater=n||j_}la.prototype.isReactComponent={};la.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};la.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W_(){}W_.prototype=la.prototype;function cy(t,e,n){this.props=t,this.context=e,this.refs=q_,this.updater=n||j_}var dy=cy.prototype=new W_;dy.constructor=cy;B_(dy,la.prototype);dy.isPureReactComponent=!0;var y1=Array.isArray,H_=Object.prototype.hasOwnProperty,fy={current:null},G_={key:!0,ref:!0,__self:!0,__source:!0};function K_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H_.call(e,r)&&!G_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wu,type:t,key:s,ref:o,props:i,_owner:fy.current}}function mP(t,e){return{$$typeof:wu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu}function gP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var w1=/\/+/g;function kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gP(""+t.key):e.toString(36)}function qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wu:case iP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kp(o,0):r,y1(i)?(n="",t!=null&&(n=t.replace(w1,"$&/")+"/"),qc(i,e,n,"",function(u){return u})):i!=null&&(hy(i)&&(i=mP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",y1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kp(s,a);o+=qc(s,e,n,l,i)}else if(l=pP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kp(s,a++),o+=qc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(t,e,n){if(t==null)return t;var r=[],i=0;return qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Wc={transition:null},yP={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:fy};de.Children={map:sc,forEach:function(t,e,n){sc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sc(t,function(){e++}),e},toArray:function(t){return sc(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=la;de.Fragment=sP;de.Profiler=aP;de.PureComponent=cy;de.StrictMode=oP;de.Suspense=dP;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yP;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)H_.call(e,l)&&!G_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wu,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:uP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lP,_context:t},t.Consumer=t};de.createElement=K_;de.createFactory=function(t){var e=K_.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:cP,render:t}};de.isValidElement=hy;de.lazy=function(t){return{$$typeof:hP,_payload:{_status:-1,_result:t},_init:vP}};de.memo=function(t,e){return{$$typeof:fP,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return Bt.current.useCallback(t,e)};de.useContext=function(t){return Bt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Bt.current.useEffect(t,e)};de.useId=function(){return Bt.current.useId()};de.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Bt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};de.useRef=function(t){return Bt.current.useRef(t)};de.useState=function(t){return Bt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Bt.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(rP);const bn=V_(k),qm=eP({__proto__:null,default:bn},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wP=k,SP=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),EP=Object.prototype.hasOwnProperty,_P=wP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IP={key:!0,ref:!0,__self:!0,__source:!0};function Q_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)EP.call(e,r)&&!IP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SP,type:t,key:s,ref:o,props:i,_owner:_P.current}}Uf.Fragment=bP;Uf.jsx=Q_;Uf.jsxs=Q_;(function(t){t.exports=Uf})(nP);const Y_=bl.Fragment,I=bl.jsx,q=bl.jsxs;var Wm={},md={},kP={get exports(){return md},set exports(t){md=t}},dn={},Hm={},TP={get exports(){return Hm},set exports(t){Hm=t}},X_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,Q){var Y=R.length;R.push(Q);e:for(;0<Y;){var we=Y-1>>>1,J=R[we];if(0<i(J,Q))R[we]=Q,R[Y]=J,Y=we;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var Q=R[0],Y=R.pop();if(Y!==Q){R[0]=Y;e:for(var we=0,J=R.length,ne=J>>>1;we<ne;){var te=2*(we+1)-1,Je=R[te],Z=te+1,Te=R[Z];if(0>i(Je,Y))Z<J&&0>i(Te,Je)?(R[we]=Te,R[Z]=Y,we=Z):(R[we]=Je,R[te]=Y,we=te);else if(Z<J&&0>i(Te,Y))R[we]=Te,R[Z]=Y,we=Z;else break e}}return Q}function i(R,Q){var Y=R.sortIndex-Q.sortIndex;return Y!==0?Y:R.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=R)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function S(R){if(m=!1,v(R),!y)if(n(l)!==null)y=!0,ye(E);else{var Q=n(u);Q!==null&&Ve(S,Q.startTime-R)}}function E(R,Q){y=!1,m&&(m=!1,g(_),_=-1),p=!0;var Y=f;try{for(v(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||R&&!M());){var we=d.callback;if(typeof we=="function"){d.callback=null,f=d.priorityLevel;var J=we(d.expirationTime<=Q);Q=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),v(Q)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var te=n(u);te!==null&&Ve(S,te.startTime-Q),ne=!1}return ne}finally{d=null,f=Y,p=!1}}var b=!1,T=null,_=-1,C=5,O=-1;function M(){return!(t.unstable_now()-O<C)}function F(){if(T!==null){var R=t.unstable_now();O=R;var Q=!0;try{Q=T(!0,R)}finally{Q?z():(b=!1,T=null)}}else b=!1}var z;if(typeof h=="function")z=function(){h(F)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ve=Ce.port2;Ce.port1.onmessage=F,z=function(){ve.postMessage(null)}}else z=function(){w(F,0)};function ye(R){T=R,b||(b=!0,z())}function Ve(R,Q){_=w(function(){R(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,ye(E))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Y=f;f=Q;try{return R()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,Q){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=f;f=R;try{return Q()}finally{f=Y}},t.unstable_scheduleCallback=function(R,Q,Y){var we=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?we+Y:we):Y=we,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,R={id:c++,callback:Q,priorityLevel:R,startTime:Y,expirationTime:J,sortIndex:-1},Y>we?(R.sortIndex=Y,e(u,R),n(l)===null&&R===n(u)&&(m?(g(_),_=-1):m=!0,Ve(S,Y-we))):(R.sortIndex=J,e(l,R),y||p||(y=!0,ye(E))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var Q=f;return function(){var Y=f;f=Q;try{return R.apply(this,arguments)}finally{f=Y}}}})(X_);(function(t){t.exports=X_})(TP);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_=k,an=Hm;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,El={};function $s(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(El[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,CP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S1={},b1={};function xP(t){return Gm.call(b1,t)?!0:Gm.call(S1,t)?!1:CP.test(t)?b1[t]=!0:(S1[t]=!0,!1)}function NP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OP(t,e,n,r){if(e===null||typeof e>"u"||NP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var py=/[\-:]([a-z])/g;function my(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(py,my);kt[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(py,my);kt[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(py,my);kt[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gy(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OP(e,n,i,r)&&(n=null),r||i===null?xP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oc=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),vy=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),wy=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),nI=Symbol.for("react.offscreen"),E1=Symbol.iterator;function xa(t){return t===null||typeof t!="object"?null:(t=E1&&t[E1]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Tp;function Ba(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Cp=!1;function xp(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ba(t):""}function AP(t){switch(t.tag){case 5:return Ba(t.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case Km:return"Profiler";case vy:return"StrictMode";case Qm:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wy:return e=t.displayName||null,e!==null?e:Xm(t.type)||"Memo";case zr:e=t._payload,t=t._init;try{return Xm(t(e))}catch{}}return null}function PP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(e);case 8:return e===vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DP(t){var e=rI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ac(t){t._valueTracker||(t._valueTracker=DP(t))}function iI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sI(t,e){e=e.checked,e!=null&&gy(t,"checked",e,!1)}function Zm(t,e){sI(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eg(t,e.type,n):e.hasOwnProperty("defaultValue")&&eg(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eg(t,e,n){(e!=="number"||gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qa=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(qa(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function oI(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ng(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lc,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lc=lc||document.createElement("div"),lc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(t){RP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tl[e]=tl[t]})});function uI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tl.hasOwnProperty(t)&&tl[t]?(""+e).trim():e+"px"}function cI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MP=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rg(t,e){if(e){if(MP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function ig(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function Sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var og=null,bo=null,Eo=null;function C1(t){if(t=Eu(t)){if(typeof og!="function")throw Error(D(280));var e=t.stateNode;e&&(e=qf(e),og(t.stateNode,t.type,e))}}function dI(t){bo?Eo?Eo.push(t):Eo=[t]:bo=t}function fI(){if(bo){var t=bo,e=Eo;if(Eo=bo=null,C1(t),e)for(t=0;t<e.length;t++)C1(e[t])}}function hI(t,e){return t(e)}function pI(){}var Np=!1;function mI(t,e,n){if(Np)return t(e,n);Np=!0;try{return hI(t,e,n)}finally{Np=!1,(bo!==null||Eo!==null)&&(pI(),fI())}}function Il(t,e){var n=t.stateNode;if(n===null)return null;var r=qf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var ag=!1;if(mr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{ag=!1}function LP(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nl=!1,vd=null,yd=!1,lg=null,$P={onError:function(t){nl=!0,vd=t}};function FP(t,e,n,r,i,s,o,a,l){nl=!1,vd=null,LP.apply($P,arguments)}function UP(t,e,n,r,i,s,o,a,l){if(FP.apply(this,arguments),nl){if(nl){var u=vd;nl=!1,vd=null}else throw Error(D(198));yd||(yd=!0,lg=u)}}function Fs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x1(t){if(Fs(t)!==t)throw Error(D(188))}function zP(t){var e=t.alternate;if(!e){if(e=Fs(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x1(i),t;if(s===r)return x1(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function vI(t){return t=zP(t),t!==null?yI(t):null}function yI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yI(t);if(e!==null)return e;t=t.sibling}return null}var wI=an.unstable_scheduleCallback,N1=an.unstable_cancelCallback,VP=an.unstable_shouldYield,jP=an.unstable_requestPaint,Ze=an.unstable_now,BP=an.unstable_getCurrentPriorityLevel,by=an.unstable_ImmediatePriority,SI=an.unstable_UserBlockingPriority,wd=an.unstable_NormalPriority,qP=an.unstable_LowPriority,bI=an.unstable_IdlePriority,zf=null,Hn=null;function WP(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(zf,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:KP,HP=Math.log,GP=Math.LN2;function KP(t){return t>>>=0,t===0?32:31-(HP(t)/GP|0)|0}var uc=64,cc=4194304;function Wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wa(a):(s&=o,s!==0&&(r=Wa(s)))}else o=n&~i,o!==0?r=Wa(o):s!==0&&(r=Wa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),i=1<<n,r|=t[n],e&=~i;return r}function QP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=QP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ug(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EI(){var t=uc;return uc<<=1,!(uc&4194240)&&(uc=64),t}function Op(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function XP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function _I(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var II,_y,kI,TI,CI,cg=!1,dc=[],ri=null,ii=null,si=null,kl=new Map,Tl=new Map,Br=[],JP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O1(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Eu(e),e!==null&&_y(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZP(t,e,n,r,i){switch(e){case"focusin":return ri=Oa(ri,t,e,n,r,i),!0;case"dragenter":return ii=Oa(ii,t,e,n,r,i),!0;case"mouseover":return si=Oa(si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kl.set(s,Oa(kl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tl.set(s,Oa(Tl.get(s)||null,t,e,n,r,i)),!0}return!1}function xI(t){var e=es(t.target);if(e!==null){var n=Fs(e);if(n!==null){if(e=n.tag,e===13){if(e=gI(n),e!==null){t.blockedOn=e,CI(t.priority,function(){kI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sg=r,n.target.dispatchEvent(r),sg=null}else return e=Eu(n),e!==null&&_y(e),t.blockedOn=n,!1;e.shift()}return!0}function A1(t,e,n){Hc(t)&&n.delete(e)}function eD(){cg=!1,ri!==null&&Hc(ri)&&(ri=null),ii!==null&&Hc(ii)&&(ii=null),si!==null&&Hc(si)&&(si=null),kl.forEach(A1),Tl.forEach(A1)}function Aa(t,e){t.blockedOn===e&&(t.blockedOn=null,cg||(cg=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,eD)))}function Cl(t){function e(i){return Aa(i,t)}if(0<dc.length){Aa(dc[0],t);for(var n=1;n<dc.length;n++){var r=dc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&Aa(ri,t),ii!==null&&Aa(ii,t),si!==null&&Aa(si,t),kl.forEach(e),Tl.forEach(e),n=0;n<Br.length;n++)r=Br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Br.length&&(n=Br[0],n.blockedOn===null);)xI(n),n.blockedOn===null&&Br.shift()}var _o=xr.ReactCurrentBatchConfig,bd=!0;function tD(t,e,n,r){var i=be,s=_o.transition;_o.transition=null;try{be=1,Iy(t,e,n,r)}finally{be=i,_o.transition=s}}function nD(t,e,n,r){var i=be,s=_o.transition;_o.transition=null;try{be=4,Iy(t,e,n,r)}finally{be=i,_o.transition=s}}function Iy(t,e,n,r){if(bd){var i=dg(t,e,n,r);if(i===null)zp(t,e,r,Ed,n),O1(t,r);else if(ZP(i,t,e,n,r))r.stopPropagation();else if(O1(t,r),e&4&&-1<JP.indexOf(t)){for(;i!==null;){var s=Eu(i);if(s!==null&&II(s),s=dg(t,e,n,r),s===null&&zp(t,e,r,Ed,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var Ed=null;function dg(t,e,n,r){if(Ed=null,t=Sy(r),t=es(t),t!==null)if(e=Fs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ed=t,null}function NI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BP()){case by:return 1;case SI:return 4;case wd:case qP:return 16;case bI:return 536870912;default:return 16}default:return 16}}var Jr=null,ky=null,Gc=null;function OI(){if(Gc)return Gc;var t,e=ky,n=e.length,r,i="value"in Jr?Jr.value:Jr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gc=i.slice(t,1<r?1-r:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fc(){return!0}function P1(){return!1}function fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fc:P1,this.isPropagationStopped=P1,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),e}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ty=fn(ua),bu=We({},ua,{view:0,detail:0}),rD=fn(bu),Ap,Pp,Pa,Vf=We({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(Ap=t.screenX-Pa.screenX,Pp=t.screenY-Pa.screenY):Pp=Ap=0,Pa=t),Ap)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),D1=fn(Vf),iD=We({},Vf,{dataTransfer:0}),sD=fn(iD),oD=We({},bu,{relatedTarget:0}),Dp=fn(oD),aD=We({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),lD=fn(aD),uD=We({},ua,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cD=fn(uD),dD=We({},ua,{data:0}),R1=fn(dD),fD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pD[t])?!!e[t]:!1}function Cy(){return mD}var gD=We({},bu,{key:function(t){if(t.key){var e=fD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vD=fn(gD),yD=We({},Vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=fn(yD),wD=We({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),SD=fn(wD),bD=We({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),ED=fn(bD),_D=We({},Vf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ID=fn(_D),kD=[9,13,27,32],xy=mr&&"CompositionEvent"in window,rl=null;mr&&"documentMode"in document&&(rl=document.documentMode);var TD=mr&&"TextEvent"in window&&!rl,AI=mr&&(!xy||rl&&8<rl&&11>=rl),L1=String.fromCharCode(32),$1=!1;function PI(t,e){switch(t){case"keyup":return kD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function CD(t,e){switch(t){case"compositionend":return DI(e);case"keypress":return e.which!==32?null:($1=!0,L1);case"textInput":return t=e.data,t===L1&&$1?null:t;default:return null}}function xD(t,e){if(io)return t==="compositionend"||!xy&&PI(t,e)?(t=OI(),Gc=ky=Jr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AI&&e.locale!=="ko"?null:e.data;default:return null}}var ND={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ND[t.type]:e==="textarea"}function RI(t,e,n,r){dI(r),e=_d(e,"onChange"),0<e.length&&(n=new Ty("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var il=null,xl=null;function OD(t){WI(t,0)}function jf(t){var e=ao(t);if(iI(e))return t}function AD(t,e){if(t==="change")return e}var MI=!1;if(mr){var Rp;if(mr){var Mp="oninput"in document;if(!Mp){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),Mp=typeof U1.oninput=="function"}Rp=Mp}else Rp=!1;MI=Rp&&(!document.documentMode||9<document.documentMode)}function z1(){il&&(il.detachEvent("onpropertychange",LI),xl=il=null)}function LI(t){if(t.propertyName==="value"&&jf(xl)){var e=[];RI(e,xl,t,Sy(t)),mI(OD,e)}}function PD(t,e,n){t==="focusin"?(z1(),il=e,xl=n,il.attachEvent("onpropertychange",LI)):t==="focusout"&&z1()}function DD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jf(xl)}function RD(t,e){if(t==="click")return jf(e)}function MD(t,e){if(t==="input"||t==="change")return jf(e)}function LD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:LD;function Nl(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gm.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function V1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j1(t,e){var n=V1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V1(n)}}function $I(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$I(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FI(){for(var t=window,e=gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gd(t.document)}return e}function Ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $D(t){var e=FI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$I(n.ownerDocument.documentElement,n)){if(r!==null&&Ny(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j1(n,s);var o=j1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FD=mr&&"documentMode"in document&&11>=document.documentMode,so=null,fg=null,sl=null,hg=!1;function B1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||so==null||so!==gd(r)||(r=so,"selectionStart"in r&&Ny(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sl&&Nl(sl,r)||(sl=r,r=_d(fg,"onSelect"),0<r.length&&(e=new Ty("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=so)))}function hc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},Lp={},UI={};mr&&(UI=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Bf(t){if(Lp[t])return Lp[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UI)return Lp[t]=e[n];return t}var zI=Bf("animationend"),VI=Bf("animationiteration"),jI=Bf("animationstart"),BI=Bf("transitionend"),qI=new Map,q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){qI.set(t,e),$s(e,[t])}for(var $p=0;$p<q1.length;$p++){var Fp=q1[$p],UD=Fp.toLowerCase(),zD=Fp[0].toUpperCase()+Fp.slice(1);Di(UD,"on"+zD)}Di(zI,"onAnimationEnd");Di(VI,"onAnimationIteration");Di(jI,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(BI,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function W1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UP(r,e,void 0,t),t.currentTarget=null}function WI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;W1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;W1(i,a,u),s=l}}}if(yd)throw t=lg,yd=!1,lg=null,t}function Ne(t,e){var n=e[yg];n===void 0&&(n=e[yg]=new Set);var r=t+"__bubble";n.has(r)||(HI(e,t,2,!1),n.add(r))}function Up(t,e,n){var r=0;e&&(r|=4),HI(n,t,r,e)}var pc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[pc]){t[pc]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(VD.has(n)||Up(n,!1,t),Up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pc]||(e[pc]=!0,Up("selectionchange",!1,e))}}function HI(t,e,n,r){switch(NI(e)){case 1:var i=tD;break;case 4:i=nD;break;default:i=Iy}n=i.bind(null,e,n,t),i=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=es(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mI(function(){var u=s,c=Sy(n),d=[];e:{var f=qI.get(t);if(f!==void 0){var p=Ty,y=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":p=vD;break;case"focusin":y="focus",p=Dp;break;case"focusout":y="blur",p=Dp;break;case"beforeblur":case"afterblur":p=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=D1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=sD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=SD;break;case zI:case VI:case jI:p=lD;break;case BI:p=ED;break;case"scroll":p=rD;break;case"wheel":p=ID;break;case"copy":case"cut":case"paste":p=cD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=M1}var m=(e&4)!==0,w=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var h=u,v;h!==null;){v=h;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,g!==null&&(S=Il(h,g),S!=null&&m.push(Al(h,S,v)))),w)break;h=h.return}0<m.length&&(f=new p(f,y,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==sg&&(y=n.relatedTarget||n.fromElement)&&(es(y)||y[gr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?es(y):null,y!==null&&(w=Fs(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=D1,S="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(m=M1,S="onPointerLeave",g="onPointerEnter",h="pointer"),w=p==null?f:ao(p),v=y==null?f:ao(y),f=new m(S,h+"leave",p,n,c),f.target=w,f.relatedTarget=v,S=null,es(c)===u&&(m=new m(g,h+"enter",y,n,c),m.target=v,m.relatedTarget=w,S=m),w=S,p&&y)t:{for(m=p,g=y,h=0,v=m;v;v=Ys(v))h++;for(v=0,S=g;S;S=Ys(S))v++;for(;0<h-v;)m=Ys(m),h--;for(;0<v-h;)g=Ys(g),v--;for(;h--;){if(m===g||g!==null&&m===g.alternate)break t;m=Ys(m),g=Ys(g)}m=null}else m=null;p!==null&&H1(d,f,p,m,!1),y!==null&&w!==null&&H1(d,w,y,m,!0)}}e:{if(f=u?ao(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=AD;else if(F1(f))if(MI)E=MD;else{E=DD;var b=PD}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=RD);if(E&&(E=E(t,u))){RI(d,E,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&eg(f,"number",f.value)}switch(b=u?ao(u):window,t){case"focusin":(F1(b)||b.contentEditable==="true")&&(so=b,fg=u,sl=null);break;case"focusout":sl=fg=so=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,B1(d,n,c);break;case"selectionchange":if(FD)break;case"keydown":case"keyup":B1(d,n,c)}var T;if(xy)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else io?PI(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(AI&&n.locale!=="ko"&&(io||_!=="onCompositionStart"?_==="onCompositionEnd"&&io&&(T=OI()):(Jr=c,ky="value"in Jr?Jr.value:Jr.textContent,io=!0)),b=_d(u,_),0<b.length&&(_=new R1(_,t,null,n,c),d.push({event:_,listeners:b}),T?_.data=T:(T=DI(n),T!==null&&(_.data=T)))),(T=TD?CD(t,n):xD(t,n))&&(u=_d(u,"onBeforeInput"),0<u.length&&(c=new R1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}WI(d,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _d(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Il(t,n),s!=null&&r.unshift(Al(t,s,i)),s=Il(t,e),s!=null&&r.push(Al(t,s,i))),t=t.return}return r}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function H1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Il(n,s),l!=null&&o.unshift(Al(n,l,a))):i||(l=Il(n,s),l!=null&&o.push(Al(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jD=/\r\n?/g,BD=/\u0000|\uFFFD/g;function G1(t){return(typeof t=="string"?t:""+t).replace(jD,`
`).replace(BD,"")}function mc(t,e,n){if(e=G1(e),G1(t)!==e&&n)throw Error(D(425))}function Id(){}var pg=null,mg=null;function gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,qD=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(t){return K1.resolve(null).then(t).catch(HD)}:vg;function HD(t){setTimeout(function(){throw t})}function Vp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Q1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ca=Math.random().toString(36).slice(2),Vn="__reactFiber$"+ca,Pl="__reactProps$"+ca,gr="__reactContainer$"+ca,yg="__reactEvents$"+ca,GD="__reactListeners$"+ca,KD="__reactHandles$"+ca;function es(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Q1(t);t!==null;){if(n=t[Vn])return n;t=Q1(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[Vn]||t[gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function qf(t){return t[Pl]||null}var wg=[],lo=-1;function Ri(t){return{current:t}}function Pe(t){0>lo||(t.current=wg[lo],wg[lo]=null,lo--)}function xe(t,e){lo++,wg[lo]=t.current,t.current=e}var mi={},Mt=Ri(mi),Jt=Ri(!1),gs=mi;function $o(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function kd(){Pe(Jt),Pe(Mt)}function Y1(t,e,n){if(Mt.current!==mi)throw Error(D(168));xe(Mt,e),xe(Jt,n)}function GI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,PP(t)||"Unknown",i));return We({},n,r)}function Td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,gs=Mt.current,xe(Mt,t),xe(Jt,Jt.current),!0}function X1(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=GI(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Pe(Jt),Pe(Mt),xe(Mt,t)):Pe(Jt),xe(Jt,n)}var ar=null,Wf=!1,jp=!1;function KI(t){ar===null?ar=[t]:ar.push(t)}function QD(t){Wf=!0,KI(t)}function Mi(){if(!jp&&ar!==null){jp=!0;var t=0,e=be;try{var n=ar;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ar=null,Wf=!1}catch(i){throw ar!==null&&(ar=ar.slice(t+1)),wI(by,Mi),i}finally{be=e,jp=!1}}return null}var uo=[],co=0,Cd=null,xd=0,gn=[],vn=0,vs=null,lr=1,ur="";function qi(t,e){uo[co++]=xd,uo[co++]=Cd,Cd=t,xd=e}function QI(t,e,n){gn[vn++]=lr,gn[vn++]=ur,gn[vn++]=vs,vs=t;var r=lr;t=ur;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,lr=1<<32-Dn(e)+i|n<<i|r,ur=s+t}else lr=1<<s|n<<i|r,ur=t}function Oy(t){t.return!==null&&(qi(t,1),QI(t,1,0))}function Ay(t){for(;t===Cd;)Cd=uo[--co],uo[co]=null,xd=uo[--co],uo[co]=null;for(;t===vs;)vs=gn[--vn],gn[vn]=null,ur=gn[--vn],gn[vn]=null,lr=gn[--vn],gn[vn]=null}var sn=null,rn=null,$e=!1,Nn=null;function YI(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vs!==null?{id:lr,overflow:ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bg(t){if($e){var e=rn;if(e){var n=e;if(!J1(t,e)){if(Sg(t))throw Error(D(418));e=oi(n.nextSibling);var r=sn;e&&J1(t,e)?YI(r,n):(t.flags=t.flags&-4097|2,$e=!1,sn=t)}}else{if(Sg(t))throw Error(D(418));t.flags=t.flags&-4097|2,$e=!1,sn=t}}}function Z1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function gc(t){if(t!==sn)return!1;if(!$e)return Z1(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gg(t.type,t.memoizedProps)),e&&(e=rn)){if(Sg(t))throw XI(),Error(D(418));for(;e;)YI(t,e),e=oi(e.nextSibling)}if(Z1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?oi(t.stateNode.nextSibling):null;return!0}function XI(){for(var t=rn;t;)t=oi(t.nextSibling)}function Fo(){rn=sn=null,$e=!1}function Py(t){Nn===null?Nn=[t]:Nn.push(t)}var YD=xr.ReactCurrentBatchConfig;function Cn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nd=Ri(null),Od=null,fo=null,Dy=null;function Ry(){Dy=fo=Od=null}function My(t){var e=Nd.current;Pe(Nd),t._currentValue=e}function Eg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Io(t,e){Od=t,Dy=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(Dy!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Od===null)throw Error(D(308));fo=t,Od.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var ts=null;function Ly(t){ts===null?ts=[t]:ts.push(t)}function JI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ly(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vr=!1;function $y(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Ly(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}function eS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ad(t,e,n,r){var i=t.updateQueue;Vr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(f=e,p=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=We({},d,f);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ws|=o,t.lanes=o,t.memoizedState=d}}function tS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var ek=new J_.Component().refs;function _g(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hf={isMounted:function(t){return(t=t._reactInternals)?Fs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=ui(t),s=hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(Rn(e,t,i,r),Qc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=ui(t),s=hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(Rn(e,t,i,r),Qc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=ui(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ai(t,i,r),e!==null&&(Rn(e,t,r,n),Qc(e,t,r))}};function nS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Nl(n,r)||!Nl(i,s):!0}function tk(t,e,n){var r=!1,i=mi,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Zt(e)?gs:Mt.current,r=e.contextTypes,s=(r=r!=null)?$o(t,i):mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function rS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hf.enqueueReplaceState(e,e.state,null)}function Ig(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ek,$y(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Zt(e)?gs:Mt.current,i.context=$o(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_g(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hf.enqueueReplaceState(i,i.state,null),Ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===ek&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function vc(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iS(t){var e=t._init;return e(t._payload)}function nk(t){function e(g,h){if(t){var v=g.deletions;v===null?(g.deletions=[h],g.flags|=16):v.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function i(g,h){return g=ci(g,h),g.index=0,g.sibling=null,g}function s(g,h,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<h?(g.flags|=2,h):v):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,v,S){return h===null||h.tag!==6?(h=Qp(v,g.mode,S),h.return=g,h):(h=i(h,v),h.return=g,h)}function l(g,h,v,S){var E=v.type;return E===ro?c(g,h,v.props.children,S,v.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===zr&&iS(E)===h.type)?(S=i(h,v.props),S.ref=Da(g,h,v),S.return=g,S):(S=td(v.type,v.key,v.props,null,g.mode,S),S.ref=Da(g,h,v),S.return=g,S)}function u(g,h,v,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Yp(v,g.mode,S),h.return=g,h):(h=i(h,v.children||[]),h.return=g,h)}function c(g,h,v,S,E){return h===null||h.tag!==7?(h=cs(v,g.mode,S,E),h.return=g,h):(h=i(h,v),h.return=g,h)}function d(g,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Qp(""+h,g.mode,v),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case oc:return v=td(h.type,h.key,h.props,null,g.mode,v),v.ref=Da(g,null,h),v.return=g,v;case no:return h=Yp(h,g.mode,v),h.return=g,h;case zr:var S=h._init;return d(g,S(h._payload),v)}if(qa(h)||xa(h))return h=cs(h,g.mode,v,null),h.return=g,h;vc(g,h)}return null}function f(g,h,v,S){var E=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(g,h,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oc:return v.key===E?l(g,h,v,S):null;case no:return v.key===E?u(g,h,v,S):null;case zr:return E=v._init,f(g,h,E(v._payload),S)}if(qa(v)||xa(v))return E!==null?null:c(g,h,v,S,null);vc(g,v)}return null}function p(g,h,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(v)||null,a(h,g,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case oc:return g=g.get(S.key===null?v:S.key)||null,l(h,g,S,E);case no:return g=g.get(S.key===null?v:S.key)||null,u(h,g,S,E);case zr:var b=S._init;return p(g,h,v,b(S._payload),E)}if(qa(S)||xa(S))return g=g.get(v)||null,c(h,g,S,E,null);vc(h,S)}return null}function y(g,h,v,S){for(var E=null,b=null,T=h,_=h=0,C=null;T!==null&&_<v.length;_++){T.index>_?(C=T,T=null):C=T.sibling;var O=f(g,T,v[_],S);if(O===null){T===null&&(T=C);break}t&&T&&O.alternate===null&&e(g,T),h=s(O,h,_),b===null?E=O:b.sibling=O,b=O,T=C}if(_===v.length)return n(g,T),$e&&qi(g,_),E;if(T===null){for(;_<v.length;_++)T=d(g,v[_],S),T!==null&&(h=s(T,h,_),b===null?E=T:b.sibling=T,b=T);return $e&&qi(g,_),E}for(T=r(g,T);_<v.length;_++)C=p(T,g,_,v[_],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?_:C.key),h=s(C,h,_),b===null?E=C:b.sibling=C,b=C);return t&&T.forEach(function(M){return e(g,M)}),$e&&qi(g,_),E}function m(g,h,v,S){var E=xa(v);if(typeof E!="function")throw Error(D(150));if(v=E.call(v),v==null)throw Error(D(151));for(var b=E=null,T=h,_=h=0,C=null,O=v.next();T!==null&&!O.done;_++,O=v.next()){T.index>_?(C=T,T=null):C=T.sibling;var M=f(g,T,O.value,S);if(M===null){T===null&&(T=C);break}t&&T&&M.alternate===null&&e(g,T),h=s(M,h,_),b===null?E=M:b.sibling=M,b=M,T=C}if(O.done)return n(g,T),$e&&qi(g,_),E;if(T===null){for(;!O.done;_++,O=v.next())O=d(g,O.value,S),O!==null&&(h=s(O,h,_),b===null?E=O:b.sibling=O,b=O);return $e&&qi(g,_),E}for(T=r(g,T);!O.done;_++,O=v.next())O=p(T,g,_,O.value,S),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?_:O.key),h=s(O,h,_),b===null?E=O:b.sibling=O,b=O);return t&&T.forEach(function(F){return e(g,F)}),$e&&qi(g,_),E}function w(g,h,v,S){if(typeof v=="object"&&v!==null&&v.type===ro&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oc:e:{for(var E=v.key,b=h;b!==null;){if(b.key===E){if(E=v.type,E===ro){if(b.tag===7){n(g,b.sibling),h=i(b,v.props.children),h.return=g,g=h;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===zr&&iS(E)===b.type){n(g,b.sibling),h=i(b,v.props),h.ref=Da(g,b,v),h.return=g,g=h;break e}n(g,b);break}else e(g,b);b=b.sibling}v.type===ro?(h=cs(v.props.children,g.mode,S,v.key),h.return=g,g=h):(S=td(v.type,v.key,v.props,null,g.mode,S),S.ref=Da(g,h,v),S.return=g,g=S)}return o(g);case no:e:{for(b=v.key;h!==null;){if(h.key===b)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(g,h.sibling),h=i(h,v.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=Yp(v,g.mode,S),h.return=g,g=h}return o(g);case zr:return b=v._init,w(g,h,b(v._payload),S)}if(qa(v))return y(g,h,v,S);if(xa(v))return m(g,h,v,S);vc(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(g,h.sibling),h=i(h,v),h.return=g,g=h):(n(g,h),h=Qp(v,g.mode,S),h.return=g,g=h),o(g)):n(g,h)}return w}var Uo=nk(!0),rk=nk(!1),_u={},Gn=Ri(_u),Dl=Ri(_u),Rl=Ri(_u);function ns(t){if(t===_u)throw Error(D(174));return t}function Fy(t,e){switch(xe(Rl,e),xe(Dl,t),xe(Gn,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ng(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ng(e,t)}Pe(Gn),xe(Gn,e)}function zo(){Pe(Gn),Pe(Dl),Pe(Rl)}function ik(t){ns(Rl.current);var e=ns(Gn.current),n=ng(e,t.type);e!==n&&(xe(Dl,t),xe(Gn,n))}function Uy(t){Dl.current===t&&(Pe(Gn),Pe(Dl))}var Be=Ri(0);function Pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function zy(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var Yc=xr.ReactCurrentDispatcher,qp=xr.ReactCurrentBatchConfig,ys=0,qe=null,st=null,dt=null,Dd=!1,ol=!1,Ml=0,XD=0;function xt(){throw Error(D(321))}function Vy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function jy(t,e,n,r,i,s){if(ys=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?tR:nR,t=n(r,i),ol){s=0;do{if(ol=!1,Ml=0,25<=s)throw Error(D(301));s+=1,dt=st=null,e.updateQueue=null,Yc.current=rR,t=n(r,i)}while(ol)}if(Yc.current=Rd,e=st!==null&&st.next!==null,ys=0,dt=st=qe=null,Dd=!1,e)throw Error(D(300));return t}function By(){var t=Ml!==0;return Ml=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=t:dt=dt.next=t,dt}function In(){if(st===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=dt===null?qe.memoizedState:dt.next;if(e!==null)dt=e,st=t;else{if(t===null)throw Error(D(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?qe.memoizedState=dt=t:dt=dt.next=t}return dt}function Ll(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=In(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ys&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,qe.lanes|=c,ws|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Mn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hp(t){var e=In(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sk(){}function ok(t,e){var n=qe,r=In(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,qy(uk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,$l(9,lk.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(D(349));ys&30||ak(n,e,i)}return i}function ak(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lk(t,e,n,r){e.value=n,e.getSnapshot=r,ck(e)&&dk(t)}function uk(t,e,n){return n(function(){ck(e)&&dk(t)})}function ck(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function dk(t){var e=vr(t,1);e!==null&&Rn(e,t,1,-1)}function sS(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=eR.bind(null,qe,t),[e.memoizedState,t]}function $l(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fk(){return In().memoizedState}function Xc(t,e,n,r){var i=Un();qe.flags|=t,i.memoizedState=$l(1|e,n,void 0,r===void 0?null:r)}function Gf(t,e,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Vy(r,o.deps)){i.memoizedState=$l(e,n,s,r);return}}qe.flags|=t,i.memoizedState=$l(1|e,n,s,r)}function oS(t,e){return Xc(8390656,8,t,e)}function qy(t,e){return Gf(2048,8,t,e)}function hk(t,e){return Gf(4,2,t,e)}function pk(t,e){return Gf(4,4,t,e)}function mk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gk(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4,4,mk.bind(null,e,t),n)}function Wy(){}function vk(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yk(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wk(t,e,n){return ys&21?(Mn(n,e)||(n=EI(),qe.lanes|=n,ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function JD(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{be=n,qp.transition=r}}function Sk(){return In().memoizedState}function ZD(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bk(t))Ek(e,n);else if(n=JI(t,e,n,r),n!==null){var i=Vt();Rn(n,t,r,i),_k(n,e,r)}}function eR(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bk(t))Ek(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=JI(t,e,i,r),n!==null&&(i=Vt(),Rn(n,t,r,i),_k(n,e,r))}}function bk(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function Ek(t,e){ol=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _k(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}var Rd={readContext:_n,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},tR={readContext:_n,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:oS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,mk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZD.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:sS,useDebugValue:Wy,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=sS(!1),e=t[0];return t=JD.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Un();if($e){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ht===null)throw Error(D(349));ys&30||ak(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,oS(uk.bind(null,r,s,t),[t]),r.flags|=2048,$l(9,lk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=ht.identifierPrefix;if($e){var n=ur,r=lr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=XD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nR={readContext:_n,useCallback:vk,useContext:_n,useEffect:qy,useImperativeHandle:gk,useInsertionEffect:hk,useLayoutEffect:pk,useMemo:yk,useReducer:Wp,useRef:fk,useState:function(){return Wp(Ll)},useDebugValue:Wy,useDeferredValue:function(t){var e=In();return wk(e,st.memoizedState,t)},useTransition:function(){var t=Wp(Ll)[0],e=In().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:ok,useId:Sk,unstable_isNewReconciler:!1},rR={readContext:_n,useCallback:vk,useContext:_n,useEffect:qy,useImperativeHandle:gk,useInsertionEffect:hk,useLayoutEffect:pk,useMemo:yk,useReducer:Hp,useRef:fk,useState:function(){return Hp(Ll)},useDebugValue:Wy,useDeferredValue:function(t){var e=In();return st===null?e.memoizedState=t:wk(e,st.memoizedState,t)},useTransition:function(){var t=Hp(Ll)[0],e=In().memoizedState;return[t,e]},useMutableSource:sk,useSyncExternalStore:ok,useId:Sk,unstable_isNewReconciler:!1};function Vo(t,e){try{var n="",r=e;do n+=AP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iR=typeof WeakMap=="function"?WeakMap:Map;function Ik(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,Mg=r),kg(t,e)},n}function kk(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kg(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yR.bind(null,t,e,n),e.then(t,t))}function lS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,ai(n,e,1))),n.lanes|=1),t)}var sR=xr.ReactCurrentOwner,Kt=!1;function $t(t,e,n,r){e.child=t===null?rk(e,null,n,r):Uo(e,t.child,n,r)}function cS(t,e,n,r,i){n=n.render;var s=e.ref;return Io(e,i),r=jy(t,e,n,r,s,i),n=By(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):($e&&n&&Oy(e),e.flags|=1,$t(t,e,r,i),e.child)}function dS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Tk(t,e,s,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(o,r)&&t.ref===e.ref)return yr(t,e,i)}return e.flags|=1,t=ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function Tk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Nl(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,yr(t,e,i)}return Tg(t,e,n,r,i)}function Ck(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(po,nn),nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(po,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(po,nn),nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(po,nn),nn|=r;return $t(t,e,i,n),e.child}function xk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tg(t,e,n,r,i){var s=Zt(n)?gs:Mt.current;return s=$o(e,s),Io(e,i),n=jy(t,e,n,r,s,i),r=By(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yr(t,e,i)):($e&&r&&Oy(e),e.flags|=1,$t(t,e,n,i),e.child)}function fS(t,e,n,r,i){if(Zt(n)){var s=!0;Td(e)}else s=!1;if(Io(e,i),e.stateNode===null)Jc(t,e),tk(e,n,r),Ig(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Zt(n)?gs:Mt.current,u=$o(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&rS(e,o,r,u),Vr=!1;var f=e.memoizedState;o.state=f,Ad(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Jt.current||Vr?(typeof c=="function"&&(_g(e,n,c,r),l=e.memoizedState),(a=Vr||nS(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Zt(n)?gs:Mt.current,l=$o(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&rS(e,o,r,l),Vr=!1,f=e.memoizedState,o.state=f,Ad(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||Jt.current||Vr?(typeof p=="function"&&(_g(e,n,p,r),y=e.memoizedState),(u=Vr||nS(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cg(t,e,n,r,s,i)}function Cg(t,e,n,r,i,s){xk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&X1(e,n,!1),yr(t,e,s);r=e.stateNode,sR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Uo(e,t.child,null,s),e.child=Uo(e,null,a,s)):$t(t,e,a,s),e.memoizedState=r.state,i&&X1(e,n,!0),e.child}function Nk(t){var e=t.stateNode;e.pendingContext?Y1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Y1(t,e.context,!1),Fy(t,e.containerInfo)}function hS(t,e,n,r,i){return Fo(),Py(i),e.flags|=256,$t(t,e,n,r),e.child}var xg={dehydrated:null,treeContext:null,retryLane:0};function Ng(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ok(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Be,i&1),t===null)return bg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,r,0,null),t=cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ng(n),e.memoizedState=xg,t):Hy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return oR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ci(a,s):(s=cs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ng(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xg,r}return s=t.child,t=s.sibling,r=ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hy(t,e){return e=Yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yc(t,e,n,r){return r!==null&&Py(r),Uo(e,t.child,null,n),t=Hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Gp(Error(D(422))),yc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yf({mode:"visible",children:r.children},i,0,null),s=cs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Uo(e,t.child,null,o),e.child.memoizedState=Ng(o),e.memoizedState=xg,s);if(!(e.mode&1))return yc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(D(419)),r=Gp(s,r,void 0),yc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),Rn(r,t,i,-1))}return Jy(),r=Gp(Error(D(421))),yc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=oi(i.nextSibling),sn=e,$e=!0,Nn=null,t!==null&&(gn[vn++]=lr,gn[vn++]=ur,gn[vn++]=vs,lr=t.id,ur=t.overflow,vs=e),e=Hy(e,r.children),e.flags|=4096,e)}function pS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Eg(t.return,e,n)}function Kp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ak(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if($t(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pS(t,n,e);else if(t.tag===19)pS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Kp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Kp(e,!0,n,null,s);break;case"together":Kp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function aR(t,e,n){switch(e.tag){case 3:Nk(e),Fo();break;case 5:ik(e);break;case 1:Zt(e.type)&&Td(e);break;case 4:Fy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Ok(t,e,n):(xe(Be,Be.current&1),t=yr(t,e,n),t!==null?t.sibling:null);xe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ak(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,Ck(t,e,n)}return yr(t,e,n)}var Pk,Og,Dk,Rk;Pk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};Dk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ns(Gn.current);var s=null;switch(n){case"input":i=Jm(t,i),r=Jm(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=tg(t,i),r=tg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Id)}rg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Rk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ra(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lR(t,e,n){var r=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return Zt(e.type)&&kd(),Nt(e),null;case 3:return r=e.stateNode,zo(),Pe(Jt),Pe(Mt),zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(Fg(Nn),Nn=null))),Og(t,e),Nt(e),null;case 5:Uy(e);var i=ns(Rl.current);if(n=e.type,t!==null&&e.stateNode!=null)Dk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Nt(e),null}if(t=ns(Gn.current),gc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[Pl]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Ha.length;i++)Ne(Ha[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":_1(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":k1(r,s),Ne("invalid",r)}rg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&mc(r.textContent,a,t),i=["children",""+a]):El.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":ac(r),I1(r,s,!0);break;case"textarea":ac(r),T1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Id)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Pl]=r,Pk(t,e,!1,!1),e.stateNode=t;e:{switch(o=ig(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ha.length;i++)Ne(Ha[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":_1(t,r),i=Jm(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":k1(t,r),i=tg(t,r),Ne("invalid",t);break;default:i=r}rg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?cI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_l(t,l):typeof l=="number"&&_l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&gy(t,s,l,o))}switch(n){case"input":ac(t),I1(t,r,!1);break;case"textarea":ac(t),T1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?So(t,!!r.multiple,s,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)Rk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=ns(Rl.current),ns(Gn.current),gc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return Nt(e),null;case 13:if(Pe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&rn!==null&&e.mode&1&&!(e.flags&128))XI(),Fo(),e.flags|=98560,s=!1;else if(s=gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Vn]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Nn!==null&&(Fg(Nn),Nn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?ot===0&&(ot=3):Jy())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return zo(),Og(t,e),t===null&&Ol(e.stateNode.containerInfo),Nt(e),null;case 10:return My(e.type._context),Nt(e),null;case 17:return Zt(e.type)&&kd(),Nt(e),null;case 19:if(Pe(Be),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ra(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Pd(t),o!==null){for(e.flags|=128,Ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ze()>jo&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=Pd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!$e)return Nt(e),null}else 2*Ze()-s.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ze(),e.sibling=null,n=Be.current,xe(Be,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return Xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function uR(t,e){switch(Ay(e),e.tag){case 1:return Zt(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(),Pe(Jt),Pe(Mt),zy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uy(e),null;case 13:if(Pe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Be),null;case 4:return zo(),null;case 10:return My(e.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var wc=!1,Pt=!1,cR=typeof WeakSet=="function"?WeakSet:Set,B=null;function ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Ag(t,e,n){try{n()}catch(r){He(t,e,r)}}var mS=!1;function dR(t,e){if(pg=bd,t=FI(),Ny(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mg={focusedElem:t,selectionRange:n},bd=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Cn(e.type,m),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){He(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return y=mS,mS=!1,y}function al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ag(e,n,s)}i=i.next}while(i!==r)}}function Kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mk(t){var e=t.alternate;e!==null&&(t.alternate=null,Mk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Pl],delete e[yg],delete e[GD],delete e[KD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Lk(t){return t.tag===5||t.tag===3||t.tag===4}function gS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Id));else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}function Rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rg(t,e,n),t=t.sibling;t!==null;)Rg(t,e,n),t=t.sibling}var St=null,xn=!1;function Rr(t,e,n){for(n=n.child;n!==null;)$k(t,e,n),n=n.sibling}function $k(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(zf,n)}catch{}switch(n.tag){case 5:Pt||ho(n,e);case 6:var r=St,i=xn;St=null,Rr(t,e,n),St=r,xn=i,St!==null&&(xn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(xn?(t=St,n=n.stateNode,t.nodeType===8?Vp(t.parentNode,n):t.nodeType===1&&Vp(t,n),Cl(t)):Vp(St,n.stateNode));break;case 4:r=St,i=xn,St=n.stateNode.containerInfo,xn=!0,Rr(t,e,n),St=r,xn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ag(n,e,o),i=i.next}while(i!==r)}Rr(t,e,n);break;case 1:if(!Pt&&(ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Rr(t,e,n),Pt=r):Rr(t,e,n);break;default:Rr(t,e,n)}}function vS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cR),e.forEach(function(r){var i=SR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,xn=!1;break e;case 3:St=a.stateNode.containerInfo,xn=!0;break e;case 4:St=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(St===null)throw Error(D(160));$k(s,o,i),St=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fk(e,t),e=e.sibling}function Fk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Fn(t),r&4){try{al(3,t,t.return),Kf(3,t)}catch(m){He(t,t.return,m)}try{al(5,t,t.return)}catch(m){He(t,t.return,m)}}break;case 1:Tn(e,t),Fn(t),r&512&&n!==null&&ho(n,n.return);break;case 5:if(Tn(e,t),Fn(t),r&512&&n!==null&&ho(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(m){He(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sI(i,s),ig(a,o);var u=ig(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?cI(i,d):c==="dangerouslySetInnerHTML"?lI(i,d):c==="children"?_l(i,d):gy(i,c,d,u)}switch(a){case"input":Zm(i,s);break;case"textarea":oI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?So(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?So(i,!!s.multiple,s.defaultValue,!0):So(i,!!s.multiple,s.multiple?[]:"",!1))}i[Pl]=s}catch(m){He(t,t.return,m)}}break;case 6:if(Tn(e,t),Fn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){He(t,t.return,m)}}break;case 3:if(Tn(e,t),Fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(m){He(t,t.return,m)}break;case 4:Tn(e,t),Fn(t);break;case 13:Tn(e,t),Fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qy=Ze())),r&4&&vS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(u=Pt)||c,Tn(e,t),Pt=u):Tn(e,t),Fn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(f=B,p=f.child,f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return);break;case 1:ho(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){He(r,n,m)}}break;case 5:ho(f,f.return);break;case 22:if(f.memoizedState!==null){wS(d);continue}}p!==null?(p.return=f,B=p):wS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uI("display",o))}catch(m){He(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){He(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tn(e,t),Fn(t),r&4&&vS(t);break;case 21:break;default:Tn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Lk(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var s=gS(t);Rg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gS(t);Dg(t,a,o);break;default:throw Error(D(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fR(t,e,n){B=t,Uk(t)}function Uk(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||wc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=wc;var u=Pt;if(wc=o,(Pt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?SS(i):l!==null?(l.return=o,B=l):SS(i);for(;s!==null;)B=s,Uk(s),s=s.sibling;B=i,wc=a,Pt=u}yS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):yS(t)}}function yS(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||Kf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&tS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Cl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Pt||e.flags&512&&Pg(e)}catch(f){He(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function wS(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function SS(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kf(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Pg(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Pg(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var hR=Math.ceil,Md=xr.ReactCurrentDispatcher,Gy=xr.ReactCurrentOwner,En=xr.ReactCurrentBatchConfig,me=0,ht=null,it=null,_t=0,nn=0,po=Ri(0),ot=0,Fl=null,ws=0,Qf=0,Ky=0,ll=null,Gt=null,Qy=0,jo=1/0,or=null,Ld=!1,Mg=null,li=null,Sc=!1,Zr=null,$d=0,ul=0,Lg=null,Zc=-1,ed=0;function Vt(){return me&6?Ze():Zc!==-1?Zc:Zc=Ze()}function ui(t){return t.mode&1?me&2&&_t!==0?_t&-_t:YD.transition!==null?(ed===0&&(ed=EI()),ed):(t=be,t!==0||(t=window.event,t=t===void 0?16:NI(t.type)),t):1}function Rn(t,e,n,r){if(50<ul)throw ul=0,Lg=null,Error(D(185));Su(t,n,r),(!(me&2)||t!==ht)&&(t===ht&&(!(me&2)&&(Qf|=n),ot===4&&qr(t,_t)),en(t,r),n===1&&me===0&&!(e.mode&1)&&(jo=Ze()+500,Wf&&Mi()))}function en(t,e){var n=t.callbackNode;YP(t,e);var r=Sd(t,t===ht?_t:0);if(r===0)n!==null&&N1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&N1(n),e===1)t.tag===0?QD(bS.bind(null,t)):KI(bS.bind(null,t)),WD(function(){!(me&6)&&Mi()}),n=null;else{switch(_I(r)){case 1:n=by;break;case 4:n=SI;break;case 16:n=wd;break;case 536870912:n=bI;break;default:n=wd}n=Gk(n,zk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zk(t,e){if(Zc=-1,ed=0,me&6)throw Error(D(327));var n=t.callbackNode;if(ko()&&t.callbackNode!==n)return null;var r=Sd(t,t===ht?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=me;me|=2;var s=jk();(ht!==t||_t!==e)&&(or=null,jo=Ze()+500,us(t,e));do try{gR();break}catch(a){Vk(t,a)}while(1);Ry(),Md.current=s,me=i,it!==null?e=0:(ht=null,_t=0,e=ot)}if(e!==0){if(e===2&&(i=ug(t),i!==0&&(r=i,e=$g(t,i))),e===1)throw n=Fl,us(t,0),qr(t,r),en(t,Ze()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!pR(i)&&(e=Fd(t,r),e===2&&(s=ug(t),s!==0&&(r=s,e=$g(t,s))),e===1))throw n=Fl,us(t,0),qr(t,r),en(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Wi(t,Gt,or);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=Qy+500-Ze(),10<e)){if(Sd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vg(Wi.bind(null,t,Gt,or),e);break}Wi(t,Gt,or);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hR(r/1960))-r,10<r){t.timeoutHandle=vg(Wi.bind(null,t,Gt,or),r);break}Wi(t,Gt,or);break;case 5:Wi(t,Gt,or);break;default:throw Error(D(329))}}}return en(t,Ze()),t.callbackNode===n?zk.bind(null,t):null}function $g(t,e){var n=ll;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Fg(e)),t}function Fg(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function pR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Ky,e&=~Qf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function bS(t){if(me&6)throw Error(D(327));ko();var e=Sd(t,0);if(!(e&1))return en(t,Ze()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=ug(t);r!==0&&(e=r,n=$g(t,r))}if(n===1)throw n=Fl,us(t,0),qr(t,e),en(t,Ze()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wi(t,Gt,or),en(t,Ze()),null}function Yy(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(jo=Ze()+500,Wf&&Mi())}}function Ss(t){Zr!==null&&Zr.tag===0&&!(me&6)&&ko();var e=me;me|=1;var n=En.transition,r=be;try{if(En.transition=null,be=1,t)return t()}finally{be=r,En.transition=n,me=e,!(me&6)&&Mi()}}function Xy(){nn=po.current,Pe(po)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qD(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(Ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:zo(),Pe(Jt),Pe(Mt),zy();break;case 5:Uy(r);break;case 4:zo();break;case 13:Pe(Be);break;case 19:Pe(Be);break;case 10:My(r.type._context);break;case 22:case 23:Xy()}n=n.return}if(ht=t,it=t=ci(t.current,null),_t=nn=e,ot=0,Fl=null,Ky=Qf=ws=0,Gt=ll=null,ts!==null){for(e=0;e<ts.length;e++)if(n=ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ts=null}return t}function Vk(t,e){do{var n=it;try{if(Ry(),Yc.current=Rd,Dd){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(ys=0,dt=st=qe=null,ol=!1,Ml=0,Gy.current=null,n===null||n.return===null){ot=1,Fl=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=lS(o);if(p!==null){p.flags&=-257,uS(p,o,a,s,e),p.mode&1&&aS(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){aS(s,u,e),Jy();break e}l=Error(D(426))}}else if($e&&a.mode&1){var w=lS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uS(w,o,a,s,e),Py(Vo(l,a));break e}}s=l=Vo(l,a),ot!==4&&(ot=2),ll===null?ll=[s]:ll.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Ik(s,l,e);eS(s,g);break e;case 1:a=l;var h=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(li===null||!li.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=kk(s,a,e);eS(s,S);break e}}s=s.return}while(s!==null)}qk(n)}catch(E){e=E,it===n&&n!==null&&(it=n=n.return);continue}break}while(1)}function jk(){var t=Md.current;return Md.current=Rd,t===null?Rd:t}function Jy(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||!(ws&268435455)&&!(Qf&268435455)||qr(ht,_t)}function Fd(t,e){var n=me;me|=2;var r=jk();(ht!==t||_t!==e)&&(or=null,us(t,e));do try{mR();break}catch(i){Vk(t,i)}while(1);if(Ry(),me=n,Md.current=r,it!==null)throw Error(D(261));return ht=null,_t=0,ot}function mR(){for(;it!==null;)Bk(it)}function gR(){for(;it!==null&&!VP();)Bk(it)}function Bk(t){var e=Hk(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?qk(t):it=e,Gy.current=null}function qk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uR(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,it=null;return}}else if(n=lR(n,e,nn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ot===0&&(ot=5)}function Wi(t,e,n){var r=be,i=En.transition;try{En.transition=null,be=1,vR(t,e,n,r)}finally{En.transition=i,be=r}return null}function vR(t,e,n,r){do ko();while(Zr!==null);if(me&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(XP(t,s),t===ht&&(it=ht=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,Gk(wd,function(){return ko(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=En.transition,En.transition=null;var o=be;be=1;var a=me;me|=4,Gy.current=null,dR(t,n),Fk(n,t),$D(mg),bd=!!pg,mg=pg=null,t.current=n,fR(n),jP(),me=a,be=o,En.transition=s}else t.current=n;if(Sc&&(Sc=!1,Zr=t,$d=i),s=t.pendingLanes,s===0&&(li=null),WP(n.stateNode),en(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=Mg,Mg=null,t;return $d&1&&t.tag!==0&&ko(),s=t.pendingLanes,s&1?t===Lg?ul++:(ul=0,Lg=t):ul=0,Mi(),null}function ko(){if(Zr!==null){var t=_I($d),e=En.transition,n=be;try{if(En.transition=null,be=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,$d=0,me&6)throw Error(D(331));var i=me;for(me|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:al(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var f=c.sibling,p=c.return;if(Mk(c),c===u){B=null;break}if(f!==null){f.return=p,B=f;break}B=p}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,B=g;break e}B=s.return}}var h=t.current;for(B=h;B!==null;){o=B;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,B=v;else e:for(o=h;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kf(9,a)}}catch(E){He(a,a.return,E)}if(a===o){B=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,B=S;break e}B=a.return}}if(me=i,Mi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(zf,t)}catch{}r=!0}return r}finally{be=n,En.transition=e}}return!1}function ES(t,e,n){e=Vo(n,e),e=Ik(t,e,1),t=ai(t,e,1),e=Vt(),t!==null&&(Su(t,1,e),en(t,e))}function He(t,e,n){if(t.tag===3)ES(t,t,n);else for(;e!==null;){if(e.tag===3){ES(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=Vo(n,t),t=kk(e,t,1),e=ai(e,t,1),t=Vt(),e!==null&&(Su(e,1,t),en(e,t));break}}e=e.return}}function yR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(_t&n)===n&&(ot===4||ot===3&&(_t&130023424)===_t&&500>Ze()-Qy?us(t,0):Ky|=n),en(t,e)}function Wk(t,e){e===0&&(t.mode&1?(e=cc,cc<<=1,!(cc&130023424)&&(cc=4194304)):e=1);var n=Vt();t=vr(t,e),t!==null&&(Su(t,e,n),en(t,n))}function wR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wk(t,n)}function SR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Wk(t,n)}var Hk;Hk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,aR(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,$e&&e.flags&1048576&&QI(e,xd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jc(t,e),t=e.pendingProps;var i=$o(e,Mt.current);Io(e,n),i=jy(null,e,r,t,i,n);var s=By();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(s=!0,Td(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$y(e),i.updater=Hf,e.stateNode=i,i._reactInternals=e,Ig(e,r,t,n),e=Cg(null,e,r,!0,s,n)):(e.tag=0,$e&&s&&Oy(e),$t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ER(r),t=Cn(r,t),i){case 0:e=Tg(null,e,r,t,n);break e;case 1:e=fS(null,e,r,t,n);break e;case 11:e=cS(null,e,r,t,n);break e;case 14:e=dS(null,e,r,Cn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Tg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),fS(t,e,r,i,n);case 3:e:{if(Nk(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZI(t,e),Ad(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vo(Error(D(423)),e),e=hS(t,e,r,n,i);break e}else if(r!==i){i=Vo(Error(D(424)),e),e=hS(t,e,r,n,i);break e}else for(rn=oi(e.stateNode.containerInfo.firstChild),sn=e,$e=!0,Nn=null,n=rk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=yr(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return ik(e),t===null&&bg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,gg(r,i)?o=null:s!==null&&gg(r,s)&&(e.flags|=32),xk(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&bg(e),null;case 13:return Ok(t,e,n);case 4:return Fy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Uo(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),cS(t,e,r,i,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Nd,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Jt.current){e=yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Eg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Eg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Io(e,n),i=_n(i),r=r(i),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,i=Cn(r,e.pendingProps),i=Cn(r.type,i),dS(t,e,r,i,n);case 15:return Tk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cn(r,i),Jc(t,e),e.tag=1,Zt(r)?(t=!0,Td(e)):t=!1,Io(e,n),tk(e,r,i),Ig(e,r,i,n),Cg(null,e,r,!0,t,n);case 19:return Ak(t,e,n);case 22:return Ck(t,e,n)}throw Error(D(156,e.tag))};function Gk(t,e){return wI(t,e)}function bR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new bR(t,e,n,r)}function Zy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ER(t){if(typeof t=="function")return Zy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===wy)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ro:return cs(n.children,i,s,e);case vy:o=8,i|=8;break;case Km:return t=yn(12,n,e,i|2),t.elementType=Km,t.lanes=s,t;case Qm:return t=yn(13,n,e,i),t.elementType=Qm,t.lanes=s,t;case Ym:return t=yn(19,n,e,i),t.elementType=Ym,t.lanes=s,t;case nI:return Yf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:o=10;break e;case tI:o=9;break e;case yy:o=11;break e;case wy:o=14;break e;case zr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cs(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function Yf(t,e,n,r){return t=yn(22,t,r,e),t.elementType=nI,t.lanes=n,t.stateNode={isHidden:!1},t}function Qp(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Yp(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _R(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Op(0),this.expirationTimes=Op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Op(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e0(t,e,n,r,i,s,o,a,l){return t=new _R(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$y(s),t}function IR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kk(t){if(!t)return mi;t=t._reactInternals;e:{if(Fs(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Zt(n))return GI(t,n,e)}return e}function Qk(t,e,n,r,i,s,o,a,l){return t=e0(n,r,!0,t,i,s,o,a,l),t.context=Kk(null),n=t.current,r=Vt(),i=ui(n),s=hr(r,i),s.callback=e??null,ai(n,s,i),t.current.lanes=i,Su(t,i,r),en(t,r),t}function Xf(t,e,n,r){var i=e.current,s=Vt(),o=ui(i);return n=Kk(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ai(i,e,o),t!==null&&(Rn(t,i,o,s),Qc(t,i,o)),o}function Ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t0(t,e){_S(t,e),(t=t.alternate)&&_S(t,e)}function kR(){return null}var Yk=typeof reportError=="function"?reportError:function(t){console.error(t)};function n0(t){this._internalRoot=t}Jf.prototype.render=n0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Xf(t,e,null,null)};Jf.prototype.unmount=n0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){Xf(null,t,null,null)}),e[gr]=null}};function Jf(t){this._internalRoot=t}Jf.prototype.unstable_scheduleHydration=function(t){if(t){var e=TI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Br.length&&e!==0&&e<Br[n].priority;n++);Br.splice(n,0,t),n===0&&xI(t)}};function r0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IS(){}function TR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ud(o);s.call(u)}}var o=Qk(e,r,t,0,null,!1,!1,"",IS);return t._reactRootContainer=o,t[gr]=o.current,Ol(t.nodeType===8?t.parentNode:t),Ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ud(l);a.call(u)}}var l=e0(t,0,!1,null,null,!1,!1,"",IS);return t._reactRootContainer=l,t[gr]=l.current,Ol(t.nodeType===8?t.parentNode:t),Ss(function(){Xf(e,l,n,r)}),l}function eh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ud(o);a.call(l)}}Xf(e,o,t,i)}else o=TR(n,e,t,i,r);return Ud(o)}II=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wa(e.pendingLanes);n!==0&&(Ey(e,n|1),en(e,Ze()),!(me&6)&&(jo=Ze()+500,Mi()))}break;case 13:Ss(function(){var r=vr(t,1);if(r!==null){var i=Vt();Rn(r,t,1,i)}}),t0(t,1)}};_y=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Vt();Rn(e,t,134217728,n)}t0(t,134217728)}};kI=function(t){if(t.tag===13){var e=ui(t),n=vr(t,e);if(n!==null){var r=Vt();Rn(n,t,e,r)}t0(t,e)}};TI=function(){return be};CI=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};og=function(t,e,n){switch(e){case"input":if(Zm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qf(r);if(!i)throw Error(D(90));iI(r),Zm(r,i)}}}break;case"textarea":oI(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};hI=Yy;pI=Ss;var CR={usingClientEntryPoint:!1,Events:[Eu,ao,qf,dI,fI,Yy]},Ma={findFiberByHostInstance:es,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xR={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||kR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{zf=bc.inject(xR),Hn=bc}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CR;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r0(e))throw Error(D(200));return IR(t,e,null,n)};dn.createRoot=function(t,e){if(!r0(t))throw Error(D(299));var n=!1,r="",i=Yk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e0(t,1,!1,null,null,n,!1,r,i),t[gr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new n0(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=vI(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Ss(t)};dn.hydrate=function(t,e,n){if(!Zf(e))throw Error(D(200));return eh(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!r0(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Yk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qk(e,null,t,1,n??null,i,!1,s,o),t[gr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Jf(e)};dn.render=function(t,e,n){if(!Zf(e))throw Error(D(200));return eh(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Zf(t))throw Error(D(40));return t._reactRootContainer?(Ss(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[gr]=null})}),!0):!1};dn.unstable_batchedUpdates=Yy;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zf(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return eh(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=dn})(kP);var kS=md;Wm.createRoot=kS.createRoot,Wm.hydrateRoot=kS.hydrateRoot;var Xk={},Jk={},th={},Zk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(Zk);var NR="Expected a function",TS=0/0,OR="[object Symbol]",AR=/^\s+|\s+$/g,PR=/^[-+]0x[0-9a-f]+$/i,DR=/^0b[01]+$/i,RR=/^0o[0-7]+$/i,MR=parseInt,LR=typeof ic=="object"&&ic&&ic.Object===Object&&ic,$R=typeof self=="object"&&self&&self.Object===Object&&self,FR=LR||$R||Function("return this")(),UR=Object.prototype,zR=UR.toString,VR=Math.max,jR=Math.min,Xp=function(){return FR.Date.now()};function BR(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(NR);e=CS(e)||0,Ug(n)&&(c=!!n.leading,d="maxWait"in n,s=d?VR(CS(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function p(b){var T=r,_=i;return r=i=void 0,u=b,o=t.apply(_,T),o}function y(b){return u=b,a=setTimeout(g,e),c?p(b):o}function m(b){var T=b-l,_=b-u,C=e-T;return d?jR(C,s-_):C}function w(b){var T=b-l,_=b-u;return l===void 0||T>=e||T<0||d&&_>=s}function g(){var b=Xp();if(w(b))return h(b);a=setTimeout(g,m(b))}function h(b){return a=void 0,f&&r?p(b):(r=i=void 0,o)}function v(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function S(){return a===void 0?o:h(Xp())}function E(){var b=Xp(),T=w(b);if(r=arguments,i=this,l=b,T){if(a===void 0)return y(l);if(d)return a=setTimeout(g,e),p(l)}return a===void 0&&(a=setTimeout(g,e)),o}return E.cancel=v,E.flush=S,E}function Ug(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function qR(t){return!!t&&typeof t=="object"}function WR(t){return typeof t=="symbol"||qR(t)&&zR.call(t)==OR}function CS(t){if(typeof t=="number")return t;if(WR(t))return TS;if(Ug(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ug(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(AR,"");var n=DR.test(t);return n||RR.test(t)?MR(t.slice(2),n?2:8):PR.test(t)?TS:+t}var HR=BR,Bo={},GR={get exports(){return Bo},set exports(t){Bo=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GR);var U={};Object.defineProperty(U,"__esModule",{value:!0});U.checkSpecKeys=U.checkNavigable=U.changeSlide=U.canUseDOM=U.canGoNext=void 0;U.clamp=eT;U.swipeStart=U.swipeMove=U.swipeEnd=U.slidesOnRight=U.slidesOnLeft=U.slideHandler=U.siblingDirection=U.safePreventDefault=U.lazyStartIndex=U.lazySlidesOnRight=U.lazySlidesOnLeft=U.lazyEndIndex=U.keyHandler=U.initializedState=U.getWidth=U.getTrackLeft=U.getTrackCSS=U.getTrackAnimateCSS=U.getTotalSlides=U.getSwipeDirection=U.getSlideCount=U.getRequiredLazySlides=U.getPreClones=U.getPostClones=U.getOnDemandLazySlides=U.getNavigableIndexes=U.getHeight=U.extractObject=void 0;var KR=QR(k);function QR(t){return t&&t.__esModule?t:{default:t}}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){YR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eT(t,e,n){return Math.max(e,Math.min(t,n))}var ds=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};U.safePreventDefault=ds;var i0=function(e){for(var n=[],r=s0(e),i=o0(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};U.getOnDemandLazySlides=i0;var XR=function(e){for(var n=[],r=s0(e),i=o0(e),s=r;s<i;s++)n.push(s);return n};U.getRequiredLazySlides=XR;var s0=function(e){return e.currentSlide-tT(e)};U.lazyStartIndex=s0;var o0=function(e){return e.currentSlide+nT(e)};U.lazyEndIndex=o0;var tT=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};U.lazySlidesOnLeft=tT;var nT=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};U.lazySlidesOnRight=nT;var zd=function(e){return e&&e.offsetWidth||0};U.getWidth=zd;var a0=function(e){return e&&e.offsetHeight||0};U.getHeight=a0;var l0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};U.getSwipeDirection=l0;var u0=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};U.canGoNext=u0;var JR=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};U.extractObject=JR;var ZR=function(e){var n=KR.default.Children.count(e.children),r=e.listRef,i=Math.ceil(zd(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(zd(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&a0(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var f=e.lazyLoadedList||[],p=i0(Me(Me({},e),{},{currentSlide:d,lazyLoadedList:f}));f=f.concat(p);var y={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:u,listHeight:c,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};U.initializedState=ZR;var e2=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,f=e.slidesToShow,p=e.useCSS,y=e.lazyLoadedList;if(n&&r)return{};var m=o,w,g,h,v={},S={},E=s?o:eT(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?m=o+a:o>=a&&(m=o-a),l&&y.indexOf(m)<0&&(y=y.concat(m)),v={animating:!0,currentSlide:m,lazyLoadedList:y,targetSlide:m},S={animating:!1,targetSlide:m}}else w=m,m<0?(w=m+a,s?a%d!==0&&(w=a-a%d):w=0):!u0(e)&&m>u?m=w=u:c&&m>=a?(m=s?a:a-1,w=s?0:a-1):m>=a&&(w=m-a,s?a%d!==0&&(w=0):w=a-f),!s&&m+f>=a&&(w=a-f),g=zl(Me(Me({},e),{},{slideIndex:m})),h=zl(Me(Me({},e),{},{slideIndex:w})),s||(g===h&&(m=w),g=h),l&&(y=y.concat(i0(Me(Me({},e),{},{currentSlide:m})))),p?(v={animating:!0,currentSlide:w,trackStyle:c0(Me(Me({},e),{},{left:g})),lazyLoadedList:y,targetSlide:E},S={animating:!1,currentSlide:w,trackStyle:Ul(Me(Me({},e),{},{left:h})),swipeLeft:null,targetSlide:E}):v={currentSlide:w,trackStyle:Ul(Me(Me({},e),{},{left:h})),lazyLoadedList:y,targetSlide:E};return{state:v,nextState:S}};U.slideHandler=e2;var t2=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,d=e.currentSlide,f=e.targetSlide,p=e.lazyLoad,y=e.infinite;if(o=c%l!==0,r=o?0:(c-d)%l,n.message==="previous")s=r===0?l:u-r,a=d-s,p&&!y&&(i=d-s,a=i===-1?c-1:i),y||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=d+s,p&&!y&&(a=(d+l)%c+r),y||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,y){var m=oT(Me(Me({},e),{},{targetSlide:a}));a>n.currentSlide&&m==="left"?a=a-c:a<n.currentSlide&&m==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};U.changeSlide=t2;var n2=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};U.keyHandler=n2;var r2=function(e,n,r){return e.target.tagName==="IMG"&&ds(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};U.swipeStart=r2;var i2=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,f=n.onEdge,p=n.swiped,y=n.swiping,m=n.slideCount,w=n.slidesToScroll,g=n.infinite,h=n.touchObject,v=n.swipeEvent,S=n.listHeight,E=n.listWidth;if(!r){if(i)return ds(e);s&&o&&a&&ds(e);var b,T={},_=zl(n);h.curX=e.touches?e.touches[0].pageX:e.clientX,h.curY=e.touches?e.touches[0].pageY:e.clientY,h.swipeLength=Math.round(Math.sqrt(Math.pow(h.curX-h.startX,2)));var C=Math.round(Math.sqrt(Math.pow(h.curY-h.startY,2)));if(!a&&!y&&C>10)return{scrolling:!0};a&&(h.swipeLength=C);var O=(l?-1:1)*(h.curX>h.startX?1:-1);a&&(O=h.curY>h.startY?1:-1);var M=Math.ceil(m/w),F=l0(n.touchObject,a),z=h.swipeLength;return g||(u===0&&(F==="right"||F==="down")||u+1>=M&&(F==="left"||F==="up")||!u0(n)&&(F==="left"||F==="up"))&&(z=h.swipeLength*c,d===!1&&f&&(f(F),T.edgeDragged=!0)),!p&&v&&(v(F),T.swiped=!0),s?b=_+z*(S/E)*O:l?b=_-z*O:b=_+z*O,a&&(b=_+z*O),T=Me(Me({},T),{},{touchObject:h,swipeLeft:b,trackStyle:Ul(Me(Me({},n),{},{left:b}))}),Math.abs(h.curX-h.startX)<Math.abs(h.curY-h.startY)*.8||h.swipeLength>10&&(T.swiping=!0,ds(e)),T}};U.swipeMove=i2;var s2=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,d=n.scrolling,f=n.onSwipe,p=n.targetSlide,y=n.currentSlide,m=n.infinite;if(!r)return i&&ds(e),{};var w=l?u/a:o/a,g=l0(s,l),h={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return h;if(s.swipeLength>w){ds(e),f&&f(g);var v,S,E=m?y:p;switch(g){case"left":case"up":S=E+Vg(n),v=c?zg(n,S):S,h.currentDirection=0;break;case"right":case"down":S=E-Vg(n),v=c?zg(n,S):S,h.currentDirection=1;break;default:v=E}h.triggerSlideHandler=v}else{var b=zl(n);h.trackStyle=c0(Me(Me({},n),{},{left:b}))}return h};U.swipeEnd=s2;var rT=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};U.getNavigableIndexes=rT;var zg=function(e,n){var r=rT(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};U.checkNavigable=zg;var Vg=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+a0(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+zd(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};U.getSlideCount=Vg;var nh=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};U.checkSpecKeys=nh;var Ul=function(e){nh(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=sT(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Me(Me({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};U.getTrackCSS=Ul;var c0=function(e){nh(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Ul(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};U.getTrackAnimateCSS=c0;var zl=function(e){if(e.unslick)return 0;nh(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,d=e.variableWidth,f=e.slideHeight,p=e.fade,y=e.vertical,m=0,w,g,h=0;if(p||e.slideCount===1)return 0;var v=0;if(i?(v=-cl(e),o%l!==0&&n+l>o&&(v=-(n>o?a-(n-o):o%l)),s&&(v+=parseInt(a/2))):(o%l!==0&&n+l>o&&(v=a-o%l),s&&(v=parseInt(a/2))),m=v*u,h=v*f,y?w=n*f*-1+h:w=n*u*-1+m,d===!0){var S,E=r&&r.node;if(S=n+cl(e),g=E&&E.childNodes[S],w=g?g.offsetLeft*-1:0,s===!0){S=i?n+cl(e):n,g=E&&E.children[S],w=0;for(var b=0;b<S;b++)w-=E&&E.children[b]&&E.children[b].offsetWidth;w-=parseInt(e.centerPadding),w+=g&&(c-g.offsetWidth)/2}}return w};U.getTrackLeft=zl;var cl=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};U.getPreClones=cl;var iT=function(e){return e.unslick||!e.infinite?0:e.slideCount};U.getPostClones=iT;var sT=function(e){return e.slideCount===1?1:cl(e)+e.slideCount+iT(e)};U.getTotalSlides=sT;var oT=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+aT(e)?"left":"right":e.targetSlide<e.currentSlide-lT(e)?"right":"left"};U.siblingDirection=oT;var aT=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};U.slidesOnRight=aT;var lT=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};U.slidesOnLeft=lT;var o2=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};U.canUseDOM=o2;var rh={};function jg(t){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}Object.defineProperty(rh,"__esModule",{value:!0});rh.Track=void 0;var jr=uT(k),Jp=uT(Bo),Zp=U;function uT(t){return t&&t.__esModule?t:{default:t}}function Bg(){return Bg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function a2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l2(t,e,n){return e&&NS(t.prototype,e),n&&NS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qg(t,e)}function c2(t){var e=f2();return function(){var r=Vd(t),i;if(e){var s=Vd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return d2(this,i)}}function d2(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wg(t)}function Wg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vd(t){return Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(t)}function OS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OS(Object(n),!0).forEach(function(r){Hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var em=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},h2=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},tm=function(e,n){return e.key||n},p2=function(e){var n,r=[],i=[],s=[],o=jr.default.Children.count(e.children),a=(0,Zp.lazyStartIndex)(e),l=(0,Zp.lazyEndIndex)(e);return jr.default.Children.forEach(e.children,function(u,c){var d,f={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=u:d=jr.default.createElement("div",null);var p=h2(Wt(Wt({},e),{},{index:c})),y=d.props.className||"",m=em(Wt(Wt({},e),{},{index:c}));if(r.push(jr.default.cloneElement(d,{key:"original"+tm(d,c),"data-index":c,className:(0,Jp.default)(m,y),tabIndex:"-1","aria-hidden":!m["slick-active"],style:Wt(Wt({outline:"none"},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var w=o-c;w<=(0,Zp.getPreClones)(e)&&o!==e.slidesToShow&&(n=-w,n>=a&&(d=u),m=em(Wt(Wt({},e),{},{index:n})),i.push(jr.default.cloneElement(d,{key:"precloned"+tm(d,n),"data-index":n,tabIndex:"-1",className:(0,Jp.default)(m,y),"aria-hidden":!m["slick-active"],style:Wt(Wt({},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}}))),o!==e.slidesToShow&&(n=o+c,n<l&&(d=u),m=em(Wt(Wt({},e),{},{index:n})),s.push(jr.default.cloneElement(d,{key:"postcloned"+tm(d,n),"data-index":n,tabIndex:"-1",className:(0,Jp.default)(m,y),"aria-hidden":!m["slick-active"],style:Wt(Wt({},d.props.style||{}),p),onClick:function(h){d.props&&d.props.onClick&&d.props.onClick(h),e.focusOnSelect&&e.focusOnSelect(f)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},m2=function(t){u2(n,t);var e=c2(n);function n(){var r;a2(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),Hg(Wg(r),"node",null),Hg(Wg(r),"handleRef",function(a){r.node=a}),r}return l2(n,[{key:"render",value:function(){var i=p2(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return jr.default.createElement("div",Bg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(jr.default.PureComponent);rh.Track=m2;var ih={};function Gg(t){return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}Object.defineProperty(ih,"__esModule",{value:!0});ih.Dots=void 0;var Ec=cT(k),g2=cT(Bo),AS=U;function cT(t){return t&&t.__esModule?t:{default:t}}function PS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PS(Object(n),!0).forEach(function(r){y2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S2(t,e,n){return e&&DS(t.prototype,e),n&&DS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}function Kg(t,e){return Kg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Kg(t,e)}function E2(t){var e=k2();return function(){var r=jd(t),i;if(e){var s=jd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return _2(this,i)}}function _2(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I2(t)}function I2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(t)}var T2=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},C2=function(t){b2(n,t);var e=E2(n);function n(){return w2(this,n),e.apply(this,arguments)}return S2(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,f=i.currentSlide,p=T2({slideCount:d,slidesToScroll:u,slidesToShow:c,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},m=[],w=0;w<p;w++){var g=(w+1)*u-1,h=l?g:(0,AS.clamp)(g,0,d-1),v=h-(u-1),S=l?v:(0,AS.clamp)(v,0,d-1),E=(0,g2.default)({"slick-active":l?f>=S&&f<=h:f===S}),b={message:"dots",index:w,slidesToScroll:u,currentSlide:f},T=this.clickHandler.bind(this,b);m=m.concat(Ec.default.createElement("li",{key:w,className:E},Ec.default.cloneElement(this.props.customPaging(w),{onClick:T})))}return Ec.default.cloneElement(this.props.appendDots(m),v2({className:this.props.dotsClass},y))}}]),n}(Ec.default.PureComponent);ih.Dots=C2;var qo={};function Qg(t){return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}Object.defineProperty(qo,"__esModule",{value:!0});qo.PrevArrow=qo.NextArrow=void 0;var To=fT(k),dT=fT(Bo),x2=U;function fT(t){return t&&t.__esModule?t:{default:t}}function Bd(){return Bd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bd.apply(this,arguments)}function RS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pT(t,e,n){return e&&MS(t.prototype,e),n&&MS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mT(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yg(t,e)}function Yg(t,e){return Yg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Yg(t,e)}function gT(t){var e=P2();return function(){var r=Wd(t),i;if(e){var s=Wd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return O2(this,i)}}function O2(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A2(t)}function A2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wd(t){return Wd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(t)}var D2=function(t){mT(n,t);var e=gT(n);function n(){return hT(this,n),e.apply(this,arguments)}return pT(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,dT.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=To.default.cloneElement(this.props.prevArrow,qd(qd({},o),a)):l=To.default.createElement("button",Bd({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(To.default.PureComponent);qo.PrevArrow=D2;var R2=function(t){mT(n,t);var e=gT(n);function n(){return hT(this,n),e.apply(this,arguments)}return pT(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,x2.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,dT.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=To.default.cloneElement(this.props.nextArrow,qd(qd({},o),a)):l=To.default.createElement("button",Bd({key:"1",type:"button"},o)," ","Next"),l}}]),n}(To.default.PureComponent);qo.NextArrow=R2;var vT=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),Xg=typeof window<"u"&&typeof document<"u"&&window.document===document,Hd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),M2=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Hd):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),L2=2;function $2(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){M2(s)}function a(){var l=Date.now();if(n){if(l-i<L2)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var F2=20,U2=["top","right","bottom","left","width","height","size","weight"],z2=typeof MutationObserver<"u",V2=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$2(this.refresh.bind(this),F2)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Xg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),z2?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Xg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=U2.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yT=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Wo=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Hd},wT=sh(0,0,0,0);function Gd(t){return parseFloat(t)||0}function LS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Gd(s)},0)}function j2(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Gd(o)}return n}function B2(t){var e=t.getBBox();return sh(0,0,e.width,e.height)}function q2(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wT;var r=Wo(t).getComputedStyle(t),i=j2(r),s=i.left+i.right,o=i.top+i.bottom,a=Gd(r.width),l=Gd(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=LS(r,"left","right")+s),Math.round(l+o)!==n&&(l-=LS(r,"top","bottom")+o)),!H2(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return sh(i.left,i.top,a,l)}var W2=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Wo(t).SVGGraphicsElement}:function(t){return t instanceof Wo(t).SVGElement&&typeof t.getBBox=="function"}}();function H2(t){return t===Wo(t).document.documentElement}function G2(t){return Xg?W2(t)?B2(t):q2(t):wT}function K2(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return yT(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function sh(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Q2=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=sh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=G2(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Y2=function(){function t(e,n){var r=K2(n);yT(this,{target:e,contentRect:r})}return t}(),X2=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new vT,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Wo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Q2(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Wo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Y2(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),ST=typeof WeakMap<"u"?new WeakMap:new vT,bT=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=V2.getInstance(),r=new X2(e,n,this);ST.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){bT.prototype[t]=function(){var e;return(e=ST.get(this))[t].apply(e,arguments)}});var J2=function(){return typeof Hd.ResizeObserver<"u"?Hd.ResizeObserver:bT}();const Z2=Object.freeze(Object.defineProperty({__proto__:null,default:J2},Symbol.toStringTag,{value:"Module"})),eM=tP(Z2);Object.defineProperty(th,"__esModule",{value:!0});th.InnerSlider=void 0;var Lt=Iu(k),tM=Iu(Zk),nM=Iu(HR),rM=Iu(Bo),je=U,iM=rh,sM=ih,$S=qo,oM=Iu(eM);function Iu(t){return t&&t.__esModule?t:{default:t}}function Kd(t){return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Qd(){return Qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qd.apply(this,arguments)}function aM(t,e){if(t==null)return{};var n=lM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(n),!0).forEach(function(r){ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function US(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cM(t,e,n){return e&&US(t.prototype,e),n&&US(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jg(t,e)}function Jg(t,e){return Jg=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Jg(t,e)}function fM(t){var e=pM();return function(){var r=Yd(t),i;if(e){var s=Yd(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return hM(this,i)}}function hM(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return le(t)}function le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yd(t){return Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yd(t)}function ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mM=function(t){dM(n,t);var e=fM(n);function n(r){var i;uM(this,n),i=e.call(this,r),ue(le(i),"listRefHandler",function(o){return i.list=o}),ue(le(i),"trackRefHandler",function(o){return i.track=o}),ue(le(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,je.getHeight)(o)+"px"}}),ue(le(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,je.getOnDemandLazySlides)(X(X({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=X({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new oM.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ue(le(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ue(le(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,je.getOnDemandLazySlides)(X(X({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=X(X({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=Lt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Lt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ue(le(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,nM.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),ue(le(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=X(X({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ue(le(i),"updateState",function(o,a,l){var u=(0,je.initializedState)(o);o=X(X(X({},o),u),{},{slideIndex:u.currentSlide});var c=(0,je.getTrackLeft)(o);o=X(X({},o),{},{left:c});var d=(0,je.getTrackCSS)(o);(a||Lt.default.Children.count(i.props.children)!==Lt.default.Children.count(o.children))&&(u.trackStyle=d),i.setState(u,l)}),ue(le(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,je.getPreClones)(X(X(X({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,je.getPostClones)(X(X(X({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(T){l.push(T.props.style.width),o+=T.props.style.width});for(var d=0;d<u;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var f=0;f<c;f++)o+=l[f];for(var p=0;p<i.state.currentSlide;p++)a+=l[p];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var m="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(m,") / 2 ) ")}return{trackStyle:y}}var w=Lt.default.Children.count(i.props.children),g=X(X(X({},i.props),i.state),{},{slideCount:w}),h=(0,je.getPreClones)(g)+(0,je.getPostClones)(g)+w,v=100/i.props.slidesToShow*h,S=100/h,E=-S*((0,je.getPreClones)(g)+i.state.currentSlide)*v/100;i.props.centerMode&&(E+=(100-S*v/100)/2);var b={width:v+"%",left:E+"%"};return{slideWidth:S+"%",trackStyle:b}}),ue(le(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var d=u.onclick;u.onclick=function(){d(),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ue(le(i),"progressiveLazyLoad",function(){for(var o=[],a=X(X({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,je.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,je.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ue(le(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,d=l.onLazyLoad,f=l.speed,p=l.afterChange,y=i.state.currentSlide,m=(0,je.slideHandler)(X(X(X({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),w=m.state,g=m.nextState;if(w){c&&c(y,w.currentSlide);var h=w.lazyLoadedList.filter(function(v){return i.state.lazyLoadedList.indexOf(v)<0});d&&h.length>0&&d(h),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),p&&p(y),delete i.animationEndCallback),i.setState(w,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),g&&(i.animationEndCallback=setTimeout(function(){var v=g.animating,S=aM(g,["animating"]);i.setState(S,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:v})},10)),p&&p(w.currentSlide),delete i.animationEndCallback})},f))})}}),ue(le(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=X(X({},i.props),i.state),u=(0,je.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),ue(le(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),ue(le(i),"keyHandler",function(o){var a=(0,je.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ue(le(i),"selectHandler",function(o){i.changeSlide(o)}),ue(le(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),ue(le(i),"enableBodyScroll",function(){window.ontouchmove=null}),ue(le(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,je.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ue(le(i),"swipeMove",function(o){var a=(0,je.swipeMove)(o,X(X(X({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ue(le(i),"swipeEnd",function(o){var a=(0,je.swipeEnd)(o,X(X(X({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),ue(le(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),ue(le(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ue(le(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ue(le(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),ue(le(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,je.canGoNext)(X(X({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),ue(le(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ue(le(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ue(le(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ue(le(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ue(le(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ue(le(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ue(le(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ue(le(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ue(le(i),"render",function(){var o=(0,rM.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=X(X({},i.props),i.state),l=(0,je.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=X(X({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,je.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=i.props.pauseOnDotsHover;d=X(X({},d),{},{clickHandler:i.changeSlide,onMouseEnter:f?i.onDotsLeave:null,onMouseOver:f?i.onDotsOver:null,onMouseLeave:f?i.onDotsLeave:null}),c=Lt.default.createElement(sM.Dots,d)}var p,y,m=(0,je.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);m.clickHandler=i.changeSlide,i.props.arrows&&(p=Lt.default.createElement($S.PrevArrow,m),y=Lt.default.createElement($S.NextArrow,m));var w=null;i.props.vertical&&(w={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var h=X(X({},w),g),v=i.props.touchMove,S={className:"slick-list",style:h,onClick:i.clickHandler,onMouseDown:v?i.swipeStart:null,onMouseMove:i.state.dragging&&v?i.swipeMove:null,onMouseUp:v?i.swipeEnd:null,onMouseLeave:i.state.dragging&&v?i.swipeEnd:null,onTouchStart:v?i.swipeStart:null,onTouchMove:i.state.dragging&&v?i.swipeMove:null,onTouchEnd:v?i.touchEnd:null,onTouchCancel:i.state.dragging&&v?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},E={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(S={className:"slick-list"},E={className:o}),Lt.default.createElement("div",E,i.props.unslick?"":p,Lt.default.createElement("div",Qd({ref:i.listRefHandler},S),Lt.default.createElement(iM.Track,Qd({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=X(X({},tM.default),{},{currentSlide:i.props.initialSlide,slideCount:Lt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=X(X({},i.state),s),i}return cM(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Kd(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Lt.default.Children.count(this.props.children)!==Lt.default.Children.count(i.children)}}]),n}(Lt.default.Component);th.InnerSlider=mM;var gM=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},vM=gM,yM=vM,wM=function(t){var e=/[height|width]$/;return e.test(t)},zS=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=yM(r),wM(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},SM=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=zS(n),r<t.length-1&&(e+=", ")}),e):zS(t)},bM=SM,ET={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(k);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(ET);var nm,VS;function EM(){if(VS)return nm;VS=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},nm=t,nm}var rm,jS;function _T(){if(jS)return rm;jS=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return rm={isFunction:n,isArray:e,each:t},rm}var im,BS;function _M(){if(BS)return im;BS=1;var t=EM(),e=_T().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},im=n,im}var sm,qS;function IM(){if(qS)return sm;qS=1;var t=_M(),e=_T(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),u[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},sm=s,sm}var om,WS;function kM(){if(WS)return om;WS=1;var t=IM();return om=new t,om}(function(t){function e(_){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e(_)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(k),r=th,i=a(bM),s=a(ET),o=U;function a(_){return _&&_.__esModule?_:{default:_}}function l(){return l=Object.assign||function(_){for(var C=1;C<arguments.length;C++){var O=arguments[C];for(var M in O)Object.prototype.hasOwnProperty.call(O,M)&&(_[M]=O[M])}return _},l.apply(this,arguments)}function u(_,C){var O=Object.keys(_);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(_);C&&(M=M.filter(function(F){return Object.getOwnPropertyDescriptor(_,F).enumerable})),O.push.apply(O,M)}return O}function c(_){for(var C=1;C<arguments.length;C++){var O=arguments[C]!=null?arguments[C]:{};C%2?u(Object(O),!0).forEach(function(M){E(_,M,O[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):u(Object(O)).forEach(function(M){Object.defineProperty(_,M,Object.getOwnPropertyDescriptor(O,M))})}return _}function d(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function f(_,C){for(var O=0;O<C.length;O++){var M=C[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function p(_,C,O){return C&&f(_.prototype,C),O&&f(_,O),Object.defineProperty(_,"prototype",{writable:!1}),_}function y(_,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),C&&m(_,C)}function m(_,C){return m=Object.setPrototypeOf||function(M,F){return M.__proto__=F,M},m(_,C)}function w(_){var C=v();return function(){var M=S(_),F;if(C){var z=S(this).constructor;F=Reflect.construct(M,arguments,z)}else F=M.apply(this,arguments);return g(this,F)}}function g(_,C){if(C&&(e(C)==="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(_)}function h(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function v(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(_){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},S(_)}function E(_,C,O){return C in _?Object.defineProperty(_,C,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[C]=O,_}var b=(0,o.canUseDOM)()&&kM(),T=function(_){y(O,_);var C=w(O);function O(M){var F;return d(this,O),F=C.call(this,M),E(h(F),"innerSliderRefHandler",function(z){return F.innerSlider=z}),E(h(F),"slickPrev",function(){return F.innerSlider.slickPrev()}),E(h(F),"slickNext",function(){return F.innerSlider.slickNext()}),E(h(F),"slickGoTo",function(z){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return F.innerSlider.slickGoTo(z,Ce)}),E(h(F),"slickPause",function(){return F.innerSlider.pause("paused")}),E(h(F),"slickPlay",function(){return F.innerSlider.autoPlay("play")}),F.state={breakpoint:null},F._responsiveMediaHandlers=[],F}return p(O,[{key:"media",value:function(F,z){b.register(F,z),this._responsiveMediaHandlers.push({query:F,handler:z})}},{key:"componentDidMount",value:function(){var F=this;if(this.props.responsive){var z=this.props.responsive.map(function(ve){return ve.breakpoint});z.sort(function(ve,ye){return ve-ye}),z.forEach(function(ve,ye){var Ve;ye===0?Ve=(0,i.default)({minWidth:0,maxWidth:ve}):Ve=(0,i.default)({minWidth:z[ye-1]+1,maxWidth:ve}),(0,o.canUseDOM)()&&F.media(Ve,function(){F.setState({breakpoint:ve})})});var Ce=(0,i.default)({minWidth:z.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Ce,function(){F.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(F){b.unregister(F.query,F.handler)})}},{key:"render",value:function(){var F=this,z,Ce;this.state.breakpoint?(Ce=this.props.responsive.filter(function(te){return te.breakpoint===F.state.breakpoint}),z=Ce[0].settings==="unslick"?"unslick":c(c(c({},s.default),this.props),Ce[0].settings)):z=c(c({},s.default),this.props),z.centerMode&&(z.slidesToScroll>1,z.slidesToScroll=1),z.fade&&(z.slidesToShow>1,z.slidesToScroll>1,z.slidesToShow=1,z.slidesToScroll=1);var ve=n.default.Children.toArray(this.props.children);ve=ve.filter(function(te){return typeof te=="string"?!!te.trim():!!te}),z.variableWidth&&(z.rows>1||z.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),z.variableWidth=!1);for(var ye=[],Ve=null,R=0;R<ve.length;R+=z.rows*z.slidesPerRow){for(var Q=[],Y=R;Y<R+z.rows*z.slidesPerRow;Y+=z.slidesPerRow){for(var we=[],J=Y;J<Y+z.slidesPerRow&&(z.variableWidth&&ve[J].props.style&&(Ve=ve[J].props.style.width),!(J>=ve.length));J+=1)we.push(n.default.cloneElement(ve[J],{key:100*R+10*Y+J,tabIndex:-1,style:{width:"".concat(100/z.slidesPerRow,"%"),display:"inline-block"}}));Q.push(n.default.createElement("div",{key:10*R+Y},we))}z.variableWidth?ye.push(n.default.createElement("div",{key:R,style:{width:Ve}},Q)):ye.push(n.default.createElement("div",{key:R},Q))}if(z==="unslick"){var ne="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:ne},ve)}else ye.length<=z.slidesToShow&&(z.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},z),ye)}}]),O}(n.default.Component);t.default=T})(Jk);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Jk);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(Xk);const TM=V_(Xk);var Zg={},CM={get exports(){return Zg},set exports(t){Zg=t}},IT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=k;function xM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NM=typeof Object.is=="function"?Object.is:xM,OM=Ho.useState,AM=Ho.useEffect,PM=Ho.useLayoutEffect,DM=Ho.useDebugValue;function RM(t,e){var n=e(),r=OM({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return PM(function(){i.value=n,i.getSnapshot=e,am(i)&&s({inst:i})},[t,n,e]),AM(function(){return am(i)&&s({inst:i}),t(function(){am(i)&&s({inst:i})})},[t]),DM(n),n}function am(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!NM(t,n)}catch{return!0}}function MM(t,e){return e()}var LM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MM:RM;IT.useSyncExternalStore=Ho.useSyncExternalStore!==void 0?Ho.useSyncExternalStore:LM;(function(t){t.exports=IT})(CM);var ev={},$M={get exports(){return ev},set exports(t){ev=t}},kT={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=k,FM=Zg;function UM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zM=typeof Object.is=="function"?Object.is:UM,VM=FM.useSyncExternalStore,jM=oh.useRef,BM=oh.useEffect,qM=oh.useMemo,WM=oh.useDebugValue;kT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=jM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=qM(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return d=y}return d=p}if(y=d,zM(c,p))return y;var m=r(p);return i!==void 0&&i(y,m)?y:(c=p,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=VM(t,s[0],s[1]);return BM(function(){o.hasValue=!0,o.value=a},[a]),WM(a),a};(function(t){t.exports=kT})($M);function HM(t){t()}let TT=HM;const GM=t=>TT=t,KM=()=>TT,gi=k.createContext(null);function CT(){return k.useContext(gi)}const QM=()=>{throw new Error("uSES not initialized!")};let xT=QM;const YM=t=>{xT=t},XM=(t,e)=>t===e;function JM(t=gi){const e=t===gi?CT:()=>k.useContext(t);return function(r,i=XM){const{store:s,subscription:o,getServerState:a}=e(),l=xT(o.addNestedSub,s.getState,a||s.getState,r,i);return k.useDebugValue(l),l}}const Us=JM();var tv={},ZM={get exports(){return tv},set exports(t){tv=t}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,d0=vt?Symbol.for("react.element"):60103,f0=vt?Symbol.for("react.portal"):60106,ah=vt?Symbol.for("react.fragment"):60107,lh=vt?Symbol.for("react.strict_mode"):60108,uh=vt?Symbol.for("react.profiler"):60114,ch=vt?Symbol.for("react.provider"):60109,dh=vt?Symbol.for("react.context"):60110,h0=vt?Symbol.for("react.async_mode"):60111,fh=vt?Symbol.for("react.concurrent_mode"):60111,hh=vt?Symbol.for("react.forward_ref"):60112,ph=vt?Symbol.for("react.suspense"):60113,eL=vt?Symbol.for("react.suspense_list"):60120,mh=vt?Symbol.for("react.memo"):60115,gh=vt?Symbol.for("react.lazy"):60116,tL=vt?Symbol.for("react.block"):60121,nL=vt?Symbol.for("react.fundamental"):60117,rL=vt?Symbol.for("react.responder"):60118,iL=vt?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d0:switch(t=t.type,t){case h0:case fh:case ah:case uh:case lh:case ph:return t;default:switch(t=t&&t.$$typeof,t){case dh:case hh:case gh:case mh:case ch:return t;default:return e}}case f0:return e}}}function NT(t){return hn(t)===fh}Ee.AsyncMode=h0;Ee.ConcurrentMode=fh;Ee.ContextConsumer=dh;Ee.ContextProvider=ch;Ee.Element=d0;Ee.ForwardRef=hh;Ee.Fragment=ah;Ee.Lazy=gh;Ee.Memo=mh;Ee.Portal=f0;Ee.Profiler=uh;Ee.StrictMode=lh;Ee.Suspense=ph;Ee.isAsyncMode=function(t){return NT(t)||hn(t)===h0};Ee.isConcurrentMode=NT;Ee.isContextConsumer=function(t){return hn(t)===dh};Ee.isContextProvider=function(t){return hn(t)===ch};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d0};Ee.isForwardRef=function(t){return hn(t)===hh};Ee.isFragment=function(t){return hn(t)===ah};Ee.isLazy=function(t){return hn(t)===gh};Ee.isMemo=function(t){return hn(t)===mh};Ee.isPortal=function(t){return hn(t)===f0};Ee.isProfiler=function(t){return hn(t)===uh};Ee.isStrictMode=function(t){return hn(t)===lh};Ee.isSuspense=function(t){return hn(t)===ph};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ah||t===fh||t===uh||t===lh||t===ph||t===eL||typeof t=="object"&&t!==null&&(t.$$typeof===gh||t.$$typeof===mh||t.$$typeof===ch||t.$$typeof===dh||t.$$typeof===hh||t.$$typeof===nL||t.$$typeof===rL||t.$$typeof===iL||t.$$typeof===tL)};Ee.typeOf=hn;(function(t){t.exports=Ee})(ZM);var OT=tv,sL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AT={};AT[OT.ForwardRef]=sL;AT[OT.Memo]=oL;var HS={},aL={get exports(){return HS},set exports(t){HS=t}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=Symbol.for("react.element"),m0=Symbol.for("react.portal"),vh=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),Sh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),lL=Symbol.for("react.server_context"),Eh=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),kh=Symbol.for("react.memo"),Th=Symbol.for("react.lazy"),uL=Symbol.for("react.offscreen"),PT;PT=Symbol.for("react.module.reference");function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case p0:switch(t=t.type,t){case vh:case wh:case yh:case _h:case Ih:return t;default:switch(t=t&&t.$$typeof,t){case lL:case bh:case Eh:case Th:case kh:case Sh:return t;default:return e}}case m0:return e}}}_e.ContextConsumer=bh;_e.ContextProvider=Sh;_e.Element=p0;_e.ForwardRef=Eh;_e.Fragment=vh;_e.Lazy=Th;_e.Memo=kh;_e.Portal=m0;_e.Profiler=wh;_e.StrictMode=yh;_e.Suspense=_h;_e.SuspenseList=Ih;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return kn(t)===bh};_e.isContextProvider=function(t){return kn(t)===Sh};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===p0};_e.isForwardRef=function(t){return kn(t)===Eh};_e.isFragment=function(t){return kn(t)===vh};_e.isLazy=function(t){return kn(t)===Th};_e.isMemo=function(t){return kn(t)===kh};_e.isPortal=function(t){return kn(t)===m0};_e.isProfiler=function(t){return kn(t)===wh};_e.isStrictMode=function(t){return kn(t)===yh};_e.isSuspense=function(t){return kn(t)===_h};_e.isSuspenseList=function(t){return kn(t)===Ih};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vh||t===wh||t===yh||t===_h||t===Ih||t===uL||typeof t=="object"&&t!==null&&(t.$$typeof===Th||t.$$typeof===kh||t.$$typeof===Sh||t.$$typeof===bh||t.$$typeof===Eh||t.$$typeof===PT||t.getModuleId!==void 0)};_e.typeOf=kn;(function(t){t.exports=_e})(aL);function cL(){const t=KM();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const GS={notify(){},get:()=>[]};function dL(t,e){let n,r=GS;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=cL())}function u(){n&&(n(),n=void 0,r.clear(),r=GS)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const fL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hL=fL?k.useLayoutEffect:k.useEffect;function pL({store:t,context:e,children:n,serverState:r}){const i=k.useMemo(()=>{const a=dL(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=k.useMemo(()=>t.getState(),[t]);hL(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||gi;return bn.createElement(o.Provider,{value:i},n)}function DT(t=gi){const e=t===gi?CT:()=>k.useContext(t);return function(){const{store:r}=e();return r}}const mL=DT();function gL(t=gi){const e=t===gi?mL:DT(t);return function(){return e().dispatch}}const ku=gL();YM(ev.useSyncExternalStoreWithSelector);GM(md.unstable_batchedUpdates);function On(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function vi(t){return!!t&&!!t[Le]}function wr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===kL}(t)||Array.isArray(t)||!!t[eb]||!!(!((e=t.constructor)===null||e===void 0)&&e[eb])||g0(t)||v0(t))}function bs(t,e,n){n===void 0&&(n=!1),da(t)===0?(n?Object.keys:xo)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function da(t){var e=t[Le];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:g0(t)?2:v0(t)?3:0}function Co(t,e){return da(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vL(t,e){return da(t)===2?t.get(e):t[e]}function RT(t,e,n){var r=da(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function MT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function g0(t){return _L&&t instanceof Map}function v0(t){return IL&&t instanceof Set}function Hi(t){return t.o||t.t}function y0(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=$T(t);delete e[Le];for(var n=xo(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function w0(t,e){return e===void 0&&(e=!1),S0(t)||vi(t)||!wr(t)||(da(t)>1&&(t.set=t.add=t.clear=t.delete=yL),Object.freeze(t),e&&bs(t,function(n,r){return w0(r,!0)},!0)),t}function yL(){On(2)}function S0(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Kn(t){var e=sv[t];return e||On(18,t),e}function wL(t,e){sv[t]||(sv[t]=e)}function nv(){return Vl}function lm(t,e){e&&(Kn("Patches"),t.u=[],t.s=[],t.v=e)}function Xd(t){rv(t),t.p.forEach(SL),t.p=null}function rv(t){t===Vl&&(Vl=t.l)}function KS(t){return Vl={p:[],l:Vl,h:t,m:!0,_:0}}function SL(t){var e=t[Le];e.i===0||e.i===1?e.j():e.g=!0}function um(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Kn("ES5").S(e,t,r),r?(n[Le].P&&(Xd(e),On(4)),wr(t)&&(t=Jd(e,t),e.l||Zd(e,t)),e.u&&Kn("Patches").M(n[Le].t,t,e.u,e.s)):t=Jd(e,n,[]),Xd(e),e.u&&e.v(e.u,e.s),t!==LT?t:void 0}function Jd(t,e,n){if(S0(e))return e;var r=e[Le];if(!r)return bs(e,function(a,l){return QS(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Zd(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=y0(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),bs(s,function(a,l){return QS(t,r,i,a,l,n,o)}),Zd(t,i,!1),n&&t.u&&Kn("Patches").N(r,n,t.u,t.s)}return r.o}function QS(t,e,n,r,i,s,o){if(vi(i)){var a=Jd(t,i,s&&e&&e.i!==3&&!Co(e.R,r)?s.concat(r):void 0);if(RT(n,r,a),!vi(a))return;t.m=!1}else o&&n.add(i);if(wr(i)&&!S0(i)){if(!t.h.D&&t._<1)return;Jd(t,i),e&&e.A.l||Zd(t,i)}}function Zd(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&w0(e,n)}function cm(t,e){var n=t[Le];return(n?Hi(n):t)[e]}function YS(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Wr(t){t.P||(t.P=!0,t.l&&Wr(t.l))}function dm(t){t.o||(t.o=y0(t.t))}function iv(t,e,n){var r=g0(e)?Kn("MapSet").F(e,n):v0(e)?Kn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:nv(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=jl;o&&(l=[a],u=Ga);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(e,n):Kn("ES5").J(e,n);return(n?n.A:nv()).p.push(r),r}function bL(t){return vi(t)||On(22,t),function e(n){if(!wr(n))return n;var r,i=n[Le],s=da(n);if(i){if(!i.P&&(i.i<4||!Kn("ES5").K(i)))return i.t;i.I=!0,r=XS(n,s),i.I=!1}else r=XS(n,s);return bs(r,function(o,a){i&&vL(i.t,o)===a||RT(r,o,e(a))}),s===3?new Set(r):r}(t)}function XS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return y0(t)}function EL(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Le];return jl.get(l,s)},set:function(l){var u=this[Le];jl.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Le];if(!a.P)switch(a.i){case 5:r(a)&&Wr(a);break;case 4:n(a)&&Wr(a)}}}function n(s){for(var o=s.t,a=s.k,l=xo(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Le){var d=o[c];if(d===void 0&&!Co(o,c))return!0;var f=a[c],p=f&&f[Le];if(p?p.t!==d:!MT(f,d))return!0}}var y=!!o[Le];return l.length!==xo(o).length+(y?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};wL("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,d){if(c){for(var f=Array(d.length),p=0;p<d.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var y=$T(d);delete y[Le];for(var m=xo(y),w=0;w<m.length;w++){var g=m[w];y[g]=t(g,c||!!y[g].enumerable)}return Object.create(Object.getPrototypeOf(d),y)}(a,s),u={i:a?5:4,A:o?o.A:nv(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Le,{value:u,writable:!0}),l},S:function(s,o,a){a?vi(o)&&o[Le].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Le];if(c){var d=c.t,f=c.k,p=c.R,y=c.i;if(y===4)bs(f,function(v){v!==Le&&(d[v]!==void 0||Co(d,v)?p[v]||l(f[v]):(p[v]=!0,Wr(c)))}),bs(d,function(v){f[v]!==void 0||Co(f,v)||(p[v]=!1,Wr(c))});else if(y===5){if(r(c)&&(Wr(c),p.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)p[m]=!1;else for(var w=d.length;w<f.length;w++)p[w]=!0;for(var g=Math.min(f.length,d.length),h=0;h<g;h++)f.hasOwnProperty(h)||(p[h]=!0),p[h]===void 0&&l(f[h])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var JS,Vl,b0=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",_L=typeof Map<"u",IL=typeof Set<"u",ZS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",LT=b0?Symbol.for("immer-nothing"):((JS={})["immer-nothing"]=!0,JS),eb=b0?Symbol.for("immer-draftable"):"__$immer_draftable",Le=b0?Symbol.for("immer-state"):"__$immer_state",kL=""+Object.prototype.constructor,xo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,$T=Object.getOwnPropertyDescriptors||function(t){var e={};return xo(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},sv={},jl={get:function(t,e){if(e===Le)return t;var n=Hi(t);if(!Co(n,e))return function(i,s,o){var a,l=YS(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!wr(r)?r:r===cm(t.t,e)?(dm(t),t.o[e]=iv(t.A.h,r,t)):r},has:function(t,e){return e in Hi(t)},ownKeys:function(t){return Reflect.ownKeys(Hi(t))},set:function(t,e,n){var r=YS(Hi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=cm(Hi(t),e),s=i==null?void 0:i[Le];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(MT(n,i)&&(n!==void 0||Co(t.t,e)))return!0;dm(t),Wr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return cm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,dm(t),Wr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Hi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){On(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){On(12)}},Ga={};bs(jl,function(t,e){Ga[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Ga.deleteProperty=function(t,e){return Ga.set.call(this,t,e,void 0)},Ga.set=function(t,e,n){return jl.set.call(this,t[0],e,n,t[0])};var TL=function(){function t(n){var r=this;this.O=ZS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var w=this;m===void 0&&(m=a);for(var g=arguments.length,h=Array(g>1?g-1:0),v=1;v<g;v++)h[v-1]=arguments[v];return l.produce(m,function(S){var E;return(E=s).call.apply(E,[w,S].concat(h))})}}var u;if(typeof s!="function"&&On(6),o!==void 0&&typeof o!="function"&&On(7),wr(i)){var c=KS(r),d=iv(r,i,void 0),f=!0;try{u=s(d),f=!1}finally{f?Xd(c):rv(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(m){return lm(c,o),um(m,c)},function(m){throw Xd(c),m}):(lm(c,o),um(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===LT&&(u=void 0),r.D&&w0(u,!0),o){var p=[],y=[];Kn("Patches").M(i,u,p,y),o(p,y)}return u}On(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(d))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){wr(n)||On(8),vi(n)&&(n=bL(n));var r=KS(this),i=iv(this,n,void 0);return i[Le].C=!0,rv(r),i},e.finishDraft=function(n,r){var i=n&&n[Le],s=i.A;return lm(s,r),um(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!ZS&&On(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Kn("Patches").$;return vi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),ln=new TL,CL=ln.produce;ln.produceWithPatches.bind(ln);ln.setAutoFreeze.bind(ln);ln.setUseProxies.bind(ln);ln.applyPatches.bind(ln);ln.createDraft.bind(ln);ln.finishDraft.bind(ln);const FT=CL;function Bl(t){return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function xL(t,e){if(Bl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NL(t){var e=xL(t,"string");return Bl(e)==="symbol"?e:String(e)}function OL(t,e,n){return e=NL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tb(Object(n),!0).forEach(function(r){OL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function At(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var rb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),fm=function(){return Math.random().toString(36).substring(7).split("").join(".")},ef={INIT:"@@redux/INIT"+fm(),REPLACE:"@@redux/REPLACE"+fm(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fm()}};function AL(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function UT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(At(1));return n(UT)(t,e)}if(typeof t!="function")throw new Error(At(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(At(3));return s}function d(m){if(typeof m!="function")throw new Error(At(4));if(l)throw new Error(At(5));var w=!0;return u(),a.push(m),function(){if(w){if(l)throw new Error(At(6));w=!1,u();var h=a.indexOf(m);a.splice(h,1),o=null}}}function f(m){if(!AL(m))throw new Error(At(7));if(typeof m.type>"u")throw new Error(At(8));if(l)throw new Error(At(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var w=o=a,g=0;g<w.length;g++){var h=w[g];h()}return m}function p(m){if(typeof m!="function")throw new Error(At(10));i=m,f({type:ef.REPLACE})}function y(){var m,w=d;return m={subscribe:function(h){if(typeof h!="object"||h===null)throw new Error(At(11));function v(){h.next&&h.next(c())}v();var S=w(v);return{unsubscribe:S}}},m[rb]=function(){return this},m}return f({type:ef.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:p},r[rb]=y,r}function PL(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:ef.INIT});if(typeof r>"u")throw new Error(At(12));if(typeof n(void 0,{type:ef.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function zT(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{PL(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,d={},f=0;f<s.length;f++){var p=s[f],y=n[p],m=l[p],w=y(m,u);if(typeof w>"u")throw u&&u.type,new Error(At(14));d[p]=w,c=c||w!==m}return c=c||s.length!==Object.keys(l).length,c?d:l}}function tf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function DL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(At(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=tf.apply(void 0,a)(i.dispatch),nb(nb({},i),{},{dispatch:s})}}}function VT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var jT=VT();jT.withExtraArgument=VT;const ib=jT;var BT=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RL=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Go=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},ML=Object.defineProperty,LL=Object.defineProperties,$L=Object.getOwnPropertyDescriptors,sb=Object.getOwnPropertySymbols,FL=Object.prototype.hasOwnProperty,UL=Object.prototype.propertyIsEnumerable,ob=function(t,e,n){return e in t?ML(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},No=function(t,e){for(var n in e||(e={}))FL.call(e,n)&&ob(t,n,e[n]);if(sb)for(var r=0,i=sb(e);r<i.length;r++){var n=i[r];UL.call(e,n)&&ob(t,n,e[n])}return t},hm=function(t,e){return LL(t,$L(e))},zL=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},VL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tf:tf.apply(null,arguments)};function jL(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var BL=function(t){BT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Go([void 0],n[0].concat(this)))):new(e.bind.apply(e,Go([void 0],n.concat(this))))},e}(Array),qL=function(t){BT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Go([void 0],n[0].concat(this)))):new(e.bind.apply(e,Go([void 0],n.concat(this))))},e}(Array);function ab(t){return wr(t)?FT(t,function(){}):t}function WL(t){return typeof t=="boolean"}function HL(){return function(e){return GL(e)}}function GL(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new BL;return n&&(WL(n)?r.push(ib):r.push(ib.withExtraArgument(n.extraArgument))),r}var KL=!0;function QL(t){var e=HL(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,p;if(typeof i=="function")p=i;else if(jL(i))p=zT(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=o;typeof y=="function"&&(y=y(e));var m=DL.apply(void 0,y),w=tf;l&&(w=VL(No({trace:!KL},typeof l=="object"&&l)));var g=new qL(m),h=g;Array.isArray(f)?h=Go([m],f):typeof f=="function"&&(h=f(g));var v=w.apply(void 0,h);return UT(p,c,v)}function on(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return No(No({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function YL(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function XL(t){return typeof t=="function"}function E0(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?YL(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(XL(t))l=function(){return ab(t())};else{var u=ab(t);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var p=Go([s[f.type]],o.filter(function(y){var m=y.matcher;return m(f)}).map(function(y){var m=y.reducer;return m}));return p.filter(function(y){return!!y}).length===0&&(p=[a]),p.reduce(function(y,m){if(m)if(vi(y)){var w=y,g=m(w,f);return g===void 0?y:g}else{if(wr(y))return FT(y,function(h){return m(h,f)});var g=m(y,f);if(g===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return y},d)}return c.getInitialState=l,c}var JL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZL=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=JL[Math.random()*64|0];return e},e$=["name","message","stack","code"],pm=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),lb=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),t$=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=e$;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=on(e+"/fulfilled",function(u,c,d,f){return{payload:u,meta:hm(No({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),s=on(e+"/pending",function(u,c,d){return{payload:void 0,meta:hm(No({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=on(e+"/rejected",function(u,c,d,f,p){return{payload:f,error:(r&&r.serializeError||t$)(u||"Rejected"),meta:hm(No({},p||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):ZL(),y=new a,m;function w(h){m=h,y.abort()}var g=function(){return zL(this,null,function(){var h,v,S,E,b,T,_;return RL(this,function(C){switch(C.label){case 0:return C.trys.push([0,4,,5]),E=(h=r==null?void 0:r.condition)==null?void 0:h.call(r,u,{getState:d,extra:f}),r$(E)?[4,E]:[3,2];case 1:E=C.sent(),C.label=2;case 2:if(E===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function(O,M){return y.signal.addEventListener("abort",function(){return M({name:"AbortError",message:m||"Aborted"})})}),c(s(p,u,(v=r==null?void 0:r.getPendingMeta)==null?void 0:v.call(r,{requestId:p,arg:u},{getState:d,extra:f}))),[4,Promise.race([b,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:p,signal:y.signal,abort:w,rejectWithValue:function(O,M){return new pm(O,M)},fulfillWithValue:function(O,M){return new lb(O,M)}})).then(function(O){if(O instanceof pm)throw O;return O instanceof lb?i(O.payload,p,u,O.meta):i(O,p,u)})])];case 3:return S=C.sent(),[3,5];case 4:return T=C.sent(),S=T instanceof pm?o(null,p,u,T.payload,T.meta):o(T,p,u),[3,5];case 5:return _=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,_||c(S),[2,S]}})})}();return Object.assign(g,{abort:w,requestId:p,arg:u,unwrap:function(){return g.then(n$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function n$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function r$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var _0="listenerMiddleware";on(_0+"/add");on(_0+"/removeAll");on(_0+"/remove");var ub;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);EL();const qT=on("is fetching"),WT=on("success"),HT=on("failure"),Oo={isFetching:qT,success:WT,failure:HT},wn={NORMAL:"normal",FETCHING:"is fetching",SUCCESS:"success",FAILURE:"failure"},i$={status:wn.NORMAL,movies:{popularMovies:null,topRatedMovies:null,upcomingMovies:null,comedyMovies:null,actionMovies:null,romanceMovies:null,searchResults:null}},s$=E0(i$,t=>{t.addCase(qT,(e,n)=>({...e,status:wn.FETCHING})).addCase(WT,(e,n)=>{const{payload:r}=n,{category:i,movies:s}=r;return{...e,status:wn.SUCCESS,movies:{...e.movies,[i]:s}}}).addCase(HT,(e,n)=>({...e,status:wn.FAILURE}))});const GT=({movie:t,handleMovieClick:e,useBackDrop:n})=>{const[r,i]=k.useState(!1),s="https://image.tmdb.org/t/p/original",o=n?t.backdrop_path:t.poster_path,a=n?{width:"87%",paddingTop:"80px"}:{},l=new Date(t.release_date).getFullYear(),u=String(l);return k.useEffect(()=>{const c=()=>{i(window.innerWidth<=767)};return window.addEventListener("resize",c),c(),()=>{window.removeEventListener("resize",c)}},[]),q("div",{className:"movie_grid_item",onClick:()=>e(t),children:[I("img",{className:"movie_poster",src:s+o,style:a}),r&&q("p",{className:"mobile_movie_title",children:[" ",t.title]}),!r&&q("div",{className:"movie_info",onClick:()=>e(t),children:[I("h6",{className:"movie_title",children:t.title}),I("p",{className:"movie_release",children:u}),I("p",{className:"movie_rating",children:t.vote_average})]})]})},zn=({title:t,category:e,handleMovieClick:n,onCategoryClick:r,genre_id:i,movie_id:s,similar:o})=>{const[a,l]=k.useState(3),[u,c]=k.useState(3),[d,f]=k.useState(!1),[p,y]=k.useState(!1),m=Us(b=>b.movies),w=ku(),[g,h]=k.useState("");k.useEffect(()=>{E(s,i,e,w,o)},[t,s,o]);let v=null;switch(m.status){case wn.NORMAL:v=null;break;case wn.FETCHING:v=null;break;case wn.SUCCESS:v=m.movies[e];break;case wn.FAILURE:break;default:v=null}const S=()=>{r(t,v,e)};return k.useEffect(()=>{const b=()=>{window.innerWidth<=768&&t==="Big Movie"||window.innerWidth>=768&&t==="Big Movie"?(l(1),c(1),f(!0)):window.innerWidth>=768?(l(4),c(4)):(l(3),c(3),y(!0),console.log("isMobile should slide to scroll"))};return window.addEventListener("resize",b),b(),()=>{window.removeEventListener("resize",b)}},[]),q("div",{className:"movie_slider",children:[t!=="Big Movie"&&q("h4",{onClick:S,children:[t," ",">"]}),v&&v.length>0?I(TM,{className:"slick-slider",slidesToShow:a,slideToSwipe:p,touchThreshold:10,slidesToScroll:a,autoplay:d,children:v.map((b,T)=>I("div",{className:`slider_container ${t==="Big Movie"?"big-movie-slider":""}`,children:I(GT,{movie:b,handleMovieClick:n,useBackDrop:t==="Big Movie"})},T))},m.status):I("h5",{children:g})]});async function E(b,T,_,C,O,M=1){const F="305f99214975faee28a0f129881c6ec9";let z=`https://api.themoviedb.org/3/movie/${_}?api_key=${F}&language=en-US&region=SE&page=${M}`;T!==""?z=`https://api.themoviedb.org/3/discover/movie?api_key=${F}&language=en-US&region=SE&with_genres=${T}&page=${M}`:O===!0?z=`https://api.themoviedb.org/3/movie/${b}/similar?api_key=${F}&language=en-US&region=SE&page=${M}`:b!==""?z=`https://api.themoviedb.org/3/movie/${b}/recommendations?api_key=${F}&language=en-US&region=SE&page=${M}`:t==="Big Movie"&&(z=`https://api.themoviedb.org/3/trending/movie/week?api_key=${F}`),C(Oo.isFetching()),h("Loading movies...");try{let ye=(await(await fetch(z)).json()).results;if(4>M){let R=await E(b,T,_,C,O,M+1);ye=ye.concat(R)}ye.length===0&&h("Could not find any recommended movies");const Ve={category:_,movies:ye};return C(Oo.success(Ve)),ye}catch{return C(Oo.failure()),[]}}};const o$=({onCategoryClick:t,handleMovieClick:e,toggleUserIconVisibility:n})=>(k.useEffect(()=>{n(!0)},[]),q("div",{className:"mainpage_container",children:[I("section",{className:"big_Movie_poster_section",children:I(zn,{similar:!1,movie_id:"",genre_id:"",title:"Big Movie",category:"",handleMovieClick:e})}),I("section",{className:"popular_movies_section",children:I(zn,{similar:!1,movie_id:"",genre_id:"",title:"Popular Movies",category:"popular",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"romance_section",children:I(zn,{similar:!1,genre_id:"10749",title:"Romance",category:"romance",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"comedy_section",children:I(zn,{similar:!1,genre_id:"35",title:"Comedy",category:"comedy",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"toprated_movies_section",children:I(zn,{similar:!1,movie_id:"",genre_id:"",title:"Top Rated Movies On IMDb",category:"top_rated",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"action_section",children:I(zn,{similar:!1,genre_id:"28",title:"Action",category:"action",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"now_playing_section",children:I(zn,{similar:!1,movie_id:"",genre_id:"",title:"In Theaters Now",category:"now_playing",handleMovieClick:e,onCategoryClick:t})}),I("section",{className:"drama_section",children:I(zn,{similar:!1,genre_id:"18",title:"Drama",category:"drama",handleMovieClick:e,onCategoryClick:t})})]}));function cb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(n),!0).forEach(function(r){at(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nf(t){return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function a$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l$(t,e,n){return e&&db(t.prototype,e),n&&db(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function at(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I0(t,e){return c$(t)||f$(t,e)||KT(t,e)||p$()}function Tu(t){return u$(t)||d$(t)||KT(t)||h$()}function u$(t){if(Array.isArray(t))return ov(t)}function c$(t){if(Array.isArray(t))return t}function d$(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f$(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function KT(t,e){if(t){if(typeof t=="string")return ov(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(t,e)}}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fb=function(){},k0={},QT={},YT=null,XT={mark:fb,measure:fb};try{typeof window<"u"&&(k0=window),typeof document<"u"&&(QT=document),typeof MutationObserver<"u"&&(YT=MutationObserver),typeof performance<"u"&&(XT=performance)}catch{}var m$=k0.navigator||{},hb=m$.userAgent,pb=hb===void 0?"":hb,yi=k0,De=QT,mb=YT,_c=XT;yi.document;var Nr=!!De.documentElement&&!!De.head&&typeof De.addEventListener=="function"&&typeof De.createElement=="function",JT=~pb.indexOf("MSIE")||~pb.indexOf("Trident/"),Ic,kc,Tc,Cc,xc,Sr="___FONT_AWESOME___",av=16,ZT="fa",eC="svg-inline--fa",Es="data-fa-i2svg",lv="data-fa-pseudo-element",g$="data-fa-pseudo-element-pending",T0="data-prefix",C0="data-icon",gb="fontawesome-i2svg",v$="async",y$=["HTML","HEAD","STYLE","SCRIPT"],tC=function(){try{return!0}catch{return!1}}(),Oe="classic",Ke="sharp",x0=[Oe,Ke];function Cu(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Oe]}})}var ql=Cu((Ic={},at(Ic,Oe,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),at(Ic,Ke,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ic)),Wl=Cu((kc={},at(kc,Oe,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),at(kc,Ke,{solid:"fass",regular:"fasr",light:"fasl"}),kc)),Hl=Cu((Tc={},at(Tc,Oe,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),at(Tc,Ke,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Tc)),w$=Cu((Cc={},at(Cc,Oe,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),at(Cc,Ke,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Cc)),S$=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,nC="fa-layers-text",b$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,E$=Cu((xc={},at(xc,Oe,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),at(xc,Ke,{900:"fass",400:"fasr",300:"fasl"}),xc)),rC=[1,2,3,4,5,6,7,8,9,10],_$=rC.concat([11,12,13,14,15,16,17,18,19,20]),I$=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],rs={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Gl=new Set;Object.keys(Wl[Oe]).map(Gl.add.bind(Gl));Object.keys(Wl[Ke]).map(Gl.add.bind(Gl));var k$=[].concat(x0,Tu(Gl),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",rs.GROUP,rs.SWAP_OPACITY,rs.PRIMARY,rs.SECONDARY]).concat(rC.map(function(t){return"".concat(t,"x")})).concat(_$.map(function(t){return"w-".concat(t)})),dl=yi.FontAwesomeConfig||{};function T$(t){var e=De.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function C$(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(De&&typeof De.querySelector=="function"){var x$=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];x$.forEach(function(t){var e=I0(t,2),n=e[0],r=e[1],i=C$(T$(n));i!=null&&(dl[r]=i)})}var iC={styleDefault:"solid",familyDefault:"classic",cssPrefix:ZT,replacementClass:eC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};dl.familyPrefix&&(dl.cssPrefix=dl.familyPrefix);var Ko=j(j({},iC),dl);Ko.autoReplaceSvg||(Ko.observeMutations=!1);var W={};Object.keys(iC).forEach(function(t){Object.defineProperty(W,t,{enumerable:!0,set:function(n){Ko[t]=n,fl.forEach(function(r){return r(W)})},get:function(){return Ko[t]}})});Object.defineProperty(W,"familyPrefix",{enumerable:!0,set:function(e){Ko.cssPrefix=e,fl.forEach(function(n){return n(W)})},get:function(){return Ko.cssPrefix}});yi.FontAwesomeConfig=W;var fl=[];function N$(t){return fl.push(t),function(){fl.splice(fl.indexOf(t),1)}}var Mr=av,Bn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function O$(t){if(!(!t||!Nr)){var e=De.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=De.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return De.head.insertBefore(e,r),t}}var A$="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Kl(){for(var t=12,e="";t-- >0;)e+=A$[Math.random()*62|0];return e}function fa(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function N0(t){return t.classList?fa(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function sC(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P$(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(sC(t[n]),'" ')},"").trim()}function Ch(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function O0(t){return t.size!==Bn.size||t.x!==Bn.x||t.y!==Bn.y||t.rotate!==Bn.rotate||t.flipX||t.flipY}function D$(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function R$(t){var e=t.transform,n=t.width,r=n===void 0?av:n,i=t.height,s=i===void 0?av:i,o=t.startCentered,a=o===void 0?!1:o,l="";return a&&JT?l+="translate(".concat(e.x/Mr-r/2,"em, ").concat(e.y/Mr-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/Mr,"em), calc(-50% + ").concat(e.y/Mr,"em)) "):l+="translate(".concat(e.x/Mr,"em, ").concat(e.y/Mr,"em) "),l+="scale(".concat(e.size/Mr*(e.flipX?-1:1),", ").concat(e.size/Mr*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var M$=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function oC(){var t=ZT,e=eC,n=W.cssPrefix,r=W.replacementClass,i=M$;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}var vb=!1;function mm(){W.autoAddCss&&!vb&&(O$(oC()),vb=!0)}var L$={mixout:function(){return{dom:{css:oC,insertCss:mm}}},hooks:function(){return{beforeDOMElementCreation:function(){mm()},beforeI2svg:function(){mm()}}}},br=yi||{};br[Sr]||(br[Sr]={});br[Sr].styles||(br[Sr].styles={});br[Sr].hooks||(br[Sr].hooks={});br[Sr].shims||(br[Sr].shims=[]);var An=br[Sr],aC=[],$$=function t(){De.removeEventListener("DOMContentLoaded",t),rf=1,aC.map(function(e){return e()})},rf=!1;Nr&&(rf=(De.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(De.readyState),rf||De.addEventListener("DOMContentLoaded",$$));function F$(t){Nr&&(rf?setTimeout(t,0):aC.push(t))}function xu(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?sC(t):"<".concat(e," ").concat(P$(r),">").concat(s.map(xu).join(""),"</").concat(e,">")}function yb(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var U$=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},gm=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?U$(n,i):n,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function z$(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function uv(t){var e=z$(t);return e.length===1?e[0].toString(16):null}function V$(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function wb(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=wb(e);typeof An.hooks.addPack=="function"&&!i?An.hooks.addPack(t,wb(e)):An.styles[t]=j(j({},An.styles[t]||{}),s),t==="fas"&&cv("fa",e)}var Nc,Oc,Ac,mo=An.styles,j$=An.shims,B$=(Nc={},at(Nc,Oe,Object.values(Hl[Oe])),at(Nc,Ke,Object.values(Hl[Ke])),Nc),A0=null,lC={},uC={},cC={},dC={},fC={},q$=(Oc={},at(Oc,Oe,Object.keys(ql[Oe])),at(Oc,Ke,Object.keys(ql[Ke])),Oc);function W$(t){return~k$.indexOf(t)}function H$(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!W$(i)?i:null}var hC=function(){var e=function(s){return gm(mo,function(o,a,l){return o[l]=gm(a,s,{}),o},{})};lC=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),uC=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),fC=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var n="far"in mo||W.autoFetchSvg,r=gm(j$,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});cC=r.names,dC=r.unicodes,A0=xh(W.styleDefault,{family:W.familyDefault})};N$(function(t){A0=xh(t.styleDefault,{family:W.familyDefault})});hC();function P0(t,e){return(lC[t]||{})[e]}function G$(t,e){return(uC[t]||{})[e]}function is(t,e){return(fC[t]||{})[e]}function pC(t){return cC[t]||{prefix:null,iconName:null}}function K$(t){var e=dC[t],n=P0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function wi(){return A0}var D0=function(){return{prefix:null,iconName:null,rest:[]}};function xh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Oe:n,i=ql[r][t],s=Wl[r][t]||Wl[r][i],o=t in An.styles?t:null;return s||o||null}var Sb=(Ac={},at(Ac,Oe,Object.keys(Hl[Oe])),at(Ac,Ke,Object.keys(Hl[Ke])),Ac);function Nh(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},at(e,Oe,"".concat(W.cssPrefix,"-").concat(Oe)),at(e,Ke,"".concat(W.cssPrefix,"-").concat(Ke)),e),o=null,a=Oe;(t.includes(s[Oe])||t.some(function(u){return Sb[Oe].includes(u)}))&&(a=Oe),(t.includes(s[Ke])||t.some(function(u){return Sb[Ke].includes(u)}))&&(a=Ke);var l=t.reduce(function(u,c){var d=H$(W.cssPrefix,c);if(mo[c]?(c=B$[a].includes(c)?w$[a][c]:c,o=c,u.prefix=c):q$[a].indexOf(c)>-1?(o=c,u.prefix=xh(c,{family:a})):d?u.iconName=d:c!==W.replacementClass&&c!==s[Oe]&&c!==s[Ke]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var f=o==="fa"?pC(u.iconName):{},p=is(u.prefix,u.iconName);f.prefix&&(o=null),u.iconName=f.iconName||p||u.iconName,u.prefix=f.prefix||u.prefix,u.prefix==="far"&&!mo.far&&mo.fas&&!W.autoFetchSvg&&(u.prefix="fas")}return u},D0());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Ke&&(mo.fass||W.autoFetchSvg)&&(l.prefix="fass",l.iconName=is(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=wi()||"fas"),l}var Q$=function(){function t(){a$(this,t),this.definitions={}}return l$(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=j(j({},n.definitions[a]||{}),o[a]),cv(a,o[a]);var l=Hl[Oe][a];l&&cv(l,o[a]),hC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];n[a]||(n[a]={}),c.length>0&&c.forEach(function(d){typeof d=="string"&&(n[a][d]=u)}),n[a][l]=u}),n}}]),t}(),bb=[],go={},Ao={},Y$=Object.keys(Ao);function X$(t,e){var n=e.mixoutsTo;return bb=t,go={},Object.keys(Ao).forEach(function(r){Y$.indexOf(r)===-1&&delete Ao[r]}),bb.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),nf(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){go[o]||(go[o]=[]),go[o].push(s[o])})}r.provides&&r.provides(Ao)}),n}function dv(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=go[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function _s(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=go[t]||[];i.forEach(function(s){s.apply(null,n)})}function Er(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ao[t]?Ao[t].apply(null,e):void 0}function fv(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||wi();if(e)return e=is(n,e)||e,yb(mC.definitions,n,e)||yb(An.styles,n,e)}var mC=new Q$,J$=function(){W.autoReplaceSvg=!1,W.observeMutations=!1,_s("noAuto")},Z$={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Nr?(_s("beforeI2svg",e),Er("pseudoElements2svg",e),Er("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;W.autoReplaceSvg===!1&&(W.autoReplaceSvg=!0),W.observeMutations=!0,F$(function(){tF({autoReplaceSvgRoot:n}),_s("watch",e)})}},eF={icon:function(e){if(e===null)return null;if(nf(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:is(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=xh(e[0]);return{prefix:r,iconName:is(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(W.cssPrefix,"-"))>-1||e.match(S$))){var i=Nh(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||wi(),iconName:is(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=wi();return{prefix:s,iconName:is(s,e)||e}}}},pn={noAuto:J$,config:W,dom:Z$,parse:eF,library:mC,findIconDefinition:fv,toHtml:xu},tF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?De:n;(Object.keys(An.styles).length>0||W.autoFetchSvg)&&Nr&&W.autoReplaceSvg&&pn.dom.i2svg({node:r})};function Oh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return xu(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Nr){var r=De.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function nF(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(O0(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};i.style=Ch(j(j({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function rF(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(W.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:j(j({},i),{},{id:o}),children:r}]}]}function R0(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,a=t.symbol,l=t.title,u=t.maskId,c=t.titleId,d=t.extra,f=t.watchable,p=f===void 0?!1:f,y=r.found?r:n,m=y.width,w=y.height,g=i==="fak",h=[W.replacementClass,s?"".concat(W.cssPrefix,"-").concat(s):""].filter(function(C){return d.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(d.classes).join(" "),v={children:[],attributes:j(j({},d.attributes),{},{"data-prefix":i,"data-icon":s,class:h,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(w)})},S=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/w*16*.0625,"em")}:{};p&&(v.attributes[Es]=""),l&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(c||Kl())},children:[l]}),delete v.attributes.title);var E=j(j({},v),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:o,symbol:a,styles:j(j({},S),d.styles)}),b=r.found&&n.found?Er("generateAbstractMask",E)||{children:[],attributes:{}}:Er("generateAbstractIcon",E)||{children:[],attributes:{}},T=b.children,_=b.attributes;return E.children=T,E.attributes=_,a?rF(E):nF(E)}function Eb(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,a=t.watchable,l=a===void 0?!1:a,u=j(j(j({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[Es]="");var c=j({},o.styles);O0(i)&&(c.transform=R$({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var d=Ch(c);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function iF(t){var e=t.content,n=t.title,r=t.extra,i=j(j(j({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Ch(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var vm=An.styles;function hv(t){var e=t[0],n=t[1],r=t.slice(4),i=I0(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(W.cssPrefix,"-").concat(rs.GROUP)},children:[{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(rs.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(rs.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var sF={found:!1,width:512,height:512};function oF(t,e){!tC&&!W.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function pv(t,e){var n=e;return e==="fa"&&W.styleDefault!==null&&(e=wi()),new Promise(function(r,i){if(Er("missingIconAbstract"),n==="fa"){var s=pC(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&vm[e]&&vm[e][t]){var o=vm[e][t];return r(hv(o))}oF(t,e),r(j(j({},sF),{},{icon:W.showMissingIcons&&t?Er("missingIconAbstract")||{}:{}}))})}var _b=function(){},mv=W.measurePerformance&&_c&&_c.mark&&_c.measure?_c:{mark:_b,measure:_b},Ka='FA "6.4.0"',aF=function(e){return mv.mark("".concat(Ka," ").concat(e," begins")),function(){return gC(e)}},gC=function(e){mv.mark("".concat(Ka," ").concat(e," ends")),mv.measure("".concat(Ka," ").concat(e),"".concat(Ka," ").concat(e," begins"),"".concat(Ka," ").concat(e," ends"))},M0={begin:aF,end:gC},nd=function(){};function Ib(t){var e=t.getAttribute?t.getAttribute(Es):null;return typeof e=="string"}function lF(t){var e=t.getAttribute?t.getAttribute(T0):null,n=t.getAttribute?t.getAttribute(C0):null;return e&&n}function uF(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(W.replacementClass)}function cF(){if(W.autoReplaceSvg===!0)return rd.replace;var t=rd[W.autoReplaceSvg];return t||rd.replace}function dF(t){return De.createElementNS("http://www.w3.org/2000/svg",t)}function fF(t){return De.createElement(t)}function vC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?dF:fF:n;if(typeof t=="string")return De.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(vC(o,{ceFn:r}))}),i}function hF(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var rd={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(vC(i),n)}),n.getAttribute(Es)===null&&W.keepOriginalSource){var r=De.createComment(hF(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~N0(n).indexOf(W.replacementClass))return rd.replace(e);var i=new RegExp("".concat(W.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===W.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return xu(a)}).join(`
`);n.setAttribute(Es,""),n.innerHTML=o}};function kb(t){t()}function yC(t,e){var n=typeof e=="function"?e:nd;if(t.length===0)n();else{var r=kb;W.mutateApproach===v$&&(r=yi.requestAnimationFrame||kb),r(function(){var i=cF(),s=M0.begin("mutate");t.map(i),s(),n()})}}var L0=!1;function wC(){L0=!0}function gv(){L0=!1}var sf=null;function Tb(t){if(mb&&W.observeMutations){var e=t.treeCallback,n=e===void 0?nd:e,r=t.nodeCallback,i=r===void 0?nd:r,s=t.pseudoElementsCallback,o=s===void 0?nd:s,a=t.observeMutationsRoot,l=a===void 0?De:a;sf=new mb(function(u){if(!L0){var c=wi();fa(u).forEach(function(d){if(d.type==="childList"&&d.addedNodes.length>0&&!Ib(d.addedNodes[0])&&(W.searchPseudoElements&&o(d.target),n(d.target)),d.type==="attributes"&&d.target.parentNode&&W.searchPseudoElements&&o(d.target.parentNode),d.type==="attributes"&&Ib(d.target)&&~I$.indexOf(d.attributeName))if(d.attributeName==="class"&&lF(d.target)){var f=Nh(N0(d.target)),p=f.prefix,y=f.iconName;d.target.setAttribute(T0,p||c),y&&d.target.setAttribute(C0,y)}else uF(d.target)&&i(d.target)})}}),Nr&&sf.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function pF(){sf&&sf.disconnect()}function mF(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function gF(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Nh(N0(t));return i.prefix||(i.prefix=wi()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=G$(i.prefix,t.innerText)||P0(i.prefix,uv(t.innerText))),!i.iconName&&W.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function vF(t){var e=fa(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return W.autoA11y&&(n?e["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(r||Kl()):(e["aria-hidden"]="true",e.focusable="false")),e}function yF(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Bn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Cb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=gF(t),r=n.iconName,i=n.prefix,s=n.rest,o=vF(t),a=dv("parseNodeAttributes",{},t),l=e.styleParser?mF(t):[];return j({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Bn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var wF=An.styles;function SC(t){var e=W.autoReplaceSvg==="nest"?Cb(t,{styleParser:!1}):Cb(t);return~e.extra.classes.indexOf(nC)?Er("generateLayersText",t,e):Er("generateSvgReplacementMutation",t,e)}var Si=new Set;x0.map(function(t){Si.add("fa-".concat(t))});Object.keys(ql[Oe]).map(Si.add.bind(Si));Object.keys(ql[Ke]).map(Si.add.bind(Si));Si=Tu(Si);function xb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Nr)return Promise.resolve();var n=De.documentElement.classList,r=function(d){return n.add("".concat(gb,"-").concat(d))},i=function(d){return n.remove("".concat(gb,"-").concat(d))},s=W.autoFetchSvg?Si:x0.map(function(c){return"fa-".concat(c)}).concat(Object.keys(wF));s.includes("fa")||s.push("fa");var o=[".".concat(nC,":not([").concat(Es,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(Es,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=fa(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=M0.begin("onTree"),u=a.reduce(function(c,d){try{var f=SC(d);f&&c.push(f)}catch(p){tC||p.name==="MissingIcon"&&console.error(p)}return c},[]);return new Promise(function(c,d){Promise.all(u).then(function(f){yC(f,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(f){l(),d(f)})})}function SF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;SC(t).then(function(n){n&&yC([n],e)})}function bF(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:fv(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:fv(i||{})),t(r,j(j({},n),{},{mask:i}))}}var EF=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Bn:r,s=n.symbol,o=s===void 0?!1:s,a=n.mask,l=a===void 0?null:a,u=n.maskId,c=u===void 0?null:u,d=n.title,f=d===void 0?null:d,p=n.titleId,y=p===void 0?null:p,m=n.classes,w=m===void 0?[]:m,g=n.attributes,h=g===void 0?{}:g,v=n.styles,S=v===void 0?{}:v;if(e){var E=e.prefix,b=e.iconName,T=e.icon;return Oh(j({type:"icon"},e),function(){return _s("beforeDOMElementCreation",{iconDefinition:e,params:n}),W.autoA11y&&(f?h["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(y||Kl()):(h["aria-hidden"]="true",h.focusable="false")),R0({icons:{main:hv(T),mask:l?hv(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:b,transform:j(j({},Bn),i),symbol:o,title:f,maskId:c,titleId:y,extra:{attributes:h,styles:S,classes:w}})})}},_F={mixout:function(){return{icon:bF(EF)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=xb,n.nodeCallback=SF,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?De:r,s=n.callback,o=s===void 0?function(){}:s;return xb(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,c=r.mask,d=r.maskId,f=r.extra;return new Promise(function(p,y){Promise.all([pv(i,a),c.iconName?pv(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(m){var w=I0(m,2),g=w[0],h=w[1];p([n,R0({icons:{main:g,mask:h},prefix:a,iconName:i,transform:l,symbol:u,maskId:d,title:s,titleId:o,extra:f,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,a=n.styles,l=Ch(a);l.length>0&&(i.style=l);var u;return O0(o)&&(u=Er("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},IF={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return Oh({type:"layer"},function(){_s("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(W.cssPrefix,"-layers")].concat(Tu(s)).join(" ")},children:o}]})}}}},kF={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,c=r.styles,d=c===void 0?{}:c;return Oh({type:"counter",content:n},function(){return _s("beforeDOMElementCreation",{content:n,params:r}),iF({content:n.toString(),title:s,extra:{attributes:u,styles:d,classes:["".concat(W.cssPrefix,"-layers-counter")].concat(Tu(a))}})})}}}},TF={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Bn:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,c=r.attributes,d=c===void 0?{}:c,f=r.styles,p=f===void 0?{}:f;return Oh({type:"text",content:n},function(){return _s("beforeDOMElementCreation",{content:n,params:r}),Eb({content:n,transform:j(j({},Bn),s),title:a,extra:{attributes:d,styles:p,classes:["".concat(W.cssPrefix,"-layers-text")].concat(Tu(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(JT){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();a=c.width/u,l=c.height/u}return W.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,Eb({content:n.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},CF=new RegExp('"',"ug"),Nb=[1105920,1112319];function xF(t){var e=t.replace(CF,""),n=V$(e,0),r=n>=Nb[0]&&n<=Nb[1],i=e.length===2?e[0]===e[1]:!1;return{value:uv(i?e[0]:e),isSecondary:r||i}}function Ob(t,e){var n="".concat(g$).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=fa(t.children),o=s.filter(function(T){return T.getAttribute(lv)===e})[0],a=yi.getComputedStyle(t,e),l=a.getPropertyValue("font-family").match(b$),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return t.removeChild(o),r();if(l&&c!=="none"&&c!==""){var d=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Ke:Oe,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Wl[f][l[2].toLowerCase()]:E$[f][u],y=xF(d),m=y.value,w=y.isSecondary,g=l[0].startsWith("FontAwesome"),h=P0(p,m),v=h;if(g){var S=K$(m);S.iconName&&S.prefix&&(h=S.iconName,p=S.prefix)}if(h&&!w&&(!o||o.getAttribute(T0)!==p||o.getAttribute(C0)!==v)){t.setAttribute(n,v),o&&t.removeChild(o);var E=yF(),b=E.extra;b.attributes[lv]=e,pv(h,p).then(function(T){var _=R0(j(j({},E),{},{icons:{main:T,mask:D0()},prefix:p,iconName:v,extra:b,watchable:!0})),C=De.createElement("svg");e==="::before"?t.insertBefore(C,t.firstChild):t.appendChild(C),C.outerHTML=_.map(function(O){return xu(O)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function NF(t){return Promise.all([Ob(t,"::before"),Ob(t,"::after")])}function OF(t){return t.parentNode!==document.head&&!~y$.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(lv)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Ab(t){if(Nr)return new Promise(function(e,n){var r=fa(t.querySelectorAll("*")).filter(OF).map(NF),i=M0.begin("searchPseudoElements");wC(),Promise.all(r).then(function(){i(),gv(),e()}).catch(function(){i(),gv(),n()})})}var AF={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Ab,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?De:r;W.searchPseudoElements&&Ab(i)}}},Pb=!1,PF={mixout:function(){return{dom:{unwatch:function(){wC(),Pb=!0}}}},hooks:function(){return{bootstrap:function(){Tb(dv("mutationObserverCallbacks",{}))},noAuto:function(){pF()},watch:function(n){var r=n.observeMutationsRoot;Pb?gv():Tb(dv("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},Db=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},DF={mixout:function(){return{parse:{transform:function(n){return Db(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=Db(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),d={transform:"".concat(l," ").concat(u," ").concat(c)},f={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:d,path:f};return{tag:"g",attributes:j({},p.outer),children:[{tag:"g",attributes:j({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:j(j({},r.icon.attributes),p.path)}]}]}}}},ym={x:0,y:0,width:"100%",height:"100%"};function Rb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function RF(t){return t.tag==="g"?t.children:[t]}var MF={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?Nh(i.split(" ").map(function(o){return o.trim()})):D0();return s.prefix||(s.prefix=wi()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,a=n.maskId,l=n.transform,u=s.width,c=s.icon,d=o.width,f=o.icon,p=D$({transform:l,containerWidth:d,iconWidth:u}),y={tag:"rect",attributes:j(j({},ym),{},{fill:"white"})},m=c.children?{children:c.children.map(Rb)}:{},w={tag:"g",attributes:j({},p.inner),children:[Rb(j({tag:c.tag,attributes:j(j({},c.attributes),p.path)},m))]},g={tag:"g",attributes:j({},p.outer),children:[w]},h="mask-".concat(a||Kl()),v="clip-".concat(a||Kl()),S={tag:"mask",attributes:j(j({},ym),{},{id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,g]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:RF(f)},S]};return r.push(E,{tag:"rect",attributes:j({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(h,")")},ym)}),{children:r,attributes:i}}}},LF={provides:function(e){var n=!1;yi.matchMedia&&(n=yi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:j(j({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=j(j({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:j(j({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:j(j({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:j(j({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:j(j({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:j(j({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:j(j({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:j(j({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},$F={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},FF=[L$,_F,IF,kF,TF,AF,PF,DF,MF,LF,$F];X$(FF,{mixoutsTo:pn});pn.noAuto;pn.config;pn.library;pn.dom;var vv=pn.parse;pn.findIconDefinition;pn.toHtml;var UF=pn.icon;pn.layer;pn.text;pn.counter;var ae={},zF={get exports(){return ae},set exports(t){ae=t}},VF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jF=VF,BF=jF;function bC(){}function EC(){}EC.resetWarningCache=bC;var qF=function(){function t(r,i,s,o,a,l){if(l!==BF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EC,resetWarningCache:bC};return n.PropTypes=n,n};zF.exports=qF();function Mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(n),!0).forEach(function(r){vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function of(t){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HF(t,e){if(t==null)return{};var n=WF(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yv(t){return GF(t)||KF(t)||QF(t)||YF()}function GF(t){if(Array.isArray(t))return wv(t)}function KF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QF(t,e){if(t){if(typeof t=="string")return wv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wv(t,e)}}function wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,c=t.spinReverse,d=t.pulse,f=t.fixedWidth,p=t.inverse,y=t.border,m=t.listItem,w=t.flip,g=t.size,h=t.rotation,v=t.pull,S=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":d,"fa-fw":f,"fa-inverse":p,"fa-border":y,"fa-li":m,"fa-flip":w===!0,"fa-flip-horizontal":w==="horizontal"||w==="both","fa-flip-vertical":w==="vertical"||w==="both"},vo(e,"fa-".concat(g),typeof g<"u"&&g!==null),vo(e,"fa-rotate-".concat(h),typeof h<"u"&&h!==null&&h!==0),vo(e,"fa-pull-".concat(v),typeof v<"u"&&v!==null),vo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(S).map(function(E){return S[E]?E:null}).filter(function(E){return E})}function JF(t){return t=t-0,t===t}function _C(t){return JF(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var ZF=["style"];function e3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function t3(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=_C(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[e3(i)]=s:e[i]=s,e},{})}function IC(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return IC(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=t3(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[_C(u)]=c}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=HF(n,ZF);return i.attrs.style=ei(ei({},i.attrs.style),o),t.apply(void 0,[e.tag,ei(ei({},i.attrs),a)].concat(yv(r)))}var kC=!1;try{kC=!0}catch{}function n3(){if(!kC&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function Lb(t){if(t&&of(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(vv.icon)return vv.icon(t);if(t===null)return null;if(t&&of(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function wm(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?vo({},t,e):{}}var er=bn.forwardRef(function(t,e){var n=t.icon,r=t.mask,i=t.symbol,s=t.className,o=t.title,a=t.titleId,l=t.maskId,u=Lb(n),c=wm("classes",[].concat(yv(XF(t)),yv(s.split(" ")))),d=wm("transform",typeof t.transform=="string"?vv.transform(t.transform):t.transform),f=wm("mask",Lb(r)),p=UF(u,ei(ei(ei(ei({},c),d),f),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!p)return n3("Could not find icon",u),null;var y=p.abstract,m={ref:e};return Object.keys(t).forEach(function(w){er.defaultProps.hasOwnProperty(w)||(m[w]=t[w])}),r3(y[0],m)});er.displayName="FontAwesomeIcon";er.propTypes={beat:ae.bool,border:ae.bool,beatFade:ae.bool,bounce:ae.bool,className:ae.string,fade:ae.bool,flash:ae.bool,mask:ae.oneOfType([ae.object,ae.array,ae.string]),maskId:ae.string,fixedWidth:ae.bool,inverse:ae.bool,flip:ae.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ae.oneOfType([ae.object,ae.array,ae.string]),listItem:ae.bool,pull:ae.oneOf(["right","left"]),pulse:ae.bool,rotation:ae.oneOf([0,90,180,270]),shake:ae.bool,size:ae.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ae.bool,spinPulse:ae.bool,spinReverse:ae.bool,symbol:ae.oneOfType([ae.bool,ae.string]),title:ae.string,titleId:ae.string,transform:ae.oneOfType([ae.string,ae.object]),swapOpacity:ae.bool};er.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var r3=IC.bind(null,bn.createElement),i3={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20h44v44c0 11 9 20 20 20s20-9 20-20V180h44c11 0 20-9 20-20s-9-20-20-20H356V96c0-11-9-20-20-20s-20 9-20 20v44H272c-11 0-20 9-20 20z"]},s3={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},o3={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},a3={prefix:"fas",iconName:"thumbs-down",icon:[512,512,[128078,61576],"f165","M313.4 479.1c26-5.2 42.9-30.5 37.7-56.5l-2.3-11.4c-5.3-26.7-15.1-52.1-28.8-75.2H464c26.5 0 48-21.5 48-48c0-18.5-10.5-34.6-25.9-42.6C497 236.6 504 223.1 504 208c0-23.4-16.8-42.9-38.9-47.1c4.4-7.3 6.9-15.8 6.9-24.9c0-21.3-13.9-39.4-33.1-45.6c.7-3.3 1.1-6.8 1.1-10.4c0-26.5-21.5-48-48-48H294.5c-19 0-37.5 5.6-53.3 16.1L202.7 73.8C176 91.6 160 121.6 160 153.7V192v48 24.9c0 29.2 13.3 56.7 36 75l7.4 5.9c26.5 21.2 44.6 51 51.2 84.2l2.3 11.4c5.2 26 30.5 42.9 56.5 37.7zM32 384H96c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H32C14.3 96 0 110.3 0 128V352c0 17.7 14.3 32 32 32z"]},l3={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},TC=l3,u3={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new d3;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f3=function(t){const e=CC(t);return xC.encodeByteArray(e,!0)},af=function(t){return f3(t).replace(/\./g,"")},NC=function(t){try{return xC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!h3(n)||(t[n]=lf(t[n],e[n]));return t}function h3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=()=>p3().__FIREBASE_DEFAULTS__,g3=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NC(t[1]);return e&&JSON.parse(e)},Ah=()=>{try{return m3()||g3()||v3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y3=t=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},w3=()=>{var t;return(t=Ah())===null||t===void 0?void 0:t.config},OC=t=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[af(JSON.stringify(n)),af(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function _3(){var t;const e=(t=Ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return typeof self=="object"&&self.self===self}function k3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C3(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x3(){return!_3()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AC(){try{return typeof indexedDB=="object"}catch{return!1}}function N3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O3,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?A3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function A3(t,e){return t.replace(P3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function D3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Fb(s)&&Fb(o)){if(!uf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PC(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sm),i.error===void 0&&(i.error=Sm),i.complete===void 0&&(i.complete=Sm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class _r{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new S3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F3(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $3(t){return t===Gi?void 0:t}function F3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=[];var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const DC={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},z3=he.INFO,V3={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},j3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ph{constructor(e){this.name=e,this._logLevel=z3,this._logHandler=j3,this._userLogHandler=null,$0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}function B3(t){$0.forEach(e=>{e.setLogLevel(t)})}function q3(t,e){for(const n of $0){let r=null;e&&e.level&&(r=DC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:he[s].toLowerCase(),message:a,args:o,type:i.name})}}}const W3=(t,e)=>e.some(n=>t instanceof n);let Ub,zb;function H3(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G3(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RC=new WeakMap,Sv=new WeakMap,MC=new WeakMap,bm=new WeakMap,F0=new WeakMap;function K3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RC.set(n,t)}).catch(()=>{}),F0.set(e,t),e}function Q3(t){if(Sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sv.set(t,e)}let bv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y3(t){bv=t(bv)}function X3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Em(this),e,...n);return MC.set(r,e.sort?e.sort():[e]),di(r)}:G3().includes(t)?function(...e){return t.apply(Em(this),e),di(RC.get(this))}:function(...e){return di(t.apply(Em(this),e))}}function J3(t){return typeof t=="function"?X3(t):(t instanceof IDBTransaction&&Q3(t),W3(t,H3())?new Proxy(t,bv):t)}function di(t){if(t instanceof IDBRequest)return K3(t);if(bm.has(t))return bm.get(t);const e=J3(t);return e!==t&&(bm.set(t,e),F0.set(e,t)),e}const Em=t=>F0.get(t);function Z3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(di(o.result),l.oldVersion,l.newVersion,di(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const e4=["get","getKey","getAll","getAllKeys","count"],t4=["put","add","delete","clear"],_m=new Map;function Vb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _m.set(e,s),s}Y3(t=>({...t,get:(e,n,r)=>Vb(e,n)||t.get(e,n,r),has:(e,n)=>!!Vb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",jb="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Ph("@firebase/app"),i4="@firebase/app-compat",s4="@firebase/analytics-compat",o4="@firebase/analytics",a4="@firebase/app-check-compat",l4="@firebase/app-check",u4="@firebase/auth",c4="@firebase/auth-compat",d4="@firebase/database",f4="@firebase/database-compat",h4="@firebase/functions",p4="@firebase/functions-compat",m4="@firebase/installations",g4="@firebase/installations-compat",v4="@firebase/messaging",y4="@firebase/messaging-compat",w4="@firebase/performance",S4="@firebase/performance-compat",b4="@firebase/remote-config",E4="@firebase/remote-config-compat",_4="@firebase/storage",I4="@firebase/storage-compat",k4="@firebase/firestore",T4="@firebase/firestore-compat",C4="firebase",x4="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]",N4={[Ev]:"fire-core",[i4]:"fire-core-compat",[o4]:"fire-analytics",[s4]:"fire-analytics-compat",[l4]:"fire-app-check",[a4]:"fire-app-check-compat",[u4]:"fire-auth",[c4]:"fire-auth-compat",[d4]:"fire-rtdb",[f4]:"fire-rtdb-compat",[h4]:"fire-fn",[p4]:"fire-fn-compat",[m4]:"fire-iid",[g4]:"fire-iid-compat",[v4]:"fire-fcm",[y4]:"fire-fcm-compat",[w4]:"fire-perf",[S4]:"fire-perf-compat",[b4]:"fire-rc",[E4]:"fire-rc-compat",[_4]:"fire-gcs",[I4]:"fire-gcs-compat",[k4]:"fire-fst",[T4]:"fire-fst-compat","fire-js":"fire-js",[C4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Map,Ql=new Map;function cf(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function LC(t,e){t.container.addOrOverwriteComponent(e)}function _i(t){const e=t.name;if(Ql.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Ql.set(e,t);for(const n of Ei.values())cf(n,t);return!0}function Dh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function O4(t,e,n=bi){Dh(t,e).clearInstance(n)}function A4(){Ql.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},pr=new zs("app","Firebase",P4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D4=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=x4;function U0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=w3()),!n)throw pr.create("no-options");const s=Ei.get(i);if(s){if(uf(n,s.options)&&uf(r,s.config))return s;throw pr.create("duplicate-app",{appName:i})}const o=new U3(i);for(const l of Ql.values())o.addComponent(l);const a=new D4(n,r,o);return Ei.set(i,a),a}function $C(t=bi){const e=Ei.get(t);if(!e&&t===bi)return U0();if(!e)throw pr.create("no-app",{appName:t});return e}function R4(){return Array.from(Ei.values())}async function FC(t){const e=t.name;Ei.has(e)&&(Ei.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Qn(t,e,n){var r;let i=(r=N4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}_i(new _r(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function UC(t,e){if(t!==null&&typeof t!="function")throw pr.create("invalid-log-argument");q3(t,e)}function zC(t){B3(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",L4=1,Yl="firebase-heartbeat-store";let Im=null;function VC(){return Im||(Im=Z3(M4,L4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yl)}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Im}async function $4(t){try{return(await VC()).transaction(Yl).objectStore(Yl).get(jC(t))}catch(e){if(e instanceof rr)Is.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function Bb(t,e){try{const r=(await VC()).transaction(Yl,"readwrite");return await r.objectStore(Yl).put(e,jC(t)),r.done}catch(n){if(n instanceof rr)Is.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function jC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,U4=30*24*60*60*1e3;class z4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=U4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qb(),{heartbeatsToSend:n,unsentEntries:r}=V4(this._heartbeatsCache.heartbeats),i=af(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function qb(){return new Date().toISOString().substring(0,10)}function V4(t,e=F4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Wb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Wb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AC()?N3().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Wb(t){return af(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(t){_i(new _r("platform-logger",e=>new n4(e),"PRIVATE")),_i(new _r("heartbeat",e=>new z4(e),"PRIVATE")),Qn(Ev,jb,t),Qn(Ev,jb,"esm2017"),Qn("fire-js","")}B4("");const q4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rr,SDK_VERSION:Li,_DEFAULT_ENTRY_NAME:bi,_addComponent:cf,_addOrOverwriteComponent:LC,_apps:Ei,_clearComponents:A4,_components:Ql,_getProvider:Dh,_registerComponent:_i,_removeServiceInstance:O4,deleteApp:FC,getApp:$C,getApps:R4,initializeApp:U0,onLog:UC,registerVersion:Qn,setLogLevel:zC},Symbol.toStringTag,{value:"Module"}));function z0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W4=BC,qC=new zs("auth","Firebase",BC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new Ph("@firebase/auth");function H4(t,...e){df.logLevel<=he.WARN&&df.warn(`Auth (${Li}): ${t}`,...e)}function id(t,...e){df.logLevel<=he.ERROR&&df.error(`Auth (${Li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw V0(t,...e)}function Yn(t,...e){return V0(t,...e)}function G4(t,e,n){const r=Object.assign(Object.assign({},W4()),{[e]:n});return new zs("auth","Firebase",r).create(e,{appName:t.name})}function V0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qC.create(t,...e)}function ee(t,e,...n){if(!t)throw V0(e,...n)}function cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function Ir(t,e){t||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K4(){return Hb()==="http:"||Hb()==="https:"}function Hb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K4()||k3()||"connection"in navigator)?navigator.onLine:!0}function Y4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=E3()||T3()}get(){return Q4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Ou(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pa(t,e,n,r,i={}){return HC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WC.fetch()(GC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function HC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},X4),e);try{const i=new Z4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Pc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw G4(t,c,u);Ln(t,c)}}catch(i){if(i instanceof rr)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function Au(t,e,n,r,i={}){const s=await pa(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function GC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?j0(t.config,i):`${t.config.apiScheme}://${i}`}class Z4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),J4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(t,e){return pa(t,"POST","/v1/accounts:delete",e)}async function tU(t,e){return pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nU(t,e=!1){const n=ke(t),r=await n.getIdToken(e),i=B0(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:hl(km(i.auth_time)),issuedAtTime:hl(km(i.iat)),expirationTime:hl(km(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function km(t){return Number(t)*1e3}function B0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const i=NC(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rU(t){const e=B0(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&iU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hl(this.lastLoginAt),this.creationTime=hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xl(t,tU(n,{idToken:r}));ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lU(s.providerUserInfo):[],a=aU(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new KC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function oU(t){const e=ke(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lU(t){return t.map(e=>{var{providerId:n}=e,r=z0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e){const n=await HC(t,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=GC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await uU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Jl;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jl,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=z0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new KC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nU(this,e)}reload(){return oU(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xl(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,h=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:S,isAnonymous:E,providerData:b,stsTokenManager:T}=n;ee(v&&T,e,"internal-error");const _=Jl.fromJSON(this.name,T);ee(typeof v=="string",e,"internal-error"),Lr(d,e.name),Lr(f,e.name),ee(typeof S=="boolean",e,"internal-error"),ee(typeof E=="boolean",e,"internal-error"),Lr(p,e.name),Lr(y,e.name),Lr(m,e.name),Lr(w,e.name),Lr(g,e.name),Lr(h,e.name);const C=new fs({uid:v,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:E,photoURL:y,phoneNumber:p,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:h});return b&&Array.isArray(b)&&(C.providerData=b.map(O=>Object.assign({},O))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jl;i.updateFromServerResponse(n);const s=new fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ff(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Map;function dr(t){Ir(t instanceof Function,"Expected a class definition");let e=Gb.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const Kb=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return`firebase:${t}:${e}:${n}`}class Po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Po(dr(Kb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||dr(Kb);const o=sd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=fs._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Po(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Po(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ex(e))return"Blackberry";if(tx(e))return"Webos";if(q0(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(ZC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YC(t=lt()){return/firefox\//i.test(t)}function q0(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(t=lt()){return/crios\//i.test(t)}function JC(t=lt()){return/iemobile/i.test(t)}function ZC(t=lt()){return/android/i.test(t)}function ex(t=lt()){return/blackberry/i.test(t)}function tx(t=lt()){return/webos/i.test(t)}function Rh(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cU(t=lt()){var e;return Rh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dU(){return C3()&&document.documentMode===10}function nx(t=lt()){return Rh(t)||ZC(t)||tx(t)||ex(t)||/windows phone/i.test(t)||JC(t)}function fU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e=[]){let n;switch(t){case"Browser":n=Qb(lt());break;case"Worker":n=`${Qb(lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}async function ix(t,e){return pa(t,"GET","/v2/recaptchaConfig",ha(t,e))}function Yb(t){return t!==void 0&&t.enterprise!==void 0}class sx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ox(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hU().appendChild(r)})}function pU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mU="https://www.google.com/recaptcha/enterprise.js?render=",gU="recaptcha-enterprise";class ax{constructor(e){this.type=gU,this.auth=ma(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{ix(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new sx(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Yb(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Yb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}ox(mU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function hf(t,e,n,r=!1){const i=new ax(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xb(this),this.idTokenSubscription=new Xb(this),this.beforeStateQueue=new vU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}async initializeRecaptchaConfig(){const e=await ix(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new sx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new ax(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&H4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ma(t){return ke(t)}class Xb{constructor(e){this.auth=e,this.observer=null,this.addObserver=PC(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){const n=Dh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(uf(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function SU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bU(t,e,n){const r=ma(t);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=lx(e),{host:o,port:a}=EU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||_U()}function lx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EU(t){const e=lx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Jb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Jb(o)}}}function Jb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _U(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function IU(t,e){return pa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t,e){return Au(t,"POST","/v1/accounts:signInWithPassword",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}async function TU(t,e){return Au(t,"POST","/v1/accounts:signInWithEmailLink",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends W0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await hf(e,r,"signInWithPassword");return Tm(e,i)}else return Tm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await hf(e,r,"signInWithPassword");return Tm(e,s)}else return Promise.reject(i)});case"emailLink":return kU(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return IU(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return TU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return Au(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU="http://localhost";class ks extends W0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=z0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ks(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:CU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NU(t){const e=Qa(Ya(t)).link,n=e?Qa(Ya(e)).deep_link_id:null,r=Qa(Ya(t)).deep_link_id;return(r?Qa(Ya(r)).link:null)||r||n||e||t}class H0{constructor(e){var n,r,i,s,o,a;const l=Qa(Ya(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=xU((i=l.mode)!==null&&i!==void 0?i:null);ee(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=NU(e);try{return new H0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=H0.parseLink(n);return ee(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends ux{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Pu{constructor(){super("facebook.com")}static credential(e){return ks._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Pu{constructor(){super("github.com")}static credential(e){return ks._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Pu{constructor(){super("twitter.com")}static credential(e,n){return ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t,e){return Au(t,"POST","/v1/accounts:signUp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fs._fromIdTokenResponse(e,r,i),o=Zb(r);return new Ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Zb(r);return new Ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Zb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pf(e,n,r,i)}}function cx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pf._fromErrorAndOperation(t,s,e,r):s})}async function OU(t,e,n=!1){const r=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Xl(t,cx(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=B0(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,e,n=!1){const r="signIn",i=await cx(t,r,e),s=await Ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PU(t,e){return dx(ma(t),e)}async function DU(t,e,n){var r;const i=ma(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await hf(i,s,"signUpPassword");o=Cm(i,u)}else o=Cm(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await hf(i,s,"signUpPassword");return Cm(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function RU(t,e,n){return PU(ke(t),ga.credential(e,n))}function MU(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function LU(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function Mh(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(){const t=lt();return q0(t)||Rh(t)}const FU=1e3,UU=10;class hx extends fx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$U()&&fU(),this.fallbackToPolling=nx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hx.type="LOCAL";const zU=hx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends fx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}px.type="SESSION";const mx=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await VU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=G0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function BU(t){Xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function qU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HU(){return gx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebaseLocalStorageDb",GU=1,gf="firebaseLocalStorage",yx="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $h(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function KU(){const t=indexedDB.deleteDatabase(vx);return new Du(t).toPromise()}function Iv(){const t=indexedDB.open(vx,GU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gf,{keyPath:yx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await KU(),e(await Iv()))})})}async function eE(t,e,n){const r=$h(t,!0).put({[yx]:e,value:n});return new Du(r).toPromise()}async function QU(t,e){const n=$h(t,!1).get(e),r=await new Du(n).toPromise();return r===void 0?null:r.value}function tE(t,e){const n=$h(t,!0).delete(e);return new Du(n).toPromise()}const YU=800,XU=3;class wx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(HU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qU(),!this.activeServiceWorker)return;this.sender=new jU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iv();return await eE(e,mf,"1"),await tE(e,mf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$h(i,!1).getAll();return new Du(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wx.type="LOCAL";const JU=wx;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t,e){return e?dr(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends W0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ez(t){return dx(t.auth,new K0(t),t.bypassAuthState)}function tz(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),AU(n,new K0(t),t.bypassAuthState)}async function nz(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),OU(n,new K0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ez;case"linkViaPopup":case"linkViaRedirect":return nz;case"reauthViaPopup":case"reauthViaRedirect":return tz;default:Ln(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=new Ou(2e3,1e4);class yo extends Sx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=G0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,rz.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="pendingRedirect",od=new Map;class sz extends Sx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=od.get(this.auth._key());if(!e){try{const r=await oz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oz(t,e){const n=uz(e),r=lz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function az(t,e){od.set(t._key(),e)}function lz(t){return dr(t._redirectPersistence)}function uz(t){return sd(iz,t.config.apiKey,t.name)}async function cz(t,e,n=!1){const r=ma(t),i=ZU(r,e),o=await new sz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=10*60*1e3;class fz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dz&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pz(t,e={}){return pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gz=/^https?/;async function vz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pz(t);for(const n of e)try{if(yz(n))return}catch{}Ln(t,"unauthorized-domain")}function yz(t){const e=_v(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gz.test(n))return!1;if(mz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new Ou(3e4,6e4);function rE(){const t=Xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Sz(t){return new Promise((e,n)=>{var r,i,s;function o(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),n(Yn(t,"network-request-failed"))},timeout:wz.get()})}if(!((i=(r=Xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Xn().gapi)===null||s===void 0)&&s.load)o();else{const a=pU("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Yn(t,"network-request-failed"))},ox(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function bz(t){return ad=ad||Sz(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=new Ou(5e3,15e3),_z="__/auth/iframe",Iz="emulator/auth/iframe",kz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cz(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j0(e,Iz):`https://${t.config.authDomain}/${_z}`,r={apiKey:e.apiKey,appName:t.name,v:Li},i=Tz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nu(r).slice(1)}`}async function xz(t){const e=await bz(t),n=Xn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:Cz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),a=Xn().setTimeout(()=>{s(o)},Ez.get());function l(){Xn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oz=500,Az=600,Pz="_blank",Dz="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Rz(t,e,n,r=Oz,i=Az){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nz),{width:r.toString(),height:i.toString(),top:s,left:o}),u=lt().toLowerCase();n&&(a=XC(u)?Pz:n),YC(u)&&(e=e||Dz,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(cU(u)&&a!=="_self")return Mz(e||"",a),new iE(null);const d=window.open(e||"",a,c);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new iE(d)}function Mz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="__/auth/handler",$z="emulator/auth/handler",Fz=encodeURIComponent("fac");async function sE(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:i};if(e instanceof ux){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Pu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Fz}=${encodeURIComponent(l)}`:"";return`${Uz(t)}?${Nu(a).slice(1)}${u}`}function Uz({config:t}){return t.emulator?j0(t,$z):`https://${t.authDomain}/${Lz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="webStorageSupport";class zz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mx,this._completeRedirectFn=cz,this._overrideRedirectResult=az}async _openPopup(e,n,r,i){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await sE(e,n,r,_v(),i);return Rz(e,o,G0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await sE(e,n,r,_v(),i);return BU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xz(e),r=new fz(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[xm];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nx()||q0()||Rh()}}const Vz=zz;var oE="@firebase/auth",aE="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function qz(t){_i(new _r("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ee(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rx(t)},u=new yU(r,i,s,l);return SU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new _r("auth-internal",e=>{const n=ma(e.getProvider("auth").getImmediate());return(r=>new jz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(oE,aE,Bz(t)),Qn(oE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=5*60,Hz=OC("authIdTokenMaxAge")||Wz;let lE=null;const Gz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hz)return;const i=n==null?void 0:n.token;lE!==i&&(lE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ii(t=$C()){const e=Dh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wU(t,{popupRedirectResolver:Vz,persistence:[JU,zU,mx]}),r=OC("authTokenSyncURL");if(r){const s=Gz(r);LU(n,s,()=>s(n.currentUser)),MU(n,o=>s(o))}const i=y3("auth");return i&&bU(n,`http://${i}`),n}qz("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this._delegate=e,this.firebase=n,cf(e,new _r("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),FC(this._delegate)))}_getService(e,n=bi){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=bi){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){cf(this._delegate,e)}_addOrOverwriteComponent(e){LC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},uE=new zs("app-compat","Firebase",Qz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Qn,setLogLevel:zC,onLog:UC,apps:null,SDK_VERSION:Li,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:q4}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||bi,!$b(e,u))throw uE.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=U0(u,c);if($b(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(_i(u)&&u.type==="PUBLIC"){const f=(p=i())=>{if(typeof p[d]!="function")throw uE.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&lf(f,u.serviceProps),n[d]=f,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){const t=Yz(Kz);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Ex,extendNamespace:e,createSubscribe:PC,ErrorFactory:zs,deepExtend:lf});function e(n){lf(t,n)}return t}const Xz=Ex();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Ph("@firebase/app-compat"),Jz="@firebase/app-compat",Zz="0.2.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){Qn(Jz,Zz,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(I3()&&self.firebase!==void 0){cE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&cE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Or=Xz;eV();var tV="firebase",nV="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.registerVersion(tV,nV,"app-compat");var rV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,Q0=Q0||{},re=rV||self;function vf(){}function Fh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ru(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function iV(t){return Object.prototype.hasOwnProperty.call(t,Nm)&&t[Nm]||(t[Nm]=++sV)}var Nm="closure_uid_"+(1e9*Math.random()>>>0),sV=0;function oV(t,e,n){return t.call.apply(t.bind,arguments)}function aV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dt=oV:Dt=aV,Dt.apply(null,arguments)}function Dc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $i(){this.s=this.s,this.o=this.o}var lV=0;$i.prototype.s=!1;$i.prototype.na=function(){!this.s&&(this.s=!0,this.M(),lV!=0)&&iV(this)};$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Y0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function dE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var uV=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",vf,e),re.removeEventListener("test",vf,e)}catch{}return t}();function yf(t){return/^[\s\xa0]*$/.test(t)}var fE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Om(t,e){return t<e?-1:t>e?1:0}function Uh(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function jn(t){return Uh().indexOf(t)!=-1}function X0(t){return X0[" "](t),t}X0[" "]=vf;function cV(t){var e=hV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var dV=jn("Opera"),Qo=jn("Trident")||jn("MSIE"),Ix=jn("Edge"),kv=Ix||Qo,kx=jn("Gecko")&&!(Uh().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge"))&&!(jn("Trident")||jn("MSIE"))&&!jn("Edge"),fV=Uh().toLowerCase().indexOf("webkit")!=-1&&!jn("Edge");function Tx(){var t=re.document;return t?t.documentMode:void 0}var wf;e:{var Am="",Pm=function(){var t=Uh();if(kx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ix)return/Edge\/([\d\.]+)/.exec(t);if(Qo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fV)return/WebKit\/(\S+)/.exec(t);if(dV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pm&&(Am=Pm?Pm[1]:""),Qo){var Dm=Tx();if(Dm!=null&&Dm>parseFloat(Am)){wf=String(Dm);break e}}wf=Am}var hV={};function pV(){return cV(function(){let t=0;const e=fE(String(wf)).split("."),n=fE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Om(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Om(i[2].length==0,s[2].length==0)||Om(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Tv;if(re.document&&Qo){var hE=Tx();Tv=hE||parseInt(wf,10)||void 0}else Tv=void 0;var mV=Tv;function eu(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(kx){e:{try{X0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&eu.X.h.call(this)}}Ct(eu,Rt);var gV={2:"touch",3:"pen",4:"mouse"};eu.prototype.h=function(){eu.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mu="closure_listenable_"+(1e6*Math.random()|0),vV=0;function yV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++vV,this.ba=this.ea=!1}function zh(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function J0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Cx(t){const e={};for(const n in t)e[n]=t[n];return e}const pE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<pE.length;s++)n=pE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vh(t){this.src=t,this.g={},this.h=0}Vh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=xv(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new yV(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Cv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=_x(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(zh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function xv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Z0="closure_lm_"+(1e6*Math.random()|0),Rm={};function Nx(t,e,n,r,i){if(r&&r.once)return Ax(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nx(t,e[s],n,r,i);return null}return n=nw(n),t&&t[Mu]?t.N(e,n,Ru(r)?!!r.capture:!!r,i):Ox(t,e,n,!1,r,i)}function Ox(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ru(i)?!!i.capture:!!i,a=tw(t);if(a||(t[Z0]=a=new Vh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=wV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wV(){function t(n){return e.call(t.src,t.listener,n)}const e=SV;return t}function Ax(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ax(t,e[s],n,r,i);return null}return n=nw(n),t&&t[Mu]?t.O(e,n,Ru(r)?!!r.capture:!!r,i):Ox(t,e,n,!0,r,i)}function Px(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Px(t,e[s],n,r,i);else r=Ru(r)?!!r.capture:!!r,n=nw(n),t&&t[Mu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=xv(s,n,r,i),-1<n&&(zh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xv(e,n,r,i)),(n=-1<t?e[t]:null)&&ew(n))}function ew(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Mu])Cv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=tw(e))?(Cv(n,t),n.h==0&&(n.src=null,e[Z0]=null)):zh(t)}}}function Dx(t){return t in Rm?Rm[t]:Rm[t]="on"+t}function SV(t,e){if(t.ba)t=!0;else{e=new eu(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&ew(t),t=n.call(r,e)}return t}function tw(t){return t=t[Z0],t instanceof Vh?t:null}var Mm="__closure_events_fn_"+(1e9*Math.random()>>>0);function nw(t){return typeof t=="function"?t:(t[Mm]||(t[Mm]=function(e){return t.handleEvent(e)}),t[Mm])}function gt(){$i.call(this),this.i=new Vh(this),this.P=this,this.I=null}Ct(gt,$i);gt.prototype[Mu]=!0;gt.prototype.removeEventListener=function(t,e,n,r){Px(this,t,e,n,r)};function It(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var i=e;e=new Rt(r,t),xx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Rc(o,r,!0,e)&&i}if(o=e.g=t,i=Rc(o,r,!0,e)&&i,i=Rc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Rc(o,r,!1,e)&&i}gt.prototype.M=function(){if(gt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zh(n[r]);delete t.g[e],t.h--}}this.I=null};gt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Rc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Cv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var rw=re.JSON.stringify;function bV(){var t=Lx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class EV{constructor(){this.h=this.g=null}add(e,n){const r=Rx.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Rx=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new _V,t=>t.reset());class _V{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function IV(t){re.setTimeout(()=>{throw t},0)}function Mx(t,e){Nv||kV(),Ov||(Nv(),Ov=!0),Lx.add(t,e)}var Nv;function kV(){var t=re.Promise.resolve(void 0);Nv=function(){t.then(TV)}}var Ov=!1,Lx=new EV;function TV(){for(var t;t=bV();){try{t.h.call(t.g)}catch(n){IV(n)}var e=Rx;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ov=!1}function jh(t,e){gt.call(this),this.h=t||1,this.g=e||re,this.j=Dt(this.lb,this),this.l=Date.now()}Ct(jh,gt);H=jh.prototype;H.ca=!1;H.R=null;H.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),It(this,"tick"),this.ca&&(iw(this),this.start()))}};H.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iw(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}H.M=function(){jh.X.M.call(this),iw(this),delete this.g};function sw(t,e,n){if(typeof t=="function")n&&(t=Dt(t,n));else if(t&&typeof t.handleEvent=="function")t=Dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function $x(t){t.g=sw(()=>{t.g=null,t.i&&(t.i=!1,$x(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class CV extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$x(this)}M(){super.M(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(t){$i.call(this),this.h=t,this.g={}}Ct(tu,$i);var mE=[];function Fx(t,e,n,r){Array.isArray(n)||(n&&(mE[0]=n.toString()),n=mE);for(var i=0;i<n.length;i++){var s=Nx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ux(t){J0(t.g,function(e,n){this.g.hasOwnProperty(n)&&ew(e)},t),t.g={}}tu.prototype.M=function(){tu.X.M.call(this),Ux(this)};tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bh(){this.g=!0}Bh.prototype.Aa=function(){this.g=!1};function xV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function NV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function wo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+AV(t,n)+(r?" "+r:"")})}function OV(t,e){t.info(function(){return"TIMEOUT: "+e})}Bh.prototype.info=function(){};function AV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return rw(n)}catch{return e}}var Vs={},gE=null;function qh(){return gE=gE||new gt}Vs.Pa="serverreachability";function zx(t){Rt.call(this,Vs.Pa,t)}Ct(zx,Rt);function nu(t){const e=qh();It(e,new zx(e))}Vs.STAT_EVENT="statevent";function Vx(t,e){Rt.call(this,Vs.STAT_EVENT,t),this.stat=e}Ct(Vx,Rt);function zt(t){const e=qh();It(e,new Vx(e,t))}Vs.Qa="timingevent";function jx(t,e){Rt.call(this,Vs.Qa,t),this.size=e}Ct(jx,Rt);function Lu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}var Wh={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Bx={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ow(){}ow.prototype.h=null;function vE(t){return t.h||(t.h=t.i())}function qx(){}var $u={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function aw(){Rt.call(this,"d")}Ct(aw,Rt);function lw(){Rt.call(this,"c")}Ct(lw,Rt);var Av;function Hh(){}Ct(Hh,ow);Hh.prototype.g=function(){return new XMLHttpRequest};Hh.prototype.i=function(){return{}};Av=new Hh;function Fu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new tu(this),this.O=PV,t=kv?125:void 0,this.T=new jh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Wx}function Wx(){this.i=null,this.g="",this.h=!1}var PV=45e3,Pv={},Sf={};H=Fu.prototype;H.setTimeout=function(t){this.O=t};function Dv(t,e,n){t.K=1,t.v=Kh(kr(e)),t.s=n,t.P=!0,Hx(t,null)}function Hx(t,e){t.F=Date.now(),Uu(t),t.A=kr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),eN(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Wx,t.g=bN(t.l,n?e:null,!t.s),0<t.N&&(t.L=new CV(Dt(t.La,t,t.g),t.N)),Fx(t.S,t.g,"readystatechange",t.ib),e=t.H?Cx(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),nu(),xV(t.j,t.u,t.A,t.m,t.U,t.s)}H.ib=function(t){t=t.target;const e=this.L;e&&fr(t)==3?e.l():this.La(t)};H.La=function(t){try{if(t==this.g)e:{const c=fr(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>c)&&(c!=3||kv||this.g&&(this.h.h||this.g.fa()||bE(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?nu(3):nu(2)),Gh(this);var n=this.g.aa();this.Y=n;t:if(Gx(this)){var r=bE(this.g);t="";var i=r.length,s=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),pl(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,NV(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(a)){var u=a;break t}}u=null}if(n=u)wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rv(this,n);else{this.i=!1,this.o=3,zt(12),ss(this),pl(this);break e}}this.P?(Kx(this,c,o),kv&&this.i&&c==3&&(Fx(this.S,this.T,"tick",this.hb),this.T.start())):(wo(this.j,this.m,o,null),Rv(this,o)),c==4&&ss(this),this.i&&!this.I&&(c==4?vN(this.l,this):(this.i=!1,Uu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,zt(12)):(this.o=0,zt(13)),ss(this),pl(this)}}}catch{}finally{}};function Gx(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Kx(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=DV(t,n),i==Sf){e==4&&(t.o=4,zt(14),r=!1),wo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Pv){t.o=4,zt(15),wo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else wo(t.j,t.m,i,null),Rv(t,i);Gx(t)&&i!=Sf&&i!=Pv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),mw(e),e.K=!0,zt(11))):(wo(t.j,t.m,n,"[Invalid Chunked Response]"),ss(t),pl(t))}H.hb=function(){if(this.g){var t=fr(this.g),e=this.g.fa();this.C<e.length&&(Gh(this),Kx(this,t,e),this.i&&t!=4&&Uu(this))}};function DV(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Sf:(n=Number(e.substring(n,r)),isNaN(n)?Pv:(r+=1,r+n>e.length?Sf:(e=e.substr(r,n),t.C=r+n,e)))}H.cancel=function(){this.I=!0,ss(this)};function Uu(t){t.V=Date.now()+t.O,Qx(t,t.O)}function Qx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Lu(Dt(t.gb,t),e)}function Gh(t){t.B&&(re.clearTimeout(t.B),t.B=null)}H.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(OV(this.j,this.A),this.K!=2&&(nu(),zt(17)),ss(this),this.o=2,pl(this)):Qx(this,this.V-t)};function pl(t){t.l.G==0||t.I||vN(t.l,t)}function ss(t){Gh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,iw(t.T),Ux(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Rv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Mv(n.h,t))){if(!t.J&&Mv(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)_f(n),Xh(n);else break e;pw(n),zt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Lu(Dt(n.cb,n),6e3));if(1>=rN(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else os(n,11)}else if((t.J||n.g==t)&&_f(n),!yf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const d=u[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.h;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uw(s,s.h),s.h=null))}if(r.D){const m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Fe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=SN(r,r.H?r.ka:null,r.V),o.J){iN(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Gh(a),Uu(a)),r.g=o}else mN(r);0<n.i.length&&Jh(n)}else u[0]!="stop"&&u[0]!="close"||os(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?os(n,7):hw(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}nu(4)}catch{}}function RV(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function MV(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=MV(t),r=RV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Xx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof hs){this.h=e!==void 0?e:t.h,bf(this,t.j),this.s=t.s,this.g=t.g,Ef(this,t.m),this.l=t.l,e=t.i;var n=new ru;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yE(this,n),this.o=t.o}else t&&(n=String(t).match(Xx))?(this.h=!!e,bf(this,n[1]||"",!0),this.s=Xa(n[2]||""),this.g=Xa(n[3]||"",!0),Ef(this,n[4]),this.l=Xa(n[5]||"",!0),yE(this,n[6]||"",!0),this.o=Xa(n[7]||"")):(this.h=!!e,this.i=new ru(null,this.h))}hs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ja(e,wE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ja(e,wE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ja(n,n.charAt(0)=="/"?UV:FV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ja(n,VV)),t.join("")};function kr(t){return new hs(t)}function bf(t,e,n){t.j=n?Xa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ef(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yE(t,e,n){e instanceof ru?(t.i=e,jV(t.i,t.h)):(n||(e=Ja(e,zV)),t.i=new ru(e,t.h))}function Fe(t,e,n){t.i.set(e,n)}function Kh(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ja(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$V),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $V(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wE=/[#\/\?@]/g,FV=/[#\?:]/g,UV=/[#\?]/g,zV=/[#\?@]/g,VV=/#/g;function ru(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fi(t){t.g||(t.g=new Map,t.h=0,t.i&&LV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=ru.prototype;H.add=function(t,e){Fi(this),this.i=null,t=va(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Jx(t,e){Fi(t),e=va(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Zx(t,e){return Fi(t),e=va(t,e),t.g.has(e)}H.forEach=function(t,e){Fi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.oa=function(){Fi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};H.W=function(t){Fi(this);let e=[];if(typeof t=="string")Zx(this,t)&&(e=e.concat(this.g.get(va(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Fi(this),this.i=null,t=va(this,t),Zx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function eN(t,e,n){Jx(t,e),0<n.length&&(t.i=null,t.g.set(va(t,e),Y0(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function va(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jV(t,e){e&&!t.j&&(Fi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Jx(this,r),eN(this,i,n))},t)),t.j=e}var BV=class{constructor(e,n){this.h=e,this.g=n}};function tN(t){this.l=t||qV,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ga&&re.g.Ga()&&re.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qV=10;function nN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function rN(t){return t.h?1:t.g?t.g.size:0}function Mv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uw(t,e){t.g?t.g.add(e):t.h=e}function iN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}tN.prototype.cancel=function(){if(this.i=sN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sN(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Y0(t.i)}function cw(){}cw.prototype.stringify=function(t){return re.JSON.stringify(t,void 0)};cw.prototype.parse=function(t){return re.JSON.parse(t,void 0)};function WV(){this.g=new cw}function HV(t,e,n){const r=n||"";try{Yx(t,function(i,s){let o=i;Ru(i)&&(o=rw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function GV(t,e){const n=new Bh;if(re.Image){const r=new Image;r.onload=Dc(Mc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Dc(Mc,n,r,"TestLoadImage: error",!1,e),r.onabort=Dc(Mc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dc(Mc,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Mc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function zu(t){this.l=t.ac||null,this.j=t.jb||!1}Ct(zu,ow);zu.prototype.g=function(){return new Qh(this.l,this.j)};zu.prototype.i=function(t){return function(){return t}}({});function Qh(t,e){gt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=dw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Qh,gt);var dw=0;H=Qh.prototype;H.open=function(t,e){if(this.readyState!=dw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,iu(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||re).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vu(this)),this.readyState=dw};H.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,iu(this)),this.g&&(this.readyState=3,iu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oN(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function oN(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}H.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Vu(this):iu(this),this.readyState==3&&oN(this)}};H.Va=function(t){this.g&&(this.response=this.responseText=t,Vu(this))};H.Ua=function(t){this.g&&(this.response=t,Vu(this))};H.ga=function(){this.g&&Vu(this)};function Vu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,iu(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function iu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Qh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var KV=re.JSON.parse;function Qe(t){gt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aN,this.K=this.L=!1}Ct(Qe,gt);var aN="",QV=/^https?$/i,YV=["POST","PUT"];H=Qe.prototype;H.Ka=function(t){this.L=t};H.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=this.u?vE(this.u):vE(Av),this.g.onreadystatechange=Dt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){SE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&t instanceof re.FormData,!(0<=_x(YV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cN(this),0<this.B&&((this.K=XV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.qa,this)):this.A=sw(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){SE(this,s)}};function XV(t){return Qo&&pV()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.qa=function(){typeof Q0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function SE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lN(t),Yh(t)}function lN(t){t.D||(t.D=!0,It(t,"complete"),It(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Yh(this))};H.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yh(this,!0)),Qe.X.M.call(this)};H.Ha=function(){this.s||(this.F||this.v||this.l?uN(this):this.fb())};H.fb=function(){uN(this)};function uN(t){if(t.h&&typeof Q0<"u"&&(!t.C[1]||fr(t)!=4||t.aa()!=2)){if(t.v&&fr(t)==4)sw(t.Ha,0,t);else if(It(t,"readystatechange"),fr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Xx)[1]||null;if(!i&&re.self&&re.self.location){var s=re.self.location.protocol;i=s.substr(0,s.length-1)}r=!QV.test(i?i.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var o=2<fr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",lN(t)}}finally{Yh(t)}}}}function Yh(t,e){if(t.g){cN(t);const n=t.g,r=t.C[0]?vf:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function cN(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}function fr(t){return t.g?t.g.readyState:0}H.aa=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}};H.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),KV(e)}};function bE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case aN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}H.Ea=function(){return this.m};H.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function dN(t){let e="";return J0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Fe(t,e,n))}function La(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fN(t){this.Ca=0,this.i=[],this.j=new Bh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=La("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=La("baseRetryDelayMs",5e3,t),this.bb=La("retryDelaySeedMs",1e4,t),this.$a=La("forwardChannelMaxRetries",2,t),this.ta=La("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new tN(t&&t.concurrentRequestLimit),this.Fa=new WV,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}H=fN.prototype;H.ma=8;H.G=1;function hw(t){if(hN(t),t.G==3){var e=t.U++,n=kr(t.F);Fe(n,"SID",t.I),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),ju(t,n),e=new Fu(t,t.j,e,void 0),e.K=2,e.v=Kh(kr(n)),n=!1,re.navigator&&re.navigator.sendBeacon&&(n=re.navigator.sendBeacon(e.v.toString(),"")),!n&&re.Image&&(new Image().src=e.v,n=!0),n||(e.g=bN(e.l,null),e.g.da(e.v)),e.F=Date.now(),Uu(e)}wN(t)}function Xh(t){t.g&&(mw(t),t.g.cancel(),t.g=null)}function hN(t){Xh(t),t.u&&(re.clearTimeout(t.u),t.u=null),_f(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function Jh(t){nN(t.h)||t.m||(t.m=!0,Mx(t.Ja,t),t.C=0)}function JV(t,e){return rN(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Lu(Dt(t.Ja,t,e),yN(t,t.C)),t.C++,!0)}H.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Fu(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=Cx(s),xx(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=pN(this,i,e),n=kr(this.F),Fe(n,"RID",t),Fe(n,"CVER",22),this.D&&Fe(n,"X-HTTP-Session-Id",this.D),ju(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(dN(s)))+"&"+e:this.o&&fw(n,this.o,s)),uw(this.h,i),this.Ya&&Fe(n,"TYPE","init"),this.O?(Fe(n,"$req",e),Fe(n,"SID","null"),i.Z=!0,Dv(i,n,null)):Dv(i,n,e),this.G=2}}else this.G==3&&(t?EE(this,t):this.i.length==0||nN(this.h)||EE(this))};function EE(t,e){var n;e?n=e.m:n=t.U++;const r=kr(t.F);Fe(r,"SID",t.I),Fe(r,"RID",n),Fe(r,"AID",t.T),ju(t,r),t.o&&t.s&&fw(r,t.o,t.s),n=new Fu(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=pN(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),uw(t.h,n),Dv(n,r,e)}function ju(t,e){t.ia&&J0(t.ia,function(n,r){Fe(e,r,n)}),t.l&&Yx({},function(n,r){Fe(e,r,n)})}function pN(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Dt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{HV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function mN(t){t.g||t.u||(t.Z=1,Mx(t.Ia,t),t.A=0)}function pw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Lu(Dt(t.Ia,t),yN(t,t.A)),t.A++,!0)}H.Ia=function(){if(this.u=null,gN(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Lu(Dt(this.eb,this),t)}};H.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,zt(10),Xh(this),gN(this))};function mw(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function gN(t){t.g=new Fu(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=kr(t.sa);Fe(e,"RID","rpc"),Fe(e,"SID",t.I),Fe(e,"CI",t.L?"0":"1"),Fe(e,"AID",t.T),Fe(e,"TYPE","xmlhttp"),ju(t,e),t.o&&t.s&&fw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Kh(kr(e)),n.s=null,n.P=!0,Hx(n,t)}H.cb=function(){this.v!=null&&(this.v=null,Xh(this),pw(this),zt(19))};function _f(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function vN(t,e){var n=null;if(t.g==e){_f(t),mw(t),t.g=null;var r=2}else if(Mv(t.h,e))n=e.D,iN(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=qh(),It(r,new jx(r,n)),Jh(t)}else mN(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&JV(t,e)||r==2&&pw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:os(t,5);break;case 4:os(t,10);break;case 3:os(t,6);break;default:os(t,2)}}}function yN(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function os(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Dt(t.kb,t);n||(n=new hs("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||bf(n,"https"),Kh(n)),GV(n.toString(),r)}else zt(2);t.G=0,t.l&&t.l.va(e),wN(t),hN(t)}H.kb=function(t){t?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function wN(t){if(t.G=0,t.la=[],t.l){const e=sN(t.h);(e.length!=0||t.i.length!=0)&&(dE(t.la,e),dE(t.la,t.i),t.h.i.length=0,Y0(t.i),t.i.length=0),t.l.ua()}}function SN(t,e,n){var r=n instanceof hs?kr(n):new hs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Ef(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new hs(null,void 0);r&&bf(s,r),e&&(s.g=e),i&&Ef(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Fe(r,n,e),Fe(r,"VER",t.ma),ju(t,r),r}function bN(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Qe(new zu({jb:!0})):new Qe(t.ra),e.Ka(t.H),e}function EN(){}H=EN.prototype;H.xa=function(){};H.wa=function(){};H.va=function(){};H.ua=function(){};H.Ra=function(){};function If(){if(Qo&&!(10<=Number(mV)))throw Error("Environmental error: no available transport.")}If.prototype.g=function(t,e){return new un(t,e)};function un(t,e){gt.call(this),this.g=new fN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ya(this)}Ct(un,gt);un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;zt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=SN(t,null,t.V),Jh(t)};un.prototype.close=function(){hw(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=rw(t),t=n);e.i.push(new BV(e.ab++,t)),e.G==3&&Jh(e)};un.prototype.M=function(){this.g.l=null,delete this.j,hw(this.g),delete this.g,un.X.M.call(this)};function _N(t){aw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(_N,aw);function IN(){lw.call(this),this.status=1}Ct(IN,lw);function ya(t){this.g=t}Ct(ya,EN);ya.prototype.xa=function(){It(this.g,"a")};ya.prototype.wa=function(t){It(this.g,new _N(t))};ya.prototype.va=function(t){It(this.g,new IN)};ya.prototype.ua=function(){It(this.g,"b")};If.prototype.createWebChannel=If.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;Wh.NO_ERROR=0;Wh.TIMEOUT=8;Wh.HTTP_ERROR=6;Bx.COMPLETE="complete";qx.EventType=$u;$u.OPEN="a";$u.CLOSE="b";$u.ERROR="c";$u.MESSAGE="d";gt.prototype.listen=gt.prototype.N;Qe.prototype.listenOnce=Qe.prototype.O;Qe.prototype.getLastError=Qe.prototype.Oa;Qe.prototype.getLastErrorCode=Qe.prototype.Ea;Qe.prototype.getStatus=Qe.prototype.aa;Qe.prototype.getResponseJson=Qe.prototype.Sa;Qe.prototype.getResponseText=Qe.prototype.fa;Qe.prototype.send=Qe.prototype.da;Qe.prototype.setWithCredentials=Qe.prototype.Ka;var ZV=function(){return new If},ej=function(){return qh()},Lm=Wh,tj=Bx,nj=Vs,_E={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},rj=zu,Lc=qx,ij=Qe;const IE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Ph("@firebase/firestore");function Lv(){return ki.logLevel}function sj(t){ki.setLogLevel(t)}function P(t,...e){if(ki.logLevel<=he.DEBUG){const n=e.map(gw);ki.debug(`Firestore (${wa}): ${t}`,...n)}}function et(t,...e){if(ki.logLevel<=he.ERROR){const n=e.map(gw);ki.error(`Firestore (${wa}): ${t}`,...n)}}function Tr(t,...e){if(ki.logLevel<=he.WARN){const n=e.map(gw);ki.warn(`Firestore (${wa}): ${t}`,...n)}}function gw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw et(e),new Error(e)}function G(t,e){t||V()}function oj(t,e){t||V()}function $(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class lj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uj{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G(typeof r.accessToken=="string"),new kN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(e===null||typeof e=="string"),new ft(e)}}class cj{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dj{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new cj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G(typeof n.token=="string"),this.T=n.token,new fj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function Yo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function CN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new ze(0,0))}static max(){return new K(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return su.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof su?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pe extends su{construct(e,n,r){return new pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pe(n)}static emptyPath(){return new pe([])}}const mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends su{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return mj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new A(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new A(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(pe.fromString(e))}static fromName(e){return new L(pe.fromString(e).popFirst(5))}static empty(){return new L(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function $v(t){return t.fields.find(e=>e.kind===2)}function Ki(t){return t.fields.filter(e=>e.kind!==2)}xN.UNKNOWN_ID=-1;class gj{constructor(e,n){this.fieldPath=e,this.kind=n}}class kf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new kf(0,cn.min())}}function NN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new cn(i,L.empty(),e)}function ON(t){return new cn(t.readTime,t.key,-1)}class cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cn(K.min(),L.empty(),-1)}static max(){return new cn(K.max(),L.empty(),-1)}}function vw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==AN)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.R=new pt,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new ml(e,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=yw(r.target.error);this.R.reject(new ml(e,i))}}static open(e,n,r,i){try{return new Zh(n,e.transaction(i,r))}catch(s){throw new ml(n,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(P("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yj(n)}}class Pn{constructor(e,n,r){this.name=e,this.version=n,this.V=r,Pn.S(lt())===12.2&&et("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return P("SimpleDb","Removing database:",e),Qi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!AC())return!1;if(Pn.C())return!0;const e=lt(),n=Pn.S(e),r=0<n&&n<10,i=Pn.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static O(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(P("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new ml(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new A(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ml(e,o))},i.onupgradeneeded=s=>{P("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.M(o,i.transaction,s.oldVersion,this.version).next(()=>{P("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=Zh.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(P("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vj{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Qi(this.L.delete())}}class ml extends A{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function zi(t){return t.name==="IndexedDbTransactionError"}class yj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(P("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(P("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qi(r)}add(e){return P("SimpleDb","ADD",this.store.name,e,e),Qi(this.store.add(e))}get(e){return Qi(this.store.get(e)).next(n=>(n===void 0&&(n=null),P("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return P("SimpleDb","DELETE",this.store.name,e),Qi(this.store.delete(e))}count(){return P("SimpleDb","COUNT",this.store.name),Qi(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new x((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){P("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}X(e){const n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{const o=yw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new vj(a),u=n(a.primaryKey,a.value,l);if(u instanceof x){const c=u.catch(d=>(l.done(),x.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Qi(t){return new x((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=yw(r.target.error);n(i)}})}let kE=!1;function yw(t){const e=Pn.S(lt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kE||(kE=!0,setTimeout(()=>{throw r},0)),r}}return t}class wj{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){P("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{P("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){zi(n)?P("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ui(n)}await this.et(6e4)})}}class Sj{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return P("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(P("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=ON(s);vw(o,r)>0&&(r=o)}),new cn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Qt.ct=-1;function Bu(t){return t==null}function ou(t){return t===0&&1/t==-1/0}function DN(t){return typeof t=="number"&&Number.isInteger(t)&&!ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TE(e)),e=bj(t.get(n),e);return TE(e)}function bj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function TE(t){return t+""}function qn(t){const e=t.length;if(G(e>=2),e===2)return G(t.charAt(0)===""&&t.charAt(1)===""),pe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&V(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:V()}s=o+2}return new pe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e){return[t,jt(e)]}function RN(t,e,n){return[t,jt(e),n]}const Ej={},_j=["prefixPath","collectionGroup","readTime","documentId"],Ij=["prefixPath","collectionGroup","documentId"],kj=["collectionGroup","readTime","prefixPath","documentId"],Tj=["canonicalId","targetId"],Cj=["targetId","path"],xj=["path","targetId"],Nj=["collectionId","parent"],Oj=["indexId","uid"],Aj=["uid","sequenceNumber"],Pj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dj=["indexId","uid","orderedDocumentKey"],Rj=["userId","collectionPath","documentId"],Mj=["userId","collectionPath","largestBatchId"],Lj=["userId","collectionGroup","largestBatchId"],MN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$j=[...MN,"documentOverlays"],LN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$N=LN,Fj=[...$N,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends PN{constructor(e,n){super(),this.at=e,this.currentSequenceNumber=n}}function yt(t,e){const n=$(t);return Pn.O(n.at,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();const e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(t,e,n,r,i){return this}insert(t,e,n){return new bt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ie(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xs(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new Ie(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Uj("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const Vj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(G(!!t),typeof t=="string"){let e=0;const n=Vj.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Cs(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function UN(t){const e=t.mapValue.fields.__previous_value__;return ww(e)?UN(e):e}function au(t){const e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ci{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ci("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ci&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ud={nullValue:"NULL_VALUE"};function xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ww(t)?4:zN(t)?9007199254740991:10:V()}function tr(t,e){if(t===e)return!0;const n=xs(t);if(n!==xs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return au(t).isEqual(au(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ti(r.timestampValue),o=Ti(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Cs(r.bytesValue).isEqual(Cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ge(r.doubleValue),o=Ge(i.doubleValue);return s===o?ou(s)===ou(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Yo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(xE(s)!==xE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!tr(s[a],o[a])))return!1;return!0}(t,e);default:return V()}}function lu(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function xi(t,e){if(t===e)return 0;const n=xs(t),r=xs(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ge(i.integerValue||i.doubleValue),a=Ge(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OE(t.timestampValue,e.timestampValue);case 4:return OE(au(t),au(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Cs(i),a=Cs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ie(o[l],a[l]);if(u!==0)return u}return ie(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ie(Ge(i.latitude),Ge(s.latitude));return o!==0?o:ie(Ge(i.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=xi(o[l],a[l]);if(u)return u}return ie(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ti.mapValue&&s===ti.mapValue)return 0;if(i===ti.mapValue)return 1;if(s===ti.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ie(a[c],u[c]);if(d!==0)return d;const f=xi(o[a[c]],l[u[c]]);if(f!==0)return f}return ie(a.length,u.length)}(t.mapValue,e.mapValue);default:throw V()}}function OE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Ti(t),r=Ti(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Xo(t){return Uv(t)}function Uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ti(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,L.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Uv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Uv(r.fields[a])}`;return s+"}"}(t.mapValue):V();var e,n}function Ns(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zv(t){return!!t&&"integerValue"in t}function uu(t){return!!t&&"arrayValue"in t}function AE(t){return!!t&&"nullValue"in t}function PE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cd(t){return!!t&&"mapValue"in t}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Bj(t){return"nullValue"in t?ud:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ns(Ci.empty(),L.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:V()}function qj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ns(Ci.empty(),L.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ti:V()}function DE(t,e){const n=xi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function RE(t,e){const n=xi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.value=e}static empty(){return new Et({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){js(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Et(gl(this.value))}}function VN(t){const e=[];return js(t.fields,(n,r)=>{const i=new tt([n]);if(cd(r)){const s=VN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ae(e,0,K.min(),K.min(),K.min(),Et.empty(),0)}static newFoundDocument(e,n,r,i){return new Ae(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new Ae(e,2,n,K.min(),K.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new Ae(e,3,n,K.min(),K.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.position=e,this.inclusive=n}}function ME(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=xi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n="asc"){this.field=e,this.dir=n}}function Wj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{}class ce extends jN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hj(e,n,r):n==="array-contains"?new Qj(e,r):n==="in"?new KN(e,r):n==="not-in"?new Yj(e,r):n==="array-contains-any"?new Xj(e,r):new ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gj(e,r):new Kj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xi(n,this.value)):n!==null&&xs(this.value)===xs(n)&&this.matchesComparison(xi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Se extends jN{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Se(e,n)}matches(e){return Jo(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Jo(t){return t.op==="and"}function Vv(t){return t.op==="or"}function Sw(t){return BN(t)&&Jo(t)}function BN(t){for(const e of t.filters)if(e instanceof Se)return!1;return!0}function jv(t){if(t instanceof ce)return t.field.canonicalString()+t.op.toString()+Xo(t.value);if(Sw(t))return t.filters.map(e=>jv(e)).join(",");{const e=t.filters.map(n=>jv(n)).join(",");return`${t.op}(${e})`}}function qN(t,e){return t instanceof ce?function(n,r){return r instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&tr(n.value,r.value)}(t,e):t instanceof Se?function(n,r){return r instanceof Se&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&qN(s,r.filters[o]),!0):!1}(t,e):void V()}function WN(t,e){const n=t.filters.concat(e);return Se.create(n,t.op)}function HN(t){return t instanceof ce?function(e){return`${e.field.canonicalString()} ${e.op} ${Xo(e.value)}`}(t):t instanceof Se?function(e){return e.op.toString()+" {"+e.getFilters().map(HN).join(" ,")+"}"}(t):"Filter"}class Hj extends ce{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gj extends ce{constructor(e,n){super(e,"in",n),this.keys=GN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kj extends ce{constructor(e,n){super(e,"not-in",n),this.keys=GN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class Qj extends ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uu(n)&&lu(n.arrayValue,this.value)}}class KN extends ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class Yj extends ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class Xj extends ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function Bv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Jj(t,e,n,r,i,s,o)}function Os(t){const e=$(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),e.ft=n}return e.ft}function qu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LE(t.startAt,e.startAt)&&LE(t.endAt,e.endAt)}function Tf(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Cf(t,e){return t.filters.filter(n=>n instanceof ce&&n.field.isEqual(e))}function $E(t,e,n){let r=ud,i=!0;for(const s of Cf(t,e)){let o=ud,a=!0;switch(s.op){case"<":case"<=":o=Bj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ud}DE({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];DE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function FE(t,e,n){let r=ti,i=!0;for(const s of Cf(t,e)){let o=ti,a=!0;switch(s.op){case">=":case">":o=qj(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ti}RE({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];RE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function QN(t,e,n,r,i,s,o,a){return new Ar(t,e,n,r,i,s,o,a)}function Sa(t){return new Ar(t)}function UE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ep(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Ew(t){return t.collectionGroup!==null}function ps(t){const e=$(t);if(e.dt===null){e.dt=[];const n=ep(e),r=bw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ro(n)),e.dt.push(new Ro(tt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ro(tt.keyField(),s))}}}return e.dt}function tn(t){const e=$(t);if(!e.wt)if(e.limitType==="F")e.wt=Bv(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ps(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ro(s.field,o))}const r=e.endAt?new Ni(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ni(e.startAt.position,e.startAt.inclusive):null;e.wt=Bv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function qv(t,e){e.getFirstInequalityField(),ep(t);const n=t.filters.concat([e]);return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new Ar(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wu(t,e){return qu(tn(t),tn(e))&&t.limitType===e.limitType}function YN(t){return`${Os(tn(t))}|lt:${t.limitType}`}function Wv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HN(r)).join(", ")}]`),Bu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xo(r)).join(",")),`Target(${n})`}(tn(t))}; limitType=${t.limitType})`}function Hu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ps(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=ME(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ps(n),r)||n.endAt&&!function(i,s,o){const a=ME(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ps(n),r))}(t,e)}function XN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JN(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const s=Zj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Zj(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?xi(a,l):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Ye(L.comparator);function Xt(){return e5}const ZN=new Ye(L.comparator);function Za(...t){let e=ZN;for(const n of t)e=e.insert(n.key,n);return e}function eO(t){let e=ZN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wn(){return vl()}function tO(){return vl()}function vl(){return new Vi(t=>t.toString(),(t,e)=>t.isEqual(e))}const t5=new Ye(L.comparator),n5=new Ie(L.comparator);function se(...t){let e=n5;for(const n of t)e=e.add(n);return e}const r5=new Ie(ie);function tp(){return r5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function rO(t){return{integerValue:""+t}}function iO(t,e){return DN(e)?rO(e):nO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this._=void 0}}function i5(t,e,n){return t instanceof Zo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof As?oO(t,e):t instanceof Ps?aO(t,e):function(r,i){const s=sO(r,i),o=zE(s)+zE(r._t);return zv(s)&&zv(r._t)?rO(o):nO(r.serializer,o)}(t,e)}function s5(t,e,n){return t instanceof As?oO(t,e):t instanceof Ps?aO(t,e):n}function sO(t,e){return t instanceof ea?zv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Zo extends np{}class As extends np{constructor(e){super(),this.elements=e}}function oO(t,e){const n=lO(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ps extends np{constructor(e){super(),this.elements=e}}function aO(t,e){let n=lO(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class ea extends np{constructor(e,n){super(),this.serializer=e,this._t=n}}function zE(t){return Ge(t.integerValue||t.doubleValue)}function lO(t){return uu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.field=e,this.transform=n}}function o5(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof As&&r instanceof As||n instanceof Ps&&r instanceof Ps?Yo(n.elements,r.elements,tr):n instanceof ea&&r instanceof ea?tr(n._t,r._t):n instanceof Zo&&r instanceof Zo}(t.transform,e.transform)}class a5{constructor(e,n){this.version=e,this.transformResults=n}}class Ue{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ue}static exists(e){return new Ue(void 0,e)}static updateTime(e){return new Ue(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rp{}function uO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ea(t.key,Ue.none()):new ba(t.key,t.data,Ue.none());{const n=t.data,r=Et.empty();let i=new Ie(tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Pr(t.key,r,new Yt(i.toArray()),Ue.none())}}function l5(t,e,n){t instanceof ba?function(r,i,s){const o=r.value.clone(),a=jE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Pr?function(r,i,s){if(!dd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=jE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(cO(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yl(t,e,n,r){return t instanceof ba?function(i,s,o,a){if(!dd(i.precondition,s))return o;const l=i.value.clone(),u=BE(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pr?function(i,s,o,a){if(!dd(i.precondition,s))return o;const l=BE(i.fieldTransforms,a,s),u=s.data;return u.setAll(cO(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return dd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function u5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sO(r.transform,i||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function VE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Yo(n,r,(i,s)=>o5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ba extends rp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pr extends rp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jE(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,s5(o,a,n[i]))}return r}function BE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,i5(s,o,e))}return r}class Ea extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&l5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=uO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(n,r)=>VE(n,r))&&Yo(this.baseMutations,e.baseMutations,(n,r)=>VE(n,r))}}class kw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=t5;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new kw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,fe;function dO(t){switch(t){default:return V();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function fO(t){if(t===void 0)return et("GRPC error has no .code"),N.UNKNOWN;switch(t){case rt.OK:return N.OK;case rt.CANCELLED:return N.CANCELLED;case rt.UNKNOWN:return N.UNKNOWN;case rt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case rt.INTERNAL:return N.INTERNAL;case rt.UNAVAILABLE:return N.UNAVAILABLE;case rt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case rt.NOT_FOUND:return N.NOT_FOUND;case rt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case rt.ABORTED:return N.ABORTED;case rt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case rt.DATA_LOSS:return N.DATA_LOSS;default:return V()}}(fe=rt||(rt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fc}static getOrCreateInstance(){return Fc===null&&(Fc=new Cw),Fc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fc=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ku(K.min(),i,tp(),Xt(),se())}}class Qu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qu(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hO{constructor(e,n){this.targetId=e,this.Et=n}}class pO{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qE{constructor(){this.At=0,this.Rt=HE(),this.vt=ut.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=se(),n=se(),r=se();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new Qu(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=HE()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class d5{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Xt(),this.qt=WE(),this.Ut=new Ie(ie)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Tf(o))if(i===0){const a=new L(o.path);this.Qt(r,a,Ae.newNoDocument(a,K.min()))}else G(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=Cw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Tf(a.target)){const l=new L(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Ae.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=se();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Ku(e,n,this.Ut,this.Lt,r);return this.Lt=Xt(),this.qt=WE(),this.Ut=new Ie(ie),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new qE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Ie(ie),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new qE),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function WE(){return new Ye(L.comparator)}function HE(){return new Ye(L.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),h5=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),p5=(()=>({and:"AND",or:"OR"}))();class m5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ta(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g5(t,e){return ta(t,e.toTimestamp())}function nt(t){return G(!!t),K.fromTimestamp(function(e){const n=Ti(e);return new ze(n.seconds,n.nanos)}(t))}function xw(t,e){return function(n){return new pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gO(t){const e=pe.fromString(t);return G(kO(e)),e}function cu(t,e){return xw(t.databaseId,e.path)}function Jn(t,e){const n=gO(e);if(n.get(1)!==t.databaseId.projectId)throw new A(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(yO(n))}function Hv(t,e){return xw(t.databaseId,e)}function vO(t){const e=gO(t);return e.length===4?pe.emptyPath():yO(e)}function du(t){return new pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yO(t){return G(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GE(t,e,n){return{name:cu(t,e),fields:n.value.mapValue.fields}}function wO(t,e,n){const r=Jn(t,e.name),i=nt(e.updateTime),s=e.createTime?nt(e.createTime):K.min(),o=new Et({mapValue:{fields:e.fields}}),a=Ae.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function v5(t,e){return"found"in e?function(n,r){G(!!r.found),r.found.name,r.found.updateTime;const i=Jn(n,r.found.name),s=nt(r.found.updateTime),o=r.found.createTime?nt(r.found.createTime):K.min(),a=new Et({mapValue:{fields:r.found.fields}});return Ae.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){G(!!r.missing),G(!!r.readTime);const i=Jn(n,r.missing),s=nt(r.readTime);return Ae.newNoDocument(i,s)}(t,e):V()}function y5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(G(u===void 0||typeof u=="string"),ut.fromBase64String(u||"")):(G(u===void 0||u instanceof Uint8Array),ut.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?N.UNKNOWN:fO(l.code);return new A(u,l.message||"")}(o);n=new pO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jn(t,r.document.name),s=nt(r.document.updateTime),o=r.document.createTime?nt(r.document.createTime):K.min(),a=new Et({mapValue:{fields:r.document.fields}}),l=Ae.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new fd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jn(t,r.document),s=r.readTime?nt(r.readTime):K.min(),o=Ae.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jn(t,r.document),s=r.removedTargetIds||[];n=new fd([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new c5(i),o=r.targetId;n=new hO(o,s)}}return n}function fu(t,e){let n;if(e instanceof ba)n={update:GE(t,e.key,e.value)};else if(e instanceof Ea)n={delete:cu(t,e.key)};else if(e instanceof Pr)n={update:GE(t,e.key,e.data),updateMask:I5(e.fieldMask)};else{if(!(e instanceof _w))return V();n={verify:cu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof As)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ps)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),increment:o._t};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:g5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:V()}(t,e.precondition)),n}function Gv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ue.updateTime(nt(i.updateTime)):i.exists!==void 0?Ue.exists(i.exists):Ue.none()}(e.currentDocument):Ue.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)G(o.setToServerValue==="REQUEST_TIME"),a=new Zo;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new As(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new Ps(u)}else"increment"in o?a=new ea(s,o.increment):V();const l=tt.fromServerFormat(o.fieldPath);return new Gu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Jn(t,e.update.name),s=new Et({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Yt(l.map(u=>tt.fromServerFormat(u)))}(e.updateMask);return new Pr(i,s,o,n,r)}return new ba(i,s,n,r)}if(e.delete){const i=Jn(t,e.delete);return new Ea(i,n)}if(e.verify){const i=Jn(t,e.verify);return new _w(i,n)}return V()}function w5(t,e){return t&&t.length>0?(G(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?nt(r.updateTime):nt(i);return s.isEqual(K.min())&&(s=nt(i)),new a5(s,r.transformResults||[])}(n,e))):[]}function SO(t,e){return{documents:[Hv(t,e.path)]}}function bO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return IO(Se.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Zs(c.field),direction:b5(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||Bu(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EO(t){let e=vO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=_O(c);return d instanceof Se&&Sw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ro(eo(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Bu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Ni(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Ni(f,d)}(n.endAt)),QN(e,i,o,s,a,"F",l,u)}function S5(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return V()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function _O(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=eo(e.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=eo(e.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eo(e.unaryFilter.field);return ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=eo(e.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):t.fieldFilter!==void 0?function(e){return ce.create(eo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Se.create(e.compositeFilter.filters.map(n=>_O(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return V()}}(e.compositeFilter.op))}(t):V()}function b5(t){return f5[t]}function E5(t){return h5[t]}function _5(t){return p5[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function eo(t){return tt.fromServerFormat(t.fieldPath)}function IO(t){return t instanceof ce?function(e){if(e.op==="=="){if(PE(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NAN"}};if(AE(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(PE(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NOT_NAN"}};if(AE(e.value))return{unaryFilter:{field:Zs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(e.field),op:E5(e.op),value:e.value}}}(t):t instanceof Se?function(e){const n=e.getFilters().map(r=>IO(r));return n.length===1?n[0]:{compositeFilter:{op:_5(e.op),filters:n}}}(t):V()}function I5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,s=K.min(),o=K.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.se=e}}function k5(t,e){let n;if(e.document)n=wO(t.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=L.fromSegments(e.noDocument.path),i=Rs(e.noDocument.readTime);n=Ae.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return V();{const r=L.fromSegments(e.unknownDocument.path),i=Rs(e.unknownDocument.version);n=Ae.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new ze(r[0],r[1]);return K.fromTimestamp(i)}(e.readTime)),n}function KE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:cu(i,s.key),fields:s.data.value.mapValue.fields,updateTime:ta(i,s.version.toTimestamp()),createTime:ta(i,s.createTime.toTimestamp())}}(t.se,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ds(e.version)};else{if(!e.isUnknownDocument())return V();r.unknownDocument={path:n.path.toArray(),version:Ds(e.version)}}return r}function Nf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ds(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Rs(t){const e=new ze(t.seconds,t.nanoseconds);return K.fromTimestamp(e)}function Yi(t,e){const n=(e.baseMutations||[]).map(s=>Gv(t.se,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Gv(t.se,s)),i=ze.fromMillis(e.localWriteTimeMs);return new Iw(e.batchId,i,n,r)}function el(t){const e=Rs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Rs(t.lastLimboFreeSnapshotVersion):K.min();let r;var i;return t.query.documents!==void 0?(G((i=t.query).documents.length===1),r=tn(Sa(vO(i.documents[0])))):r=function(s){return tn(EO(s))}(t.query),new fi(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ut.fromBase64String(t.resumeToken))}function CO(t,e){const n=Ds(e.snapshotVersion),r=Ds(e.lastLimboFreeSnapshotVersion);let i;i=Tf(e.target)?SO(t.se,e.target):bO(t.se,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Os(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Nw(t){const e=EO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}function $m(t,e){return new Tw(e.largestBatchId,Gv(t.se,e.overlayMutation))}function QE(t,e){const n=e.path.lastSegment();return[t,jt(e.path.popLast()),n]}function YE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Ds(r.readTime),documentKey:jt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{getBundleMetadata(e,n){return XE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Rs(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return XE(e).put({bundleId:(r=n).id,createTime:Ds(nt(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return JE(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Nw(i.bundledQuery),readTime:Rs(i.readTime)};var i})}saveNamedQuery(e,n){return JE(e).put(function(r){return{name:r.name,readTime:Ds(nt(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function XE(t){return yt(t,"bundles")}function JE(t){return yt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.serializer=e,this.userId=n}static ie(e,n){const r=n.uid||"";return new ip(e,r)}getOverlay(e,n){return $a(e).get(QE(this.userId,n)).next(r=>r?$m(this.serializer,r):null)}getOverlays(e,n){const r=Wn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Tw(n,o);i.push(this.re(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(jt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push($a(e).J("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Wn(),s=jt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return $a(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=$m(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Wn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return $a(e).Z({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=$m(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}re(e,n){return $a(e).put(function(r,i,s){const[o,a,l]=QE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:fu(r.se,s.mutation)}}(this.serializer,this.userId,n))}}function $a(t){return yt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){}oe(e,n){this.ue(e,n),n.ce()}ue(e,n){if("nullValue"in e)this.ae(n,5);else if("booleanValue"in e)this.ae(n,10),n.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(n,15),n.he(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),ou(r)?n.he(0):n.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(n,20),typeof r=="string"?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,n),this.de(n);else if("bytesValue"in e)this.ae(n,30),n.we(Cs(e.bytesValue)),this.de(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in e?zN(e)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,n),this.de(n)):"arrayValue"in e?(this.ge(e.arrayValue,n),this.de(n)):V()}fe(e,n){this.ae(n,25),this.ye(e,n)}ye(e,n){n.le(e)}me(e,n){const r=e.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(e,n){const r=e.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(e,n){this.ae(n,37),L.fromName(e).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(e,n){e.he(n)}de(e){e.he(2)}}Xi.pe=new Xi;function C5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ZE(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=C5(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class x5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Te(r.value),r=n.next();this.Ee()}Ae(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Re(r.value),r=n.next();this.ve()}be(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=n.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=n.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(e){const n=this.Se(e),r=ZE(n);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ce(e){const n=this.Se(e),r=ZE(n);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Te(e){const n=255&e;n===0?(this.Ne(0),this.Ne(255)):n===255?(this.Ne(255),this.Ne(0)):this.Ne(n)}Re(e){const n=255&e;n===0?(this.Oe(0),this.Oe(255)):n===255?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class N5{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class O5{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class Fa{constructor(){this.Me=new x5,this.Fe=new N5(this.Me),this.Be=new O5(this.Me)}seed(e){this.Me.seed(e)}Le(e){return e===0?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}qe(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ji(this.indexId,this.documentKey,this.arrayValue,r)}}function $r(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=e_(t.arrayValue,e.arrayValue),n!==0?n:(n=e_(t.directionalValue,e.directionalValue),n!==0?n:L.comparator(t.documentKey,e.documentKey)))}function e_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){G(e.collectionGroup===this.collectionId);const n=$v(e);if(n!==void 0&&!this.ze(n))return!1;const r=Ki(e);let i=0,s=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(this.Ge!==void 0){const o=r[i];if(!this.je(this.Ge,o)||!this.We(this.Ue[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ue.length||!this.We(this.Ue[s++],o))return!1}return!0}ze(e){for(const n of this.Ke)if(this.je(n,e))return!0;return!1}je(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}We(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){var e,n;if(G(t instanceof ce||t instanceof Se),t instanceof ce){if(t instanceof KN){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ce.create(t.field,"==",s)))||[];return Se.create(i,"or")}return t}const r=t.filters.map(i=>xO(i));return Se.create(r,t.op)}function P5(t){if(t.getFilters().length===0)return[];const e=Yv(xO(t));return G(NO(e)),Kv(e)||Qv(e)?[e]:e.getFilters()}function Kv(t){return t instanceof ce}function Qv(t){return t instanceof Se&&Sw(t)}function NO(t){return Kv(t)||Qv(t)||function(e){if(e instanceof Se&&Vv(e)){for(const n of e.getFilters())if(!Kv(n)&&!Qv(n))return!1;return!0}return!1}(t)}function Yv(t){if(G(t instanceof ce||t instanceof Se),t instanceof ce)return t;if(t.filters.length===1)return Yv(t.filters[0]);const e=t.filters.map(r=>Yv(r));let n=Se.create(e,t.op);return n=Of(n),NO(n)?n:(G(n instanceof Se),G(Jo(n)),G(n.filters.length>1),n.filters.reduce((r,i)=>Ow(r,i)))}function Ow(t,e){let n;return G(t instanceof ce||t instanceof Se),G(e instanceof ce||e instanceof Se),n=t instanceof ce?e instanceof ce?function(r,i){return Se.create([r,i],"and")}(t,e):t_(t,e):e instanceof ce?t_(e,t):function(r,i){if(G(r.filters.length>0&&i.filters.length>0),Jo(r)&&Jo(i))return WN(r,i.getFilters());const s=Vv(r)?r:i,o=Vv(r)?i:r,a=s.filters.map(l=>Ow(l,o));return Se.create(a,"or")}(t,e),Of(n)}function t_(t,e){if(Jo(e))return WN(e,t.getFilters());{const n=e.filters.map(r=>Ow(t,r));return Se.create(n,"or")}}function Of(t){if(G(t instanceof ce||t instanceof Se),t instanceof ce)return t;const e=t.getFilters();if(e.length===1)return Of(e[0]);if(BN(t))return t;const n=e.map(i=>Of(i)),r=[];return n.forEach(i=>{i instanceof ce?r.push(i):i instanceof Se&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Se.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.He=new Aw}addToCollectionParentIndex(e,n){return this.He.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(cn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(cn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Aw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ie(pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ie(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Uint8Array(0);class R5{constructor(e,n){this.user=e,this.databaseId=n,this.Je=new Aw,this.Ye=new Vi(r=>Os(r),(r,i)=>qu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Je.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Je.add(n)});const s={collectionId:r,parent:jt(i)};return n_(e).put(s)}return x.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[CN(n),""],!1,!0);return n_(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(qn(o.parent))}return r})}addFieldIndex(e,n){const r=zc(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=za(e);return s.next(a=>{o.put(YE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=zc(e),i=za(e),s=Ua(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ua(e);let i=!0;const s=new Map;return x.forEach(this.Ze(n),o=>this.Xe(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=se();const a=[];return x.forEach(s,(l,u)=>{var c;P("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${Os(n)}`);const d=function(v,S){const E=$v(S);if(E===void 0)return null;for(const b of Cf(v,E.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}(u,l),f=function(v,S){const E=new Map;for(const b of Ki(S))for(const T of Cf(v,b.fieldPath))switch(T.op){case"==":case"in":E.set(b.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return E.set(b.fieldPath.canonicalString(),T.value),Array.from(E.values())}return null}(u,l),p=function(v,S){const E=[];let b=!0;for(const T of Ki(S)){const _=T.kind===0?$E(v,T.fieldPath,v.startAt):FE(v,T.fieldPath,v.startAt);E.push(_.value),b&&(b=_.inclusive)}return new Ni(E,b)}(u,l),y=function(v,S){const E=[];let b=!0;for(const T of Ki(S)){const _=T.kind===0?FE(v,T.fieldPath,v.endAt):$E(v,T.fieldPath,v.endAt);E.push(_.value),b&&(b=_.inclusive)}return new Ni(E,b)}(u,l),m=this.tn(l,u,p),w=this.tn(l,u,y),g=this.en(l,u,f),h=this.nn(l.indexId,d,m,p.inclusive,w,y.inclusive,g);return x.forEach(h,v=>r.H(v,n.limit).next(S=>{S.forEach(E=>{const b=L.fromSegments(E.documentKey);o.has(b)||(o=o.add(b),a.push(b))})}))}).next(()=>a)}return x.resolve(null)})}Ze(e){let n=this.Ye.get(e);return n||(e.filters.length===0?n=[e]:n=P5(Se.create(e.filters,"and")).map(r=>Bv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,n),n)}nn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const f=n?this.sn(n[d/u]):Uc,p=this.rn(e,f,r[d%u],i),y=this.on(e,f,s[d%u],o),m=a.map(w=>this.rn(e,f,w,!0));c.push(...this.createRange(p,y,m))}return c}rn(e,n,r,i){const s=new Ji(e,L.empty(),n,r);return i?s:s.qe()}on(e,n,r,i){const s=new Ji(e,L.empty(),n,r);return i?s.qe():s}Xe(e,n){const r=new A5(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Qe(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return x.forEach(i,s=>this.Xe(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Ie(tt.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}un(e,n){const r=new Fa;for(const i of Ki(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Le(i.kind);Xi.pe.oe(s,o)}return r.$e()}sn(e){const n=new Fa;return Xi.pe.oe(e,n.Le(0)),n.$e()}cn(e,n){const r=new Fa;return Xi.pe.oe(Ns(this.databaseId,n),r.Le(function(i){const s=Ki(i);return s.length===0?0:s[s.length-1].kind}(e))),r.$e()}en(e,n,r){if(r===null)return[];let i=[];i.push(new Fa);let s=0;for(const o of Ki(e)){const a=r[s++];for(const l of i)if(this.an(n,o.fieldPath)&&uu(a))i=this.hn(i,o,a);else{const u=l.Le(o.kind);Xi.pe.oe(a,u)}}return this.ln(i)}tn(e,n,r){return this.en(e,n,r.position)}ln(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].$e();return n}hn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Fa;l.seed(a.$e()),Xi.pe.oe(o,l.Le(n.kind)),s.push(l)}return s}an(e,n){return!!e.filters.find(r=>r instanceof ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=zc(e),i=za(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new kf(c.sequenceNumber,new cn(Rs(c.readTime),new L(qn(c.documentKey)),c.largestBatchId)):kf.empty(),f=u.fields.map(([p,y])=>new gj(tt.fromServerFormat(p),y));return new xN(u.indexId,u.collectionGroup,f,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=zc(e),s=za(e);return this.fn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,l=>s.put(YE(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return x.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,l=>this.dn(e,i,l).next(u=>{const c=this.wn(s,l);return u.isEqual(c)?x.resolve():this._n(e,s,l,u,c)}))))})}mn(e,n,r,i){return Ua(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,n.key),documentKey:n.key.path.toArray()})}gn(e,n,r,i){return Ua(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,n.key),n.key.path.toArray()])}dn(e,n,r){const i=Ua(e);let s=new Ie($r);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,n)])},(o,a)=>{s=s.add(new Ji(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new Ie($r);const i=this.un(n,e);if(i==null)return r;const s=$v(n);if(s!=null){const o=e.data.field(s.fieldPath);if(uu(o))for(const a of o.arrayValue.values||[])r=r.add(new Ji(n.indexId,e.key,this.sn(a),i))}else r=r.add(new Ji(n.indexId,e.key,Uc,i));return r}_n(e,n,r,i,s){P("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const f=a.getIterator(),p=l.getIterator();let y=Xs(f),m=Xs(p);for(;y||m;){let w=!1,g=!1;if(y&&m){const h=u(y,m);h<0?g=!0:h>0&&(w=!0)}else y!=null?g=!0:w=!0;w?(c(m),m=Xs(p)):g?(d(y),y=Xs(f)):(y=Xs(f),m=Xs(p))}}(i,s,$r,a=>{o.push(this.mn(e,n,r,a))},a=>{o.push(this.gn(e,n,r,a))}),x.waitFor(o)}fn(e){let n=1;return za(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>$r(o,a)).filter((o,a,l)=>!a||$r(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=$r(o,e),l=$r(o,n);if(a===0)i[0]=e.qe();else if(a>0&&l<0)i.push(o),i.push(o.qe());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.yn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Uc,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Uc,[]];s.push(IDBKeyRange.bound(a,l))}return s}yn(e,n){return $r(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(r_)}getMinOffset(e,n){return x.mapArray(this.Ze(n),r=>this.Xe(e,r).next(i=>i||V())).next(r_)}}function n_(t){return yt(t,"collectionParents")}function Ua(t){return yt(t,"indexEntries")}function zc(t){return yt(t,"indexConfiguration")}function za(t){return yt(t,"indexState")}function r_(t){G(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;vw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new cn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ht{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Z({range:o},(c,d,f)=>(a++,f.delete()));s.push(l.next(()=>{G(a===1)}));const u=[];for(const c of n.mutations){const d=RN(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return x.waitFor(s).next(()=>u)}function Af(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw V();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(41943040,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);class sp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(e,n,r,i){G(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new sp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=to(e),o=Fr(e);return o.add({}).next(a=>{G(typeof a=="number");const l=new Iw(a,n,r,i),u=function(f,p,y){const m=y.baseMutations.map(g=>fu(f.se,g)),w=y.mutations.map(g=>fu(f.se,g));return{userId:p,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:m,mutations:w}}(this.serializer,this.userId,l),c=[];let d=new Ie((f,p)=>ie(f.canonicalString(),p.canonicalString()));for(const f of i){const p=RN(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,Ej))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.pn[a]=l.keys()}),x.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Fr(e).get(n).next(r=>r?(G(r.userId===this.userId),Yi(this.serializer,r)):null)}In(e,n){return this.pn[n]?x.resolve(this.pn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.pn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Fr(e).Z({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(G(a.batchId>=r),s=Yi(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Fr(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(e).j("userMutationsIndex",n).next(r=>r.map(i=>Yi(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ld(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return to(e).Z({range:i},(o,a,l)=>{const[u,c,d]=o,f=qn(c);if(u===this.userId&&n.path.isEqual(f))return Fr(e).get(d).next(p=>{if(!p)throw V();G(p.userId===this.userId),s.push(Yi(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(ie);const i=[];return n.forEach(s=>{const o=ld(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=to(e).Z({range:a},(u,c,d)=>{const[f,p,y]=u,m=qn(p);f===this.userId&&s.path.isEqual(m)?r=r.add(y):d.done()});i.push(l)}),x.waitFor(i).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ld(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ie(ie);return to(e).Z({range:o},(l,u,c)=>{const[d,f,p]=l,y=qn(f);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(p)):c.done()}).next(()=>this.Tn(e,a))}Tn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Fr(e).get(s).next(o=>{if(o===null)throw V();G(o.userId===this.userId),r.push(Yi(this.serializer,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return OO(e.at,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.En(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return to(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=qn(s[1]);i.push(l)}else a.done()}).next(()=>{G(i.length===0)})})}containsKey(e,n){return AO(e,this.userId,n)}An(e){return PO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function AO(t,e,n){const r=ld(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return to(t).Z({range:s,Y:!0},(a,l,u)=>{const[c,d,f]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Fr(t){return yt(t,"mutations")}function to(t){return yt(t,"documentMutations")}function PO(t){return yt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ms(0)}static bn(){return new Ms(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Pn(e).next(n=>{const r=new Ms(n.highestTargetId);return n.highestTargetId=r.next(),this.Vn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(n=>K.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Pn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Vn(e,i)))}addTargetData(e,n){return this.Sn(e,n).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(n,r),this.Vn(e,r))))}updateTargetData(e,n){return this.Sn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Js(e).delete(n.targetId)).next(()=>this.Pn(e)).next(r=>(G(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Js(e).Z((o,a)=>{const l=el(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Js(e).Z((r,i)=>{const s=el(i);n(s)})}Pn(e){return s_(e).get("targetGlobalKey").next(n=>(G(n!==null),n))}Vn(e,n){return s_(e).put("targetGlobalKey",n)}Sn(e,n){return Js(e).put(CO(this.serializer,n))}Dn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Os(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Js(e).Z({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=el(a);qu(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Yr(e);return n.forEach(o=>{const a=jt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){const i=Yr(e);return x.forEach(n,s=>{const o=jt(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Yr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Yr(e);let s=se();return i.Z({range:r,Y:!0},(o,a,l)=>{const u=qn(o[1]),c=new L(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=jt(n.path),i=IDBKeyRange.bound([r],[CN(r)],!1,!0);let s=0;return Yr(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ne(e,n){return Js(e).get(n).next(r=>r?el(r):null)}}function Js(t){return yt(t,"targets")}function s_(t){return yt(t,"targetGlobal")}function Yr(t){return yt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class L5{constructor(e){this.Cn=e,this.buffer=new Ie(o_),this.xn=0}Nn(){return++this.xn}kn(e){const n=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();o_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.On=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return this.On!==null}$n(e){P("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.On=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zi(n)?P("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ui(n)}await this.$n(3e5)})}}class F5{constructor(e,n){this.Mn=e,this.params=n}calculateTargetCount(e,n){return this.Mn.Fn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(Qt.ct);const r=new L5(n);return this.Mn.forEachTarget(e,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(e,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Mn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Mn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(P("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(i_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(P("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.Ln(e,n))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(P("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Lv()<=he.DEBUG&&P("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new F5(r,i)}(this,n)}Fn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}qn(e){let n=0;return this.Bn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Bn(e,n){return this.Un(e,(r,i)=>n(i))}addReference(e,n,r){return Vc(e,r)}removeReference(e,n,r){return Vc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Vc(e,n)}Kn(e,n){return function(r,i){let s=!1;return PO(r).X(o=>AO(r,o,i).next(a=>(a&&(s=!0),x.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Un(e,(o,a)=>{if(a<=n){const l=this.Kn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,K.min()),Yr(e).delete([0,jt(o.path)])))});i.push(l)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Vc(e,n)}Un(e,n){const r=Yr(e);let i,s=Qt.ct;return r.Z({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Qt.ct&&n(new L(qn(i)),s),s=u,i=l):s=Qt.ct}).next(()=>{s!==Qt.ct&&n(new L(qn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Vc(t,e){return Yr(t).put(function(n,r){return{targetId:0,path:jt(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new Vi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ae.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Bi(e).put(r)}removeEntry(e,n,r){return Bi(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Nf(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Gn(e,r)))}getEntry(e,n){let r=Ae.newInvalidDocument(n);return Bi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Va(n))},(i,s)=>{r=this.Qn(n,s)}).next(()=>r)}zn(e,n){let r={size:0,document:Ae.newInvalidDocument(n)};return Bi(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Va(n))},(i,s)=>{r={document:this.Qn(n,s),size:Af(s)}}).next(()=>r)}getEntries(e,n){let r=Xt();return this.jn(e,n,(i,s)=>{const o=this.Qn(i,s);r=r.insert(i,o)}).next(()=>r)}Wn(e,n){let r=Xt(),i=new Ye(L.comparator);return this.jn(e,n,(s,o)=>{const a=this.Qn(s,o);r=r.insert(s,a),i=i.insert(s,Af(o))}).next(()=>({documents:r,Hn:i}))}jn(e,n,r){if(n.isEmpty())return x.resolve();let i=new Ie(u_);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Va(i.first()),Va(i.last())),o=i.getIterator();let a=o.getNext();return Bi(e).Z({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=L.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&u_(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(Va(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Nf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Bi(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=Xt();for(const c of l){const d=this.Qn(L.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(Hu(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=Xt();const o=l_(n,r),a=l_(n,cn.max());return Bi(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.Qn(L.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new V5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return a_(e).get("remoteDocumentGlobalKey").next(n=>(G(!!n),n))}Gn(e,n){return a_(e).put("remoteDocumentGlobalKey",n)}Qn(e,n){if(n){const r=k5(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(K.min())))return r}return Ae.newInvalidDocument(e)}}function RO(t){return new z5(t)}class V5 extends DO{constructor(e,n){super(),this.Jn=e,this.trackRemovals=n,this.Yn=new Vi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ie((s,o)=>ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Yn.get(s);if(n.push(this.Jn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=KE(this.Jn.serializer,o);i=i.add(s.path.popLast());const u=Af(l);r+=u-a.size,n.push(this.Jn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=KE(this.Jn.serializer,o.convertToNoDocument(K.min()));n.push(this.Jn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Jn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Jn.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.Jn.zn(e,n).next(r=>(this.Yn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Jn.Wn(e,n).next(({documents:r,Hn:i})=>(i.forEach((s,o)=>{this.Yn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function a_(t){return yt(t,"remoteDocumentGlobal")}function Bi(t){return yt(t,"remoteDocumentsV14")}function Va(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function l_(t,e){const n=e.documentKey.path.toArray();return[t,Nf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function u_(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ie(n[s],r[s]),i)return i;return i=ie(n.length,r.length),i||(i=ie(n[n.length-2],r[r.length-2]),i||ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yl(r.mutation,i,Yt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Wn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Za();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Xt();const o=vl(),a=vl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Pr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yl(c.mutation,u,c.mutation.getFieldMask(),ze.now())):o.set(u.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new j5(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new Ye((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||se()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=tO();c.forEach(f=>{if(!s.has(f)){const p=uO(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return L.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ew(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Wn());let a=-1,l=s;return o.next(u=>x.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,se())).next(c=>({batchId:a,changes:eO(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=Za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Za();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const l=function(u,c){return new Ar(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Ae.newInvalidDocument(u)))});let o=Za();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&yl(u.mutation,l,Yt.empty(),ze.now()),Hu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:nt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:Nw(r.bundledQuery),readTime:nt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.overlays=new Ye(L.comparator),this.ts=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Wn(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return x.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tw(n,r));let s=this.ts.get(n);s===void 0&&(s=se(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.es=new Ie(ct.ns),this.ss=new Ie(ct.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new ct(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new ct(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new L(new pe([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new L(new pe([])),r=new ct(n,e),i=new ct(n,e+1);let s=se();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return L.comparator(e.key,n.key)||ie(e.ds,n.ds)}static rs(e,n){return ie(e.ds,n.ds)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Ie(ct.ns)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Iw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ie(ie);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),x.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new ct(new L(s),0);let a=new Ie(ie);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),x.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){G(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return x.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new ct(n,0),i=this._s.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Ts=e,this.docs=new Ye(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Ae.newInvalidDocument(n))}getEntries(e,n){let r=Xt();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ae.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Xt();const o=n.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vw(ON(c),r)<=0||(i.has(c.key)||Hu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}Es(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new G5(this)}getSize(e){return x.resolve(this.size)}}class G5 extends DO{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.persistence=e,this.As=new Vi(n=>Os(n),qu),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Rs=0,this.vs=new Pw,this.targetCount=0,this.bs=Ms.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),x.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Ms(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Sn(n),x.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Qt(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new K5(this),this.indexManager=new D5,this.remoteDocumentCache=function(r){return new H5(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new TO(n),this.xs=new B5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new W5(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new Q5(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return x.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class Q5 extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.$s=new Pw,this.Ms=null}static Fs(e){return new op(e)}get Bs(){if(this.Ms)return this.Ms;throw V()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),x.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Bs,r=>{const i=L.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return x.or([()=>x.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.serializer=e}M(e,n,r,i){const s=new Zh("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CE,{unique:!0}),a.createObjectStore("documentMutations")}(e),c_(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),c_(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:K.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CE,{unique:!0});const c=l.store("mutations"),d=u.map(f=>c.put(f));return x.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.qs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Us(s)))),r<7&&i>=7&&(o=o.next(()=>this.Ks(s))),r<8&&i>=8&&(o=o.next(()=>this.Gs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Qs(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:Rj});l.createIndex("collectionPathOverlayIndex",Mj,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Lj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:_j});l.createIndex("documentKeyIndex",Ij),l.createIndex("collectionGroupIndex",kj)}(e)).next(()=>this.zs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Oj}).createIndex("sequenceNumberIndex",Aj,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:Pj}).createIndex("documentKeyIndex",Dj,{unique:!1})}(e))),o}Us(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=Af(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>x.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>x.forEach(a,l=>{G(l.userId===s.userId);const u=Yi(this.serializer,l);return OO(e,s.userId,u).next(()=>{})}))}))}Ks(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const l=new pe(o),u=function(c){return[0,jt(c)]}(l);s.push(n.get(u).next(c=>c?x.resolve():(d=>n.put({targetId:0,path:jt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>x.waitFor(s))})}Gs(e,n){e.createObjectStore("collectionParents",{keyPath:Nj});const r=n.store("collectionParents"),i=new Aw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:jt(l)})}};return n.store("remoteDocuments").Z({Y:!0},(o,a)=>{const l=new pe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Z({Y:!0},([o,a,l],u)=>{const c=qn(a);return s(c.popLast())}))}Qs(e){const n=e.store("targets");return n.Z((r,i)=>{const s=el(i),o=CO(this.serializer,s);return n.put(o)})}zs(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new L(pe.fromString(u.document.name).popFirst(5)):u.noDocument?L.fromSegments(u.noDocument.path):u.unknownDocument?L.fromSegments(u.unknownDocument.path):V()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>x.waitFor(i))}js(e,n){const r=n.store("mutations"),i=RO(this.serializer),s=new LO(op.Fs,this.serializer.se);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:se();Yi(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),x.forEach(a,(l,u)=>{const c=new ft(u),d=ip.ie(this.serializer,c),f=s.getIndexManager(c),p=sp.ie(c,this.serializer,f,s.referenceDelegate);return new MO(i,p,d,f).recalculateAndSaveOverlaysForDocumentKeys(new Fv(n,Qt.ct),l).next()})})}}function c_(t){t.createObjectStore("targetDocuments",{keyPath:Cj}).createIndex("documentTargetsIndex",xj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tj,{unique:!0}),t.createObjectStore("targetGlobal")}const Fm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Dw{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ws=s,this.window=o,this.document=a,this.Hs=u,this.Js=c,this.Ys=d,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=f=>Promise.resolve(),!Dw.D())throw new A(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new U5(this,i),this.si=n+"main",this.serializer=new TO(l),this.ii=new Pn(this.si,this.Ys,new Y5(this.serializer)),this.Ds=new M5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RO(this.serializer),this.xs=new T5,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,c===!1&&et("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new A(N.FAILED_PRECONDITION,Fm);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Qt(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){return this.ni=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget(async()=>{this.started&&await this.oi()}))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(n=>{n||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(n=>this.isPrimary&&!n?this.di(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(zi(e))return P("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return P("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return ja(e).get("owner").next(n=>x.resolve(this._i(n)))}mi(e){return jc(e).delete(this.clientId)}async gi(){if(this.isPrimary&&!this.yi(this.ei,18e5)){this.ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yt(n,"clientMetadata");return r.j().next(i=>{const s=this.pi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ri)for(const n of e)this.ri.removeItem(this.Ii(n.clientId))}}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?x.resolve(!0):ja(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)){if(this._i(n)&&this.networkEnabled)return!0;if(!this._i(n)){if(!n.allowTabSynchronization)throw new A(N.FAILED_PRECONDITION,Fm);return!1}}return!(!this.networkEnabled||!this.inForeground)||jc(e).j().next(r=>this.pi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&P("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ss=!1,this.Ei(),this.ti&&(this.ti.cancel(),this.ti=null),this.Ai(),this.Ri(),await this.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Fv(e,Qt.ct);return this.di(n).next(()=>this.mi(n))}),this.ii.close(),this.vi()}pi(e,n){return e.filter(r=>this.yi(r.updateTimeMs,n)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>jc(e).j().next(n=>this.pi(n,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,n){return sp.ie(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new R5(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return ip.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,n,r){P("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Ys)===15?Fj:o===14?$N:o===13?LN:o===12?$j:o===11?MN:void V();var o;let a;return this.ii.runTransaction(e,i,s,l=>(a=new Fv(l,this.Vs?this.Vs.next():Qt.ct),n==="readwrite-primary"?this.li(a).next(u=>!!u||this.fi(a)).next(u=>{if(!u)throw et(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new A(N.FAILED_PRECONDITION,AN);return r(a)}).next(u=>this.wi(a).next(()=>u)):this.Pi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e){return ja(e).get("owner").next(n=>{if(n!==null&&this.yi(n.leaseTimestampMs,5e3)&&!this.Ti(n.ownerId)&&!this._i(n)&&!(this.Js||this.allowTabSynchronization&&n.allowTabSynchronization))throw new A(N.FAILED_PRECONDITION,Fm)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ja(e).put("owner",n)}static D(){return Pn.D()}di(e){const n=ja(e);return n.get("owner").next(r=>this._i(r)?(P("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}yi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(et(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ui(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground=this.document.visibilityState==="visible")}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ei();const n=/(?:Version|Mobile)\/1[456]/;x3()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var n;try{const r=((n=this.ri)===null||n===void 0?void 0:n.getItem(this.Ii(e)))!==null;return P("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return et("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){et("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ja(t){return yt(t,"owner")}function jc(t){return yt(t,"clientMetadata")}function Rw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Mw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(UE(n))return x.resolve(null);let r=tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,xf(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return UE(n)||i.isEqual(K.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(Lv()<=he.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wv(n)),this.Fi(e,o,n,NN(i,-1)))})}$i(e,n){let r=new Ie(JN(e));return n.forEach((i,s)=>{Hu(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return Lv()<=he.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",Wv(n)),this.xi.getDocumentsMatchingQuery(e,n,cn.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Ye(ie),this.qi=new Vi(s=>Os(s),qu),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MO(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function FO(t,e,n,r){return new X5(t,e,n,r)}async function UO(t,e){const n=$(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=se();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function J5(t,e){const n=$(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=x.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(y=>{const m=l.docVersions.get(p);G(m!==null),y.version.compareTo(m)<0&&(c.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zO(t){const e=$(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function Z5(t,e){const n=$(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(ut.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(y,m,w){return y.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,c)&&a.push(n.Ds.updateTargetData(s,p))});let l=Xt(),u=se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(VO(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(K.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function VO(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Xt();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(K.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function e6(t,e){const n=$(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function na(t,e){const n=$(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new fi(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function ra(t,e,n){const r=$(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!zi(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function Pf(t,e,n){const r=$(t);let i=K.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=$(a),d=c.qi.get(u);return d!==void 0?x.resolve(c.Li.get(d)):c.Ds.getTargetData(l,u)}(r,o,tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:se())).next(a=>(qO(r,XN(e),a),{documents:a,Wi:s})))}function jO(t,e){const n=$(t),r=$(n.Ds),i=n.Li.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function BO(t,e){const n=$(t),r=n.Ui.get(e)||K.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Ki.getAllFromCollectionGroup(i,e,NN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(qO(n,e,i),i))}function qO(t,e,n){let r=t.Ui.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}async function t6(t,e,n,r){const i=$(t);let s=se(),o=Xt();for(const u of n){const c=e.Hi(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ji(u);d.setReadTime(e.Yi(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Ki.newChangeBuffer({trackRemovals:!0}),l=await na(i,function(u){return tn(Sa(pe.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>VO(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Ds.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ds.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.zi,c.ji)).next(()=>c.zi)))}async function n6(t,e,n=se()){const r=await na(t,tn(Nw(e.bundledQuery))),i=$(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=nt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.xs.saveNamedQuery(s,e);const a=r.withResumeToken(ut.EMPTY_BYTE_STRING,o);return i.Li=i.Li.insert(a.targetId,a),i.Ds.updateTargetData(s,a).next(()=>i.Ds.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ds.addMatchingKeys(s,n,r.targetId)).next(()=>i.xs.saveNamedQuery(s,e))})}function d_(t,e){return`firestore_clients_${t}_${e}`}function f_(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Um(t,e){return`firestore_targets_${t}_${e}`}class Df{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new A(i.error.code,i.error.message))),o?new Df(e,n,i.state,s):(et("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wl{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new A(r.error.code,r.error.message))),s?new wl(e,r.state,i):(et("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=tp();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=DN(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Rf(e,s):(et("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Lw{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Lw(n.clientId,n.onlineState):(et("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xv{constructor(){this.activeTargetIds=tp()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zm{constructor(e,n,r,i,s){this.window=e,this.Ws=n,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Ye(ie),this.started=!1,this.ur=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.cr=d_(this.persistenceKey,this.nr),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.rr=this.rr.insert(this.nr,new Xv),this.hr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.bi();for(const r of e){if(r===this.nr)continue;const i=this.getItem(d_(this.persistenceKey,r));if(i){const s=Rf.Zi(r,i);s&&(this.rr=this.rr.insert(s.clientId,s))}}this.mr();const n=this.storage.getItem(this.wr);if(n){const r=this.gr(n);r&&this.yr(r)}for(const r of this.ur)this.ir(r);this.ur=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let n=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,n,r){this.Ir(e,n,r),this.Tr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Um(this.persistenceKey,e));if(r){const i=wl.Zi(e,r);i&&(n=i.state)}}return this.Er.tr(e),this.mr(),n}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Um(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ar(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Tr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return P("SharedClientState","READ",e,n),n}setItem(e,n){P("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){P("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){const n=e;if(n.storageArea===this.storage){if(P("SharedClientState","EVENT",n.key,n.newValue),n.key===this.cr)return void et("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.hr.test(n.key)){if(n.newValue==null){const r=this.br(n.key);return this.Pr(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.Pr(r.clientId,r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Sr(n.key,n.newValue);if(r)return this.Dr(r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Cr(n.key,n.newValue);if(r)return this.Nr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.gr(n.newValue);if(r)return this.yr(r)}}else if(n.key===this.ar){const r=function(i){let s=Qt.ct;if(i!=null)try{const o=JSON.parse(i);G(typeof o=="number"),s=o}catch(o){et("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Qt.ct&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Or(i)))}}}else this.ur.push(n)})}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,n,r){const i=new Df(this.currentUser,e,n,r),s=f_(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Xi())}Tr(e){const n=f_(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Rr(e){const n={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Ar(e,n,r){const i=Um(this.persistenceKey,e),s=new wl(e,n,r);this.setItem(i,s.Xi())}vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}br(e){const n=this.hr.exec(e);return n?n[1]:null}Vr(e,n){const r=this.br(e);return Rf.Zi(r,n)}Sr(e,n){const r=this.lr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Df.Zi(new ft(s),i,n)}Cr(e,n){const r=this.dr.exec(e),i=Number(r[1]);return wl.Zi(i,n)}gr(e){return Lw.Zi(e)}kr(e){return JSON.parse(e)}async Dr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.$r(e.batchId,e.state,e.error);P("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,n){const r=n?this.rr.insert(e,n):this.rr.remove(e),i=this.pr(this.rr),s=this.pr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let n=tp();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class WO{constructor(){this.Br=new Xv,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Vm(){return Bc===null?Bc=268435456+Math.round(2147483648*Math.random()):Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class o6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Vm(),a=this.ao(e,n);P("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(P("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Tr("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=i6[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Vm();return new Promise((o,a)=>{const l=new ij;l.setWithCredentials(!0),l.listenOnce(tj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Lm.NO_ERROR:const c=l.getResponseJson();P(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Lm.TIMEOUT:P(Ot,`RPC '${e}' ${s} timed out`),a(new A(N.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const d=l.getStatus();if(P(Ot,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(w)>=0?w:N.UNKNOWN}(p.status);a(new A(y,p.message))}else a(new A(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new A(N.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{P(Ot,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);P(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Vm(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZV(),a=ej(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new rj({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");P(Ot,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let d=!1,f=!1;const p=new s6({Wr:m=>{f?P(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(d||(P(Ot,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),P(Ot,`RPC '${e}' stream ${i} sending:`,m),c.send(m))},Hr:()=>c.close()}),y=(m,w,g)=>{m.listen(w,h=>{try{g(h)}catch(v){setTimeout(()=>{throw v},0)}})};return y(c,Lc.EventType.OPEN,()=>{f||P(Ot,`RPC '${e}' stream ${i} transport opened.`)}),y(c,Lc.EventType.CLOSE,()=>{f||(f=!0,P(Ot,`RPC '${e}' stream ${i} transport closed`),p.so())}),y(c,Lc.EventType.ERROR,m=>{f||(f=!0,Tr(Ot,`RPC '${e}' stream ${i} transport errored:`,m),p.so(new A(N.UNAVAILABLE,"The operation could not be completed")))}),y(c,Lc.EventType.MESSAGE,m=>{var w;if(!f){const g=m.data[0];G(!!g);const h=g,v=h.error||((w=h[0])===null||w===void 0?void 0:w.error);if(v){P(Ot,`RPC '${e}' stream ${i} received error:`,v);const S=v.status;let E=function(T){const _=rt[T];if(_!==void 0)return fO(_)}(S),b=v.message;E===void 0&&(E=N.INTERNAL,b="Unknown error status: "+S+" with message "+v.message),f=!0,p.so(new A(E,b)),c.close()}else P(Ot,`RPC '${e}' stream ${i} received:`,g),p.io(g)}}),y(a,nj.STAT_EVENT,m=>{m.stat===_E.PROXY?P(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===_E.NOPROXY&&P(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.no()},0),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(){return typeof window<"u"?window:null}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){return new m5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new $w(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(et(n.toString()),et("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new A(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a6 extends GO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=y5(this.serializer,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?nt(s.readTime):K.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=du(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Tf(a)?{documents:SO(i,a)}:{query:bO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mO(i,s.resumeToken):s.snapshotVersion.compareTo(K.min())>0&&(o.readTime=ta(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=S5(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=du(this.serializer),n.removeTarget=e,this.Fo(n)}}class l6 extends GO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=w5(e.writeResults,e.commitTime),r=nt(e.commitTime);return this.listener.Zo(r,n)}return G(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=du(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fu(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(N.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(N.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class c6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(et(n),this.ru=!1):P("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{ji(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=$(a);l.du.add(4),await _a(l),l.mu.set("Unknown"),l.du.delete(4),await Xu(l)}(this))})}),this.mu=new c6(r,i)}}async function Xu(t){if(ji(t))for(const e of t.wu)await e(!0)}async function _a(t){for(const e of t.wu)await e(!1)}function ap(t,e){const n=$(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),zw(n)?Uw(n):ka(n).No()&&Fw(n,e))}function hu(t,e){const n=$(t),r=ka(n);n.fu.delete(e),r.No()&&KO(n,e),n.fu.size===0&&(r.No()?r.$o():ji(n)&&n.mu.set("Unknown"))}function Fw(t,e){t.gu.Ot(e.targetId),ka(t).jo(e)}function KO(t,e){t.gu.Ot(e),ka(t).Wo(e)}function Uw(t){t.gu=new d5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),ka(t).start(),t.mu.ou()}function zw(t){return ji(t)&&!ka(t).xo()&&t.fu.size>0}function ji(t){return $(t).du.size===0}function QO(t){t.gu=void 0}async function f6(t){t.fu.forEach((e,n)=>{Fw(t,e)})}async function h6(t,e){QO(t),zw(t)?(t.mu.au(e),Uw(t)):t.mu.set("Unknown")}async function p6(t,e,n){if(t.mu.set("Online"),e instanceof pO&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mf(t,r)}else if(e instanceof fd?t.gu.Kt(e):e instanceof hO?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(K.min()))try{const r=await zO(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(ut.EMPTY_BYTE_STRING,l.snapshotVersion)),KO(i,a);const u=new fi(l.target,a,1,l.sequenceNumber);Fw(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){P("RemoteStore","Failed to raise snapshot:",r),await Mf(t,r)}}async function Mf(t,e,n){if(!zi(e))throw e;t.du.add(1),await _a(t),t.mu.set("Offline"),n||(n=()=>zO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Xu(t)})}function YO(t,e){return e().catch(n=>Mf(t,n,e))}async function Ia(t){const e=$(t),n=Oi(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;m6(e);)try{const i=await e6(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,g6(e,i)}catch(i){await Mf(e,i)}XO(e)&&JO(e)}function m6(t){return ji(t)&&t.lu.length<10}function g6(t,e){t.lu.push(e);const n=Oi(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function XO(t){return ji(t)&&!Oi(t).xo()&&t.lu.length>0}function JO(t){Oi(t).start()}async function v6(t){Oi(t).tu()}async function y6(t){const e=Oi(t);for(const n of t.lu)e.Yo(n.mutations)}async function w6(t,e,n){const r=t.lu.shift(),i=kw.from(r,e,n);await YO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ia(t)}async function S6(t,e){e&&Oi(t).Jo&&await async function(n,r){if(i=r.code,dO(i)&&i!==N.ABORTED){const s=n.lu.shift();Oi(n).Oo(),await YO(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ia(n)}var i}(t,e),XO(t)&&JO(t)}async function p_(t,e){const n=$(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=ji(n);n.du.add(3),await _a(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Xu(n)}async function Jv(t,e){const n=$(t);e?(n.du.delete(2),await Xu(n)):e||(n.du.add(2),await _a(n),n.mu.set("Unknown"))}function ka(t){return t.yu||(t.yu=function(e,n,r){const i=$(e);return i.nu(),new a6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:f6.bind(null,t),Zr:h6.bind(null,t),zo:p6.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),zw(t)?Uw(t):t.mu.set("Unknown")):(await t.yu.stop(),QO(t))})),t.yu}function Oi(t){return t.pu||(t.pu=function(e,n,r){const i=$(e);return i.nu(),new l6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:v6.bind(null,t),Zr:S6.bind(null,t),Xo:y6.bind(null,t),Zo:w6.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Ia(t)):(await t.pu.stop(),t.lu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ta(t,e){if(et("AsyncQueue",`${e}: ${t}`),zi(t))return new A(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Za(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Iu=new Ye(L.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):V():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ia(e,n,Mo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.Eu=void 0,this.listeners=[]}}class E6{constructor(){this.queries=new Vi(e=>YN(e),Wu),this.onlineState="Unknown",this.Au=new Set}}async function jw(t,e){const n=$(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new b6),i)try{s.Eu=await n.onListen(r)}catch(o){const a=Ta(o,`Initialization of query '${Wv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&qw(n)}async function Bw(t,e){const n=$(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function _6(t,e){const n=$(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&qw(n)}function I6(t,e,n){const r=$(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function qw(t){t.Au.forEach(e=>{e.next()})}class Ww{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.Nu=e,this.byteLength=n}ku(){return"metadata"in this.Nu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.serializer=e}Hi(e){return Jn(this.serializer,e)}Ji(e){return e.metadata.exists?wO(this.serializer,e.document,!1):Ae.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return nt(e)}}class T6{constructor(e,n,r){this.Ou=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZO(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++n;const r=pe.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,r=new g_(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Hi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||se()).add(s);n.set(o,a)}}return n}async complete(){const e=await t6(this.localStore,new g_(this.serializer),this.documents,this.Ou.id),n=this.Mu(this.documents);for(const r of this.queries)await n6(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Fu:this.collectionGroups,Bu:e}}}function ZO(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class nA{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=se(),this.mutatedKeys=se(),this.Ku=JN(e),this.Gu=new Mo(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new m_,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=Hu(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?y!==m&&(r.track({type:3,doc:p}),w=!0):this.Wu(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ku(p,l)>0||u&&this.Ku(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(d,f){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return p(d)-p(f)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new ia(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new m_,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=se(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new tA(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new eA(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=se();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return ia.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class C6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x6{constructor(e){this.key=e,this.ec=!1}}class N6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Vi(a=>YN(a),Wu),this.ic=new Map,this.rc=new Set,this.oc=new Ye(L.comparator),this.uc=new Map,this.cc=new Pw,this.ac={},this.hc=new Map,this.lc=Ms.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function O6(t,e){const n=Yw(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await na(n.localStore,tn(e));n.isPrimaryClient&&ap(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Hw(n,e,r,a==="current",o.resumeToken)}return i}async function Hw(t,e,n,r,i){t.dc=(d,f,p)=>async function(y,m,w,g){let h=m.view.zu(w);h.Mi&&(h=await Pf(y.localStore,m.query,!1).then(({documents:E})=>m.view.zu(E,h)));const v=g&&g.targetChanges.get(m.targetId),S=m.view.applyChanges(h,y.isPrimaryClient,v);return Zv(y,m.targetId,S.Yu),S.snapshot}(t,d,f,p);const s=await Pf(t.localStore,e,!0),o=new nA(e,s.Wi),a=o.zu(s.documents),l=Qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Zv(t,n,u.Yu);const c=new C6(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function A6(t,e){const n=$(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Wu(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ra(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),hu(n.remoteStore,r.targetId),sa(n,r.targetId)}).catch(Ui)):(sa(n,r.targetId),await ra(n.localStore,r.targetId,!0))}async function P6(t,e,n){const r=Xw(t);try{const i=await function(s,o){const a=$(s),l=ze.now(),u=o.reduce((f,p)=>f.add(p.key),se());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Xt(),y=se();return a.Ki.getEntries(f,u).next(m=>{p=m,p.forEach((w,g)=>{g.isValidDocument()||(y=y.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(m=>{c=m;const w=[];for(const g of o){const h=u5(g,c.get(g.key).overlayedDocument);h!=null&&w.push(new Pr(g.key,h,VN(h.value.mapValue),Ue.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,w,o)}).next(m=>{d=m;const w=m.applyToLocalDocumentSet(c,y);return a.documentOverlayCache.saveOverlays(f,m.batchId,w)})}).then(()=>({batchId:d.batchId,changes:eO(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Ye(ie)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await Dr(r,i.changes),await Ia(r.remoteStore)}catch(i){const s=Ta(i,"Failed to persist write");n.reject(s)}}async function rA(t,e){const n=$(t);try{const r=await Z5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?G(o.ec):i.removedDocuments.size>0&&(G(o.ec),o.ec=!1))}),await Dr(n,r,e)}catch(r){await Ui(r)}}function v_(t,e,n){const r=$(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=$(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Ru(o)&&(l=!0)}),l&&qw(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D6(t,e,n){const r=$(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Ye(L.comparator);o=o.insert(s,Ae.newNoDocument(s,K.min()));const a=se().add(s),l=new Ku(K.min(),new Map,new Ie(ie),o,a);await rA(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Qw(r)}else await ra(r.localStore,e,!1).then(()=>sa(r,e,n)).catch(Ui)}async function R6(t,e){const n=$(t),r=e.batch.batchId;try{const i=await J5(n.localStore,e);Kw(n,r,null),Gw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dr(n,i)}catch(i){await Ui(i)}}async function M6(t,e,n){const r=$(t);try{const i=await function(s,o){const a=$(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(G(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Kw(r,e,n),Gw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dr(r,i)}catch(i){await Ui(i)}}async function L6(t,e){const n=$(t);ji(n.remoteStore)||P("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=$(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.hc.get(r)||[];i.push(e),n.hc.set(r,i)}catch(r){const i=Ta(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Gw(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Kw(t,e,n){const r=$(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function sa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||iA(t,r)})}function iA(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(hu(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Qw(t))}function Zv(t,e,n){for(const r of n)r instanceof eA?(t.cc.addReference(r.key,e),$6(t,r)):r instanceof tA?(P("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||iA(t,r.key)):V()}function $6(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(P("SyncEngine","New document in limbo: "+n),t.rc.add(r),Qw(t))}function Qw(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new L(pe.fromString(e)),r=t.lc.next();t.uc.set(r,new x6(n)),t.oc=t.oc.insert(n,r),ap(t.remoteStore,new fi(tn(Sa(n.path)),r,2,Qt.ct))}}async function Dr(t,e,n){const r=$(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Mw.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=$(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(l,d=>x.forEach(d.Vi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>x.forEach(d.Si,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!zi(c))throw c;P("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Li.get(d),p=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(p);u.Li=u.Li.insert(d,y)}}}(r.localStore,s))}async function F6(t,e){const n=$(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=await UO(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new A(N.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dr(n,r.Qi)}}function U6(t,e){const n=$(t),r=n.uc.get(e);if(r&&r.ec)return se().add(r.key);{let i=se();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}async function z6(t,e){const n=$(t),r=await Pf(n.localStore,e.query,!0),i=e.view.Xu(r);return n.isPrimaryClient&&Zv(n,e.targetId,i.Yu),i}async function V6(t,e){const n=$(t);return BO(n.localStore,e).then(r=>Dr(n,r))}async function j6(t,e,n,r){const i=$(t),s=await function(o,a){const l=$(o),u=$(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.In(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Ia(i.remoteStore):n==="acknowledged"||n==="rejected"?(Kw(i,e,r||null),Gw(i,e),function(o,a){$($(o).mutationQueue).En(a)}(i.localStore,e)):V(),await Dr(i,s)):P("SyncEngine","Cannot apply mutation batch with id: "+e)}async function B6(t,e){const n=$(t);if(Yw(n),Xw(n),e===!0&&n.fc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await y_(n,r.toArray());n.fc=!0,await Jv(n.remoteStore,!0);for(const s of i)ap(n.remoteStore,s)}else if(e===!1&&n.fc!==!1){const r=[];let i=Promise.resolve();n.ic.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(sa(n,o),ra(n.localStore,o,!0))),hu(n.remoteStore,o)}),await i,await y_(n,r),function(s){const o=$(s);o.uc.forEach((a,l)=>{hu(o.remoteStore,l)}),o.cc.ls(),o.uc=new Map,o.oc=new Ye(L.comparator)}(n),n.fc=!1,await Jv(n.remoteStore,!1)}}async function y_(t,e,n){const r=$(t),i=[],s=[];for(const o of e){let a;const l=r.ic.get(o);if(l&&l.length!==0){a=await na(r.localStore,tn(l[0]));for(const u of l){const c=r.sc.get(u),d=await z6(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await jO(r.localStore,o);a=await na(r.localStore,u),await Hw(r,sA(u),o,!1,a.resumeToken)}i.push(a)}return r.nc.zo(s),i}function sA(t){return QN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function q6(t){const e=$(t);return $($(e.localStore).persistence).bi()}async function W6(t,e,n,r){const i=$(t);if(i.fc)return void P("SyncEngine","Ignoring unexpected query state notification.");const s=i.ic.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await BO(i.localStore,XN(s[0])),a=Ku.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ut.EMPTY_BYTE_STRING);await Dr(i,o,a);break}case"rejected":await ra(i.localStore,e,!0),sa(i,e,r);break;default:V()}}async function H6(t,e,n){const r=Yw(t);if(r.fc){for(const i of e){if(r.ic.has(i)){P("SyncEngine","Adding an already active target "+i);continue}const s=await jO(r.localStore,i),o=await na(r.localStore,s);await Hw(r,sA(s),o.targetId,!1,o.resumeToken),ap(r.remoteStore,o)}for(const i of n)r.ic.has(i)&&await ra(r.localStore,i,!1).then(()=>{hu(r.remoteStore,i),sa(r,i)}).catch(Ui)}}function Yw(t){const e=$(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D6.bind(null,e),e.nc.zo=_6.bind(null,e.eventManager),e.nc.wc=I6.bind(null,e.eventManager),e}function Xw(t){const e=$(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M6.bind(null,e),e}function G6(t,e,n){const r=$(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,f){const p=$(d),y=nt(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",m=>p.xs.getBundleMetadata(m,f.id)).then(m=>!!m&&m.createTime.compareTo(y)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(ZO(a));const l=new T6(a,i.localStore,s.serializer);let u=await s._c();for(;u;){const d=await l.$u(u);d&&o._updateProgress(d),u=await s._c()}const c=await l.complete();return await Dr(i,c.Bu,void 0),await function(d,f){const p=$(d);return p.persistence.runTransaction("Save bundle","readwrite",y=>p.xs.saveBundleMetadata(y,f))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Fu)}catch(a){return Tr("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class ey{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return FO(this.persistence,new $O,e.initialUser,this.serializer)}createPersistence(e){return new LO(op.Fs,this.serializer)}createSharedClientState(e){return new WO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class oA extends ey{constructor(e,n,r){super(),this.mc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.mc.initialize(this,e),await Xw(this.mc.syncEngine),await Ia(this.mc.remoteStore),await this.persistence.hi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return FO(this.persistence,new $O,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new $5(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new Sj(n,this.persistence);return new wj(e.asyncQueue,r)}createPersistence(e){const n=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ht.withCacheSize(this.cacheSizeBytes):Ht.DEFAULT;return new Dw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,HO(),hd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WO}}class K6 extends oA{constructor(e,n){super(e,n,!1),this.mc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.mc.syncEngine;this.sharedClientState instanceof zm&&(this.sharedClientState.syncEngine={$r:j6.bind(null,n),Mr:W6.bind(null,n),Fr:H6.bind(null,n),bi:q6.bind(null,n),Or:V6.bind(null,n)},await this.sharedClientState.start()),await this.persistence.hi(async r=>{await B6(this.mc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=HO();if(!zm.D(n))throw new A(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Rw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zm(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Jw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F6.bind(null,this.syncEngine),await Jv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new E6}createDatastore(e){const n=Yu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new o6(i));var i;return function(s,o,a,l){return new u6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>v_(this.syncEngine,a,0),o=h_.D()?new h_:new r6,new d6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new N6(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=$(e);P("RemoteStore","RemoteStore shutting down."),n.du.add(5),await _a(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):et("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.Ic=e,this.serializer=n,this.metadata=new pt,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}async getMetadata(){return this.metadata.promise}async _c(){return await this.getMetadata(),this.Ec()}async Ec(){const e=await this.Ac();if(e===null)return null;const n=this.Tc.decode(e),r=Number(n);isNaN(r)&&this.Rc(`length string (${n}) is not valid number`);const i=await this.vc(r);return new k6(JSON.parse(i),e.length+r)}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ac(){for(;this.bc()<0&&!await this.Pc(););if(this.buffer.length===0)return null;const e=this.bc();e<0&&this.Rc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async vc(e){for(;this.buffer.length<e;)await this.Pc()&&this.Rc("Reached the end of bundle when more is expected.");const n=this.Tc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pc(){const e=await this.Ic.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=$(r),o=du(s.serializer)+"/documents",a={documents:i.map(d=>cu(s.serializer,d))},l=await s.fo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const f=v5(s.serializer,d);u.set(f.key.toString(),f)});const c=[];return i.forEach(d=>{const f=u.get(d.toString());G(!!f),c.push(f)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ea(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=L.fromPath(r);this.mutations.push(new _w(i,this.precondition(i)))}),await async function(n,r){const i=$(n),s=du(i.serializer)+"/documents",o={writes:r.map(a=>fu(i.serializer,a))};await i.co("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw V();n=K.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new A(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(K.min())?Ue.exists(!1):Ue.updateTime(n):Ue.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(K.min()))throw new A(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(n)}return Ue.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Vc=r.maxAttempts,this.Co=new $w(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){this.Co.Ao(async()=>{const e=new Y6(this.datastore),n=this.Dc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Cc(i)}))}).catch(r=>{this.Cc(r)})})}Dc(e){try{const n=this.updateFunction(e);return!Bu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!dO(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=TN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{P("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(P("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ta(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pd(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ty(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zw(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>p_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>p_(e.remoteStore,s)),t._onlineComponents=e}function aA(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Zw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{await pd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!aA(n))throw n;Tr("Error using user provided cache. Falling back to memory cache: "+n),await pd(t,new ey)}}else P("FirestoreClient","Using default OfflineComponentProvider"),await pd(t,new ey);return t._offlineComponents}async function up(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),await ty(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),await ty(t,new Jw))),t._onlineComponents}function lA(t){return Zw(t).then(e=>e.persistence)}function e1(t){return Zw(t).then(e=>e.localStore)}function uA(t){return up(t).then(e=>e.remoteStore)}function t1(t){return up(t).then(e=>e.syncEngine)}function Z6(t){return up(t).then(e=>e.datastore)}async function oa(t){const e=await up(t),n=e.eventManager;return n.onListen=O6.bind(null,e.syncEngine),n.onUnlisten=A6.bind(null,e.syncEngine),n}function eB(t){return t.asyncQueue.enqueue(async()=>{const e=await lA(t),n=await uA(t);return e.setNetworkEnabled(!0),function(r){const i=$(r);return i.du.delete(0),Xu(i)}(n)})}function tB(t){return t.asyncQueue.enqueue(async()=>{const e=await lA(t),n=await uA(t);return e.setNetworkEnabled(!1),async function(r){const i=$(r);i.du.add(0),await _a(i),i.mu.set("Offline")}(n)})}function nB(t,e){const n=new pt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=$(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new A(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Ta(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await e1(t),e,n)),n.promise}function cA(t,e,n={}){const r=new pt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lp({next:d=>{s.enqueueAndForget(()=>Bw(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new A(N.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new A(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Ww(Sa(o.path),u,{includeMetadataChanges:!0,xu:!0});return jw(i,c)}(await oa(t),t.asyncQueue,e,n,r)),r.promise}function rB(t,e){const n=new pt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await Pf(r,i,!0),a=new nA(i,o.Wi),l=a.zu(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=Ta(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await e1(t),e,n)),n.promise}function dA(t,e,n={}){const r=new pt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lp({next:d=>{s.enqueueAndForget(()=>Bw(i,c)),d.fromCache&&a.source==="server"?l.reject(new A(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new Ww(o,u,{includeMetadataChanges:!0,xu:!0});return jw(i,c)}(await oa(t),t.asyncQueue,e,n,r)),r.promise}function iB(t,e){const n=new lp(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){$(r).Au.add(i),i.next()}(await oa(t),n)),()=>{n.yc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){$(r).Au.delete(i)}(await oa(t),n))}}function sB(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,u){return new Q6(l,u)}(function(l,u){if(l instanceof Uint8Array)return w_(l,u);if(l instanceof ArrayBuffer)return w_(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Yu(e));t.asyncQueue.enqueueAndForget(async()=>{G6(await t1(t),i,r)})}function oB(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=$(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.xs.getNamedQuery(s,r))}(await e1(t),e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e,n){if(!n)throw new A(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fA(t,e,n,r){if(e===!0&&r===!0)throw new A(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function b_(t){if(!L.isDocumentKey(t))throw new A(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E_(t){if(L.isDocumentKey(t))throw new A(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(t);throw new A(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hA(t,e){if(e<=0)throw new A(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new A(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new aj;switch(n.type){case"firstParty":return new dj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=S_.get(e);n&&(P("ComponentProvider","Removing Datastore"),S_.delete(e),n.terminate())}(this),Promise.resolve()}}function aB(t,e,n,r={}){var i;const s=(t=ge(t,Ju))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Tr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=ft.MOCK_USER;else{o=b3(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ft(l)}t._authCredentials=new lj(new kN(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Re(this.firestore,e,this._key)}}class Tt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tt(this.firestore,e,this._query)}}class Zn extends Tt{constructor(e,n,r){super(e,n,Sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Re(this.firestore,null,new L(e))}withConverter(e){return new Zn(this.firestore,e,this._path)}}function pA(t,e,...n){if(t=ke(t),n1("collection","path",e),t instanceof Ju){const r=pe.fromString(e,...n);return E_(r),new Zn(t,null,r)}{if(!(t instanceof Re||t instanceof Zn))throw new A(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return E_(r),new Zn(t.firestore,null,r)}}function lB(t,e){if(t=ge(t,Ju),n1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(N.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tt(t,null,function(n){return new Ar(pe.emptyPath(),n)}(e))}function Lf(t,e,...n){if(t=ke(t),arguments.length===1&&(e=TN.A()),n1("doc","path",e),t instanceof Ju){const r=pe.fromString(e,...n);return b_(r),new Re(t,null,new L(r))}{if(!(t instanceof Re||t instanceof Zn))throw new A(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pe.fromString(e,...n));return b_(r),new Re(t.firestore,t instanceof Zn?t.converter:null,new L(r))}}function mA(t,e){return t=ke(t),e=ke(e),(t instanceof Re||t instanceof Zn)&&(e instanceof Re||e instanceof Zn)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function gA(t,e){return t=ke(t),e=ke(e),t instanceof Tt&&e instanceof Tt&&t.firestore===e.firestore&&Wu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new $w(this,"async_queue_retry"),this.qc=()=>{const n=hd();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=hd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=hd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new pt;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!zi(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw et("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Vw.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&V()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function ny(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class cB{constructor(){this._progressObserver={},this._taskCompletionResolver=new pt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=-1;class Xe extends Ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uB,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vA(this),this._firestoreClient.terminate()}}function wt(t){return t._firestoreClient||vA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vA(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new jj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new J6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function fB(t,e){wA(t=ge(t,Xe));const n=wt(t);if(n._uninitializedComponentsProvider)throw new A(N.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Jw;return yA(n,i,new oA(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function hB(t){wA(t=ge(t,Xe));const e=wt(t);if(e._uninitializedComponentsProvider)throw new A(N.FAILED_PRECONDITION,"SDK cache is already specified.");Tr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Jw;return yA(e,r,new K6(r,n.cacheSizeBytes))}function yA(t,e,n){const r=new pt;return t.asyncQueue.enqueue(async()=>{try{await pd(t,n),await ty(t,e),r.resolve()}catch(i){const s=i;if(!aA(s))throw s;Tr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function pB(t){if(t._initialized&&!t._terminated)throw new A(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new pt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!Pn.D())return Promise.resolve();const r=n+"main";await Pn.delete(r)}(Rw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function mB(t){return function(e){const n=new pt;return e.asyncQueue.enqueueAndForget(async()=>L6(await t1(e),n)),n.promise}(wt(t=ge(t,Xe)))}function gB(t){return eB(wt(t=ge(t,Xe)))}function vB(t){return tB(wt(t=ge(t,Xe)))}function yB(t,e){const n=wt(t=ge(t,Xe)),r=new cB;return sB(n,t._databaseId,e,r),r}function wB(t,e){return oB(wt(t=ge(t,Xe)),e).then(n=>n?new Tt(t,null,n.query):null)}function wA(t){if(t._initialized||t._terminated)throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nr(ut.fromBase64String(e))}catch(n){throw new A(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nr(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=/^__.*__$/;class bB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ba(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}class fp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return $f(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(bA(this.Yc)&&SB.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class EB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yu(e)}ua(e,n,r,i=!1){return new fp({Yc:e,methodName:n,oa:r,path:tt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qs(t){const e=t._freezeSettings(),n=Yu(t._databaseId);return new EB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hp(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);o1("Data must be an object, but it was:",o,r);const a=IA(r,o);let l,u;if(s.merge)l=new Yt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=ry(e,d,n);if(!o.contains(f))throw new A(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TA(c,f)||c.push(f)}l=new Yt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new bB(new Et(a),l,u)}class Zu extends Bs{_toFieldTransform(e){if(e.Yc!==2)throw e.Yc===1?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function EA(t,e,n){return new fp({Yc:3,oa:e.settings.oa,methodName:t._methodName,ta:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class r1 extends Bs{_toFieldTransform(e){return new Gu(e.path,new Zo)}isEqual(e){return e instanceof r1}}class _B extends Bs{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=EA(this,e,!0),r=this.ca.map(s=>Ws(s,n)),i=new As(r);return new Gu(e.path,i)}isEqual(e){return this===e}}class IB extends Bs{constructor(e,n){super(e),this.ca=n}_toFieldTransform(e){const n=EA(this,e,!0),r=this.ca.map(s=>Ws(s,n)),i=new Ps(r);return new Gu(e.path,i)}isEqual(e){return this===e}}class kB extends Bs{constructor(e,n){super(e),this.aa=n}_toFieldTransform(e){const n=new ea(e.serializer,iO(e.serializer,this.aa));return new Gu(e.path,n)}isEqual(e){return this===e}}function i1(t,e,n,r){const i=t.ua(1,e,n);o1("Data must be an object, but it was:",i,r);const s=[],o=Et.empty();js(r,(l,u)=>{const c=a1(e,l,n);u=ke(u);const d=i.na(c);if(u instanceof Zu)s.push(c);else{const f=Ws(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Yt(s);return new SA(o,a,i.fieldTransforms)}function s1(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[ry(e,r,n)],l=[i];if(s.length%2!=0)throw new A(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ry(e,s[f])),l.push(s[f+1]);const u=[],c=Et.empty();for(let f=a.length-1;f>=0;--f)if(!TA(u,a[f])){const p=a[f];let y=l[f];y=ke(y);const m=o.na(p);if(y instanceof Zu)u.push(p);else{const w=Ws(y,m);w!=null&&(u.push(p),c.set(p,w))}}const d=new Yt(u);return new SA(c,d,o.fieldTransforms)}function _A(t,e,n,r=!1){return Ws(n,t.ua(r?4:3,e))}function Ws(t,e){if(kA(t=ke(t)))return o1("Unsupported field value:",e,t),IA(t,e);if(t instanceof Bs)return function(n,r){if(!bA(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Ws(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ke(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iO(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ze.fromDate(n);return{timestampValue:ta(r.serializer,i)}}if(n instanceof ze){const i=new ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ta(r.serializer,i)}}if(n instanceof dp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof nr)return{bytesValue:mO(r.serializer,n._byteString)};if(n instanceof Re){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${cp(n)}`)}(t,e)}function IA(t,e){const n={};return FN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(r,i)=>{const s=Ws(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof dp||t instanceof nr||t instanceof Re||t instanceof Bs)}function o1(t,e,n){if(!kA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=cp(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function ry(t,e,n){if((e=ke(e))instanceof Ai)return e._internalPath;if(typeof e=="string")return a1(t,e);throw $f("Field path arguments must be of type string or ",t,!1,void 0,n)}const TB=new RegExp("[~\\*/\\[\\]]");function a1(t,e,n){if(e.search(TB)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ai(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $f(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(N.INVALID_ARGUMENT,a+t+l)}function TA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CB extends pu{data(){return super.data()}}function pp(t,e){return typeof e=="string"?a1(t,e):e instanceof Ai?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l1{}class ec extends l1{}function Ur(t,e,...n){let r=[];e instanceof l1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof u1).length,o=i.filter(a=>a instanceof mp).length;if(s>1||s>0&&o>0)throw new A(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mp extends ec{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mp(e,n,r)}_apply(e){const n=this._parse(e);return NA(e._query,n),new Tt(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=qs(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new A(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){k_(c,u);const f=[];for(const p of c)f.push(I_(a,i,p));d={arrayValue:{values:f}}}else d=I_(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||k_(c,u),d=_A(o,s,c,u==="in"||u==="not-in");return ce.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xB(t,e,n){const r=e,i=pp("where",t);return mp._create(i,r,n)}class u1 extends l1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new u1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Se.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)NA(s,a),s=qv(s,a)}(e._query,n),new Tt(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c1 extends ec{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new A(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new A(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ro(i,s);return function(a,l){if(bw(a)===null){const u=ep(a);u!==null&&OA(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Tt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ar(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function NB(t,e="asc"){const n=e,r=pp("orderBy",t);return c1._create(r,n)}class gp extends ec{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gp(e,n,r)}_apply(e){return new Tt(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function OB(t){return hA("limit",t),gp._create("limit",t,"F")}function AB(t){return hA("limitToLast",t),gp._create("limitToLast",t,"L")}class vp extends ec{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vp(e,n,r)}_apply(e){const n=xA(e,this.type,this._docOrFields,this._inclusive);return new Tt(e.firestore,e.converter,function(r,i){return new Ar(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function PB(...t){return vp._create("startAt",t,!0)}function DB(...t){return vp._create("startAfter",t,!1)}class yp extends ec{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new yp(e,n,r)}_apply(e){const n=xA(e,this.type,this._docOrFields,this._inclusive);return new Tt(e.firestore,e.converter,function(r,i){return new Ar(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function RB(...t){return yp._create("endBefore",t,!1)}function MB(...t){return yp._create("endAt",t,!0)}function xA(t,e,n,r){if(n[0]=ke(n[0]),n[0]instanceof pu)return function(i,s,o,a,l){if(!a)throw new A(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of ps(i))if(c.field.isKeyField())u.push(Ns(s,a.key));else{const d=a.data.field(c.field);if(ww(d))throw new A(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=c.field.canonicalString();throw new A(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(d)}return new Ni(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=qs(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new A(N.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<u.length;p++){const y=u[p];if(d[p].field.isKeyField()){if(typeof y!="string")throw new A(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof y}`);if(!Ew(s)&&y.indexOf("/")!==-1)throw new A(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${y}' contains a slash.`);const m=s.path.child(pe.fromString(y));if(!L.isDocumentKey(m))throw new A(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const w=new L(m);f.push(Ns(o,w))}else{const m=_A(a,l,y);f.push(m)}}return new Ni(f,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function I_(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ew(e)&&n.indexOf("/")!==-1)throw new A(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pe.fromString(n));if(!L.isDocumentKey(r))throw new A(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ns(t,new L(r))}if(n instanceof Re)return Ns(t,n._key);throw new A(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cp(n)}.`)}function k_(t,e){if(!Array.isArray(t)||t.length===0)throw new A(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NA(t,e){if(e.isInequality()){const r=ep(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new A(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=bw(t);s!==null&&OA(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OA(t,e,n){if(!n.isEqual(e))throw new A(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class d1{convertValue(e,n="none"){switch(xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){const r={};return js(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new dp(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=UN(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pe.fromString(e);G(kO(r));const i=new Ci(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||et(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class LB extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cr extends pu{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sl extends Cr{data(e={}){return super.data(e)}}class Pi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sl(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Sl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new as(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Sl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new as(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:$B(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $B(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}function AA(t,e){return t instanceof Cr&&e instanceof Cr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Pi&&e instanceof Pi&&t._firestore===e._firestore&&gA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){t=ge(t,Re);const e=ge(t.firestore,Xe);return cA(wt(e),t._key).then(n=>f1(e,t,n))}class Hs extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new nr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Re(this.firestore,null,n)}}function UB(t){t=ge(t,Re);const e=ge(t.firestore,Xe),n=wt(e),r=new Hs(e);return nB(n,t._key).then(i=>new Cr(e,r,t._key,i,new as(i!==null&&i.hasLocalMutations,!0),t.converter))}function zB(t){t=ge(t,Re);const e=ge(t.firestore,Xe);return cA(wt(e),t._key,{source:"server"}).then(n=>f1(e,t,n))}function VB(t){t=ge(t,Tt);const e=ge(t.firestore,Xe),n=wt(e),r=new Hs(e);return CA(t._query),dA(n,t._query).then(i=>new Pi(e,r,t,i))}function jB(t){t=ge(t,Tt);const e=ge(t.firestore,Xe),n=wt(e),r=new Hs(e);return rB(n,t._query).then(i=>new Pi(e,r,t,i))}function BB(t){t=ge(t,Tt);const e=ge(t.firestore,Xe),n=wt(e),r=new Hs(e);return dA(n,t._query,{source:"server"}).then(i=>new Pi(e,r,t,i))}function T_(t,e,n){t=ge(t,Re);const r=ge(t.firestore,Xe),i=wp(t.converter,e,n);return tc(r,[hp(qs(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ue.none())])}function C_(t,e,n,...r){t=ge(t,Re);const i=ge(t.firestore,Xe),s=qs(i);let o;return o=typeof(e=ke(e))=="string"||e instanceof Ai?s1(s,"updateDoc",t._key,e,n,r):i1(s,"updateDoc",t._key,e),tc(i,[o.toMutation(t._key,Ue.exists(!0))])}function qB(t){return tc(ge(t.firestore,Xe),[new Ea(t._key,Ue.none())])}function WB(t,e){const n=ge(t.firestore,Xe),r=Lf(t),i=wp(t.converter,e);return tc(n,[hp(qs(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ue.exists(!1))]).then(()=>r)}function PA(t,...e){var n,r,i;t=ke(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ny(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ny(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Re)u=ge(t.firestore,Xe),c=Sa(t._key.path),l={next:d=>{e[o]&&e[o](f1(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=ge(t,Tt);u=ge(d.firestore,Xe),c=d._query;const f=new Hs(u);l={next:p=>{e[o]&&e[o](new Pi(u,f,d,p))},error:e[o+1],complete:e[o+2]},CA(t._query)}return function(d,f,p,y){const m=new lp(y),w=new Ww(f,m,p);return d.asyncQueue.enqueueAndForget(async()=>jw(await oa(d),w)),()=>{m.yc(),d.asyncQueue.enqueueAndForget(async()=>Bw(await oa(d),w))}}(wt(u),c,a,l)}function HB(t,e){return iB(wt(t=ge(t,Xe)),ny(e)?e:{next:e})}function tc(t,e){return function(n,r){const i=new pt;return n.asyncQueue.enqueueAndForget(async()=>P6(await t1(n),r,i)),i.promise}(wt(t),e)}function f1(t,e,n){const r=n.docs.get(e._key),i=new Hs(t);return new Cr(t,i,e._key,r,new as(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qs(e)}set(e,n,r){this._verifyNotCommitted();const i=Xr(e,this._firestore),s=wp(i.converter,n,r),o=hp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ue.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Xr(e,this._firestore);let o;return o=typeof(n=ke(n))=="string"||n instanceof Ai?s1(this._dataReader,"WriteBatch.update",s._key,n,r,i):i1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ue.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Xr(e,this._firestore);return this._mutations=this._mutations.concat(new Ea(n._key,Ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new A(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xr(t,e){if((t=ke(t)).firestore!==e)throw new A(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=qs(e)}get(e){const n=Xr(e,this._firestore),r=new LB(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return V();const s=i[0];if(s.isFoundDocument())return new pu(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new pu(this._firestore,r,n._key,null,n.converter);throw V()})}set(e,n,r){const i=Xr(e,this._firestore),s=wp(i.converter,n,r),o=hp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Xr(e,this._firestore);let o;return o=typeof(n=ke(n))=="string"||n instanceof Ai?s1(this._dataReader,"Transaction.update",s._key,n,r,i):i1(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Xr(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Xr(e,this._firestore),r=new Hs(this._firestore);return super.get(e).then(i=>new Cr(this._firestore,r,n._key,i._document,new as(!1,!1),n.converter))}}function YB(t,e,n){t=ge(t,Xe);const r=Object.assign(Object.assign({},GB),n);return function(i){if(i.maxAttempts<1)throw new A(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new pt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Z6(i);new X6(i.asyncQueue,l,o,s,a).run()}),a.promise}(wt(t),i=>e(new QB(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(){return new Zu("deleteField")}function JB(){return new r1("serverTimestamp")}function ZB(...t){return new _B("arrayUnion",t)}function e8(...t){return new IB("arrayRemove",t)}function t8(t){return new kB("increment",t)}(function(t,e=!0){(function(n){wa=n})(Li),_i(new _r("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Xe(new uj(n.getProvider("auth-internal")),new hj(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ci(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qn(IE,"3.10.1",t),Qn(IE,"3.10.1","esm2017")})();const n8="@firebase/firestore-compat",r8="0.3.7";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new A("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){if(typeof Uint8Array>"u")throw new A("unimplemented","Uint8Arrays are not available in this environment.")}function N_(){if(!zj())throw new A("unimplemented","Blobs are unavailable in Firestore in this environment.")}class mu{constructor(e){this._delegate=e}static fromBase64String(e){return N_(),new mu(nr.fromBase64String(e))}static fromUint8Array(e){return x_(),new mu(nr.fromUint8Array(e))}toBase64(){return N_(),this._delegate.toBase64()}toUint8Array(){return x_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){return i8(t,["next","error","complete"])}function i8(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{enableIndexedDbPersistence(e,n){return fB(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return hB(e._delegate)}clearIndexedDbPersistence(e){return pB(e._delegate)}}class DA{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ci||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Tr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){aB(this._delegate,e,n,r)}enableNetwork(){return gB(this._delegate)}disableNetwork(){return vB(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fA("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mB(this._delegate)}onSnapshotsInSync(e){return HB(this._delegate,e)}get app(){if(!this._appCompat)throw new A("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new aa(this,pA(this._delegate,e))}catch(n){throw Ut(n,"collection()","Firestore.collection()")}}doc(e){try{return new Sn(this,Lf(this._delegate,e))}catch(n){throw Ut(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ft(this,lB(this._delegate,e))}catch(n){throw Ut(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return YB(this._delegate,n=>e(new RA(this,n)))}batch(){return wt(this._delegate),new MA(new KB(this._delegate,e=>tc(this._delegate,e)))}loadBundle(e){return yB(this._delegate,e)}namedQuery(e){return wB(this._delegate,e).then(n=>n?new Ft(this,n):null)}}class Sp extends d1{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(new nr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Sn.forKey(n,this.firestore,null)}}function o8(t){sj(t)}class RA{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Sp(e)}get(e){const n=ls(e);return this._delegate.get(n).then(r=>new gu(this._firestore,new Cr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=ls(e);return r?(h1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=ls(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=ls(e);return this._delegate.delete(n),this}}class MA{constructor(e){this._delegate=e}set(e,n,r){const i=ls(e);return r?(h1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=ls(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=ls(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ls{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Sl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vu(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ls.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Ls(e,new Sp(e),n),i.set(n,s)),s}}Ls.INSTANCES=new WeakMap;class Sn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sp(e)}static forPath(e,n,r){if(e.length%2!==0)throw new A("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sn(n,new Re(n._delegate,r,new L(e)))}static forKey(e,n,r){return new Sn(n,new Re(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new aa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new aa(this.firestore,pA(this._delegate,e))}catch(n){throw Ut(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ke(e),e instanceof Re?mA(this._delegate,e):!1}set(e,n){n=h1("DocumentReference.set",n);try{return n?T_(this._delegate,e,n):T_(this._delegate,e)}catch(r){throw Ut(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?C_(this._delegate,e):C_(this._delegate,e,n,...r)}catch(i){throw Ut(i,"updateDoc()","DocumentReference.update()")}}delete(){return qB(this._delegate)}onSnapshot(...e){const n=LA(e),r=$A(e,i=>new gu(this.firestore,new Cr(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return PA(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=UB(this._delegate):(e==null?void 0:e.source)==="server"?n=zB(this._delegate):n=FB(this._delegate),n.then(r=>new gu(this.firestore,new Cr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sn(this.firestore,e?this._delegate.withConverter(Ls.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ut(t,e,n){return t.message=t.message.replace(e,n),t}function LA(t){for(const e of t)if(typeof e=="object"&&!iy(e))return e;return{}}function $A(t,e){var n,r;let i;return iy(t[0])?i=t[0]:iy(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class gu{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Sn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return AA(this._delegate,e._delegate)}}class vu extends gu{data(e){const n=this._delegate.data(e);return oj(n!==void 0),n}}class Ft{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sp(e)}where(e,n,r){try{return new Ft(this.firestore,Ur(this._delegate,xB(e,n,r)))}catch(i){throw Ut(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Ft(this.firestore,Ur(this._delegate,NB(e,n)))}catch(r){throw Ut(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ft(this.firestore,Ur(this._delegate,OB(e)))}catch(n){throw Ut(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Ft(this.firestore,Ur(this._delegate,AB(e)))}catch(n){throw Ut(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ft(this.firestore,Ur(this._delegate,PB(...e)))}catch(n){throw Ut(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ft(this.firestore,Ur(this._delegate,DB(...e)))}catch(n){throw Ut(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ft(this.firestore,Ur(this._delegate,RB(...e)))}catch(n){throw Ut(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ft(this.firestore,Ur(this._delegate,MB(...e)))}catch(n){throw Ut(n,"endAt()","Query.endAt()")}}isEqual(e){return gA(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=jB(this._delegate):(e==null?void 0:e.source)==="server"?n=BB(this._delegate):n=VB(this._delegate),n.then(r=>new sy(this.firestore,new Pi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=LA(e),r=$A(e,i=>new sy(this.firestore,new Pi(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return PA(this._delegate,n,r)}withConverter(e){return new Ft(this.firestore,e?this._delegate.withConverter(Ls.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class a8{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new vu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sy{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Ft(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vu(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new a8(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new vu(this._firestore,r))})}isEqual(e){return AA(this._delegate,e._delegate)}}class aa extends Ft{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sn(this.firestore,e):null}doc(e){try{return e===void 0?new Sn(this.firestore,Lf(this._delegate)):new Sn(this.firestore,Lf(this._delegate,e))}catch(n){throw Ut(n,"doc()","CollectionReference.doc()")}}add(e){return WB(this._delegate,e).then(n=>new Sn(this.firestore,n))}isEqual(e){return mA(this._delegate,e._delegate)}withConverter(e){return new aa(this.firestore,e?this._delegate.withConverter(Ls.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ls(t){return ge(t,Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(...e){this._delegate=new Ai(...e)}static documentId(){return new p1(tt.keyField().canonicalString())}isEqual(e){return e=ke(e),e instanceof Ai?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._delegate=e}static serverTimestamp(){const e=JB();return e._methodName="FieldValue.serverTimestamp",new Zi(e)}static delete(){const e=XB();return e._methodName="FieldValue.delete",new Zi(e)}static arrayUnion(...e){const n=ZB(...e);return n._methodName="FieldValue.arrayUnion",new Zi(n)}static arrayRemove(...e){const n=e8(...e);return n._methodName="FieldValue.arrayRemove",new Zi(n)}static increment(e){const n=t8(e);return n._methodName="FieldValue.increment",new Zi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={Firestore:DA,GeoPoint:dp,Timestamp:ze,Blob:mu,Transaction:RA,WriteBatch:MA,DocumentReference:Sn,DocumentSnapshot:gu,Query:Ft,QueryDocumentSnapshot:vu,QuerySnapshot:sy,CollectionReference:aa,FieldPath:p1,FieldValue:Zi,setLogLevel:o8,CACHE_SIZE_UNLIMITED:dB};function u8(t,e){t.INTERNAL.registerComponent(new _r("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},l8)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){u8(t,(e,n)=>new DA(e,n,new s8)),t.registerVersion(n8,r8)}c8(Or);/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yu(){return yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yu.apply(this,arguments)}var ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ni||(ni={}));const O_="popstate";function d8(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=Gs(i.location.hash.substr(1));return oy("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:FA(s))}function r(i,s){bp(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return h8(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f8(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function oy(t,e,n,r){return n===void 0&&(n=null),yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gs(e):e,{state:n,key:e&&e.key||r||f8()})}function FA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function h8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ni.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ni.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:m.location,delta:g})}function f(w,g){a=ni.Push;let h=oy(m.location,w,g);n&&n(h,w),u=c()+1;let v=A_(h,u),S=m.createHref(h);try{o.pushState(v,"",S)}catch{i.location.assign(S)}s&&l&&l({action:a,location:m.location,delta:1})}function p(w,g){a=ni.Replace;let h=oy(m.location,w,g);n&&n(h,w),u=c();let v=A_(h,u),S=m.createHref(h);o.replaceState(v,"",S),s&&l&&l({action:a,location:m.location,delta:0})}function y(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof w=="string"?w:FA(w);return mt(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let m={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O_,d),l=w,()=>{i.removeEventListener(O_,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return m}var P_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(P_||(P_={}));function p8(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Gs(e):e,i=VA(r.pathname||"/",n);if(i==null)return null;let s=UA(t);m8(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=I8(s[a],C8(i));return o}function UA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ms([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UA(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:E8(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of zA(s.path))i(s,o,l)}),e}function zA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g8=/^:\w+$/,v8=3,y8=2,w8=1,S8=10,b8=-2,D_=t=>t==="*";function E8(t,e){let n=t.split("/"),r=n.length;return n.some(D_)&&(r+=b8),e&&(r+=y8),n.filter(i=>!D_(i)).reduce((i,s)=>i+(g8.test(s)?v8:s===""?w8:S8),r)}function _8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I8(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=k8({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ms([i,c.pathname]),pathnameBase:D8(ms([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ms([i,c.pathnameBase]))}return s}function k8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=T8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=x8(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function T8(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function C8(t){try{return decodeURI(t)}catch(e){return bp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function x8(t,e){try{return decodeURIComponent(t)}catch(n){return bp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function VA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N8(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gs(t):t;return{pathname:n?n.startsWith("/")?n:O8(n,e):e,search:R8(r),hash:M8(i)}}function O8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function A8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function P8(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gs(t):(i=yu({},t),mt(!i.pathname||!i.pathname.includes("?"),jm("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),jm("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),jm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=N8(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ms=t=>t.join("/").replace(/\/\/+/g,"/"),D8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const F8=typeof Object.is=="function"?Object.is:$8,{useState:U8,useEffect:z8,useLayoutEffect:V8,useDebugValue:j8}=qm;function B8(t,e,n){const r=e(),[{inst:i},s]=U8({inst:{value:r,getSnapshot:e}});return V8(()=>{i.value=r,i.getSnapshot=e,Bm(i)&&s({inst:i})},[t,r,e]),z8(()=>(Bm(i)&&s({inst:i}),t(()=>{Bm(i)&&s({inst:i})})),[t]),j8(r),r}function Bm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!F8(n,r)}catch{return!0}}function q8(t,e,n){return e()}const W8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H8=!W8,G8=H8?q8:B8;"useSyncExternalStore"in qm&&(t=>t.useSyncExternalStore)(qm);const jA=k.createContext(null),BA=k.createContext(null),m1=k.createContext(null),Ep=k.createContext(null),nc=k.createContext({outlet:null,matches:[]}),qA=k.createContext(null);function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(this,arguments)}function _p(){return k.useContext(Ep)!=null}function g1(){return _p()||mt(!1),k.useContext(Ep).location}function ir(){_p()||mt(!1);let{basename:t,navigator:e}=k.useContext(m1),{matches:n}=k.useContext(nc),{pathname:r}=g1(),i=JSON.stringify(A8(n).map(a=>a.pathnameBase)),s=k.useRef(!1);return k.useEffect(()=>{s.current=!0}),k.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=P8(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:ms([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}function K8(t,e){_p()||mt(!1);let{navigator:n}=k.useContext(m1),r=k.useContext(BA),{matches:i}=k.useContext(nc),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=g1(),u;if(e){var c;let m=typeof e=="string"?Gs(e):e;a==="/"||(c=m.pathname)!=null&&c.startsWith(a)||mt(!1),u=m}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=p8(t,{pathname:f}),y=J8(p&&p.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:ms([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ms([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&y?k.createElement(Ep.Provider,{value:{location:ay({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ni.Pop}},y):y}function Q8(){let t=nq(),e=L8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}class Y8 extends k.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?k.createElement(nc.Provider,{value:this.props.routeContext},k.createElement(qA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X8(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(jA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(nc.Provider,{value:e},r)}function J8(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||mt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=k.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=k.createElement(Q8,null));let c=e.concat(r.slice(0,a+1)),d=()=>{let f=s;return l?f=u:o.route.Component?f=k.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),k.createElement(X8,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?k.createElement(Y8,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var R_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(R_||(R_={}));var Ff;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Ff||(Ff={}));function Z8(t){let e=k.useContext(BA);return e||mt(!1),e}function eq(t){let e=k.useContext(nc);return e||mt(!1),e}function tq(t){let e=eq(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function nq(){var t;let e=k.useContext(qA),n=Z8(Ff.UseRouteError),r=tq(Ff.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function sr(t){mt(!1)}function rq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ni.Pop,navigator:s,static:o=!1}=t;_p()&&mt(!1);let a=e.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Gs(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,y=k.useMemo(()=>{let m=VA(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:f,key:p},navigationType:i}},[a,u,c,d,f,p,i]);return y==null?null:k.createElement(m1.Provider,{value:l},k.createElement(Ep.Provider,{children:n,value:y}))}function iq(t){let{children:e,location:n}=t,r=k.useContext(jA),i=r&&!e?r.router.routes:ly(e);return K8(i,n)}var M_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(M_||(M_={}));new Promise(()=>{});function ly(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;let s=[...e,i];if(r.type===k.Fragment){n.push.apply(n,ly(r.props.children,s));return}r.type!==sr&&mt(!1),!r.props.index||!r.props.children||mt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ly(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sq(t){let{basename:e,children:n,window:r}=t,i=k.useRef();i.current==null&&(i.current=d8({window:r,v5Compat:!0}));let s=i.current,[o,a]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(a),[s]),k.createElement(rq,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}var L_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(L_||(L_={}));var $_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($_||($_={}));const oq=()=>{const t=new Date,e=Ii(),n=Or.firestore(),[r,i]=k.useState(""),[s,o]=k.useState(""),[a,l]=k.useState([]),[u,c]=k.useState("");let d=ir();const f=localStorage.getItem("lastSelectedMovie"),p=JSON.parse(f);k.useEffect(()=>{n.collection("comments").where("movieid","==",p.id.toString()).onSnapshot(b=>{if(b.empty)console.log("No comments found for movie",p.id),l("");else{const T=b.docs.map(_=>_.data());console.log("Comments for movie",p.id,":",T),l(T)}},b=>{console.log("Error getting comments:",b),l("")})},[p]);const y=()=>{if(r!=""){const S=t.toString(),E=new Intl.DateTimeFormat("en-US").format(t).toString();console.log("formatDate"+E);const b=p.id.toString();n.collection("comments").doc(S).set({text:r,name:s,time:E,movieid:b,timeStamp:S,thumbsUp:0,thumbsDown:0}).then(()=>{console.log("saved.")}).catch(T=>{console.error("error saving: ",T)}),i("")}};k.useEffect(()=>{const S=Mh(e,E=>{if(E){const b=E.uid;console.log(b),c(E),n.collection("users").doc(b).get().then(_=>{if(_.exists){const O=_.data().username;console.log("Username:",O),o(O)}else console.log("cant fint username")}).catch(_=>{console.log("Error getting document:",_)})}else console.log("user is signed out")});return()=>{S()}},[]);const m=S=>{const{value:E}=S.target;i(E)},w=S=>{if(u){const E=e.currentUser.uid;n.collection("users").doc(E).collection("rates").doc(S).get().then(T=>{if(T.exists)console.log("User has already rated this comment.");else{h(S,"thumbsup"),console.log("thumbs up"+S);const _=n.collection("comments").doc(S);_.get().then(C=>{if(C.exists){const O=C.data(),M={...O,thumbsUp:O.thumbsUp+1};_.set(M).then(()=>{console.log("Thumbs up updated successfully")}).catch(F=>{console.error("Error updating thumbs up:",F)})}else console.error("Comment not found")}).catch(C=>{console.error("Error getting comment document:",C)})}}).catch(T=>{console.error("Error checking user's rating:",T)})}},g=S=>{if(u){const E=e.currentUser.uid;n.collection("users").doc(E).collection("rates").doc(S).get().then(T=>{if(T.exists)console.log("User has already rated this comment.");else{h(S,"thumbsdown"),console.log("thumbs down"+S);const _=n.collection("comments").doc(S);_.get().then(C=>{if(C.exists){const O=C.data(),M={...O,thumbsDown:O.thumbsDown+1};_.set(M).then(()=>{console.log("Thumbs down updated successfully")}).catch(F=>{console.error("Error updating thumbs down:",F)})}else console.error("Comment not found")}).catch(C=>{console.error("Error getting comment document:",C)})}}).catch(T=>{console.error("Error checking user's rating:",T)})}},h=(S,E)=>{if(u!=null){const b=e.currentUser.uid;n.collection("users").doc(b).collection("rates").doc(S).set({rate:E,id:S}).then(()=>{console.log("saved.")}).catch(T=>{console.error("error saving: ",T)})}else return};return q("div",{className:"comments-wrapper",children:[u&&q("div",{children:[I("textarea",{className:"comment-input",value:r,onChange:m,name:"text",type:"text",placeholder:"your comment..."}),I("button",{onClick:y,children:"comment"})]}),!u&&q("div",{children:[I("textarea",{className:"comment-input",value:r,onChange:m,placeholder:"You have to be signed in to comment",readOnly:!0}),I("button",{onClick:()=>{d("/login")},children:"Login"})]}),I("div",{className:"comments-list",children:a&&a.slice().sort((S,E)=>E.weightedScore-S.weightedScore).map(S=>q("div",{children:[I("span",{children:S.name})," ",S.time,"  ",I(er,{onClick:()=>w(S.timeStamp),name:"thumbUp",className:"thumbUp",icon:u3}),S.thumbsUp,I(er,{onClick:()=>g(S.timeStamp),className:"thumbDown",name:"thumbDown",icon:a3}),S.thumbsDown," ",I("br",{})," ",S.text]},S.timeStamp))})]})},WA=on("setToTrue"),aq=on("setToFalse"),lq={payment:!1},uq=E0(lq,t=>{t.addCase(WA,e=>{e.payment=!0}).addCase(aq,e=>{e.payment=!1})});function cq({onCategoryClick:t,handleMovieClick:e,toggleUserIconVisibility:n}){const r=localStorage.getItem("lastSelectedMovie"),i=JSON.parse(r),s=i.vote_average;let o=ku(),a=ir();const l=Ii(),u=Or.firestore(),c=l.currentUser,d=k.useRef(null),f="https://image.tmdb.org/t/p/original",p=Us(oe=>oe.navigatePayment.payment),[y,m]=k.useState(!1),[w,g]=k.useState(null),[h,v]=k.useState([]),S={OVERVIEW:"overview",TRAILER:"trailer",COMMENTS:"comments"},[E,b]=k.useState(S.OVERVIEW),[T,_]=k.useState([]),[C,O]=k.useState(null),[M,F]=k.useState(!0),[z,Ce]=k.useState(!1),[ve,ye]=k.useState(!1),[Ve,R]=k.useState("Add to watchlist"),[Q,Y]=k.useState(""),[we,J]=k.useState([""]);k.useState(!1);const ne={EXISTS:"Remove from watchlist",EMPTY:"Add to watchlist"},te=()=>{c&&u.collection("users").doc(c.uid).collection("watchlist").where("id","==",i.id).onSnapshot(oe=>{if(oe.empty)R(ne.EMPTY),Y("");else{const Qs=oe.docs[0].id;Y(Qs),R(ne.EXISTS)}})};k.useEffect(()=>{let oe;return c&&(oe=te()),()=>{oe&&oe()}},[c]),k.useEffect(()=>{fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=305f99214975faee28a0f129881c6ec9&language=en-US").then(oe=>oe.json()).then(oe=>{_(oe.genres)}).catch(oe=>console.log(oe)),fetch(`https://api.themoviedb.org/3/movie/${i.id}/videos?api_key=305f99214975faee28a0f129881c6ec9&language=en-US`).then(oe=>oe.json()).then(oe=>{const $n=oe.results.find(Qs=>Qs.type==="Trailer");O($n?$n.key:null)}).catch(oe=>console.log(oe))},[i.id]),k.useEffect(()=>{n(!0),Mh(l,oe=>{oe?(console.log("user hämtats"),g(oe)):g(null)})},[]),k.useEffect(()=>{console.log("before async");async function oe(){if(w!=null){console.log("aysync funktion user sant"),console.log("user: ",w);const JA=(await u.collection("users").doc(w.uid).collection("purchased").get()).docs.map(ZA=>ZA.data());v(JA)}}oe()},[w]),k.useEffect(()=>{m(!!h.find(oe=>oe.id===i.id))},[h,i.id]);const Je=()=>{console.log("scrolla uppåt"),window.scrollTo(0,0)};k.useEffect(()=>{Je()},[]);const Z=i.genre_ids.map(oe=>{const $n=T.find(Qs=>Qs.id===oe);return $n?$n.name:""}),Te=()=>{setIsFullscreen(oe=>!oe)},mn=()=>{Ii().currentUser?(console.log("User is authenticated"),a("/payment/")):(console.log("User is not authenticated"),o(WA()),console.log(p),a("/login"))},Ca=()=>{c!=null?Ve==ne.EMPTY?u.collection("users").doc(c.uid).collection("watchlist").doc().set(i).then(()=>{console.log("saved.")}).catch(oe=>{console.error("error saving: ",oe)}):Ve===ne.EXISTS&&u.collection("users").doc(c.uid).collection("watchlist").doc(Q).delete().then(()=>{console.log("Document successfully deleted!")}).catch(oe=>{console.error("Error removing document: ",oe)}):(a("/login"),console.log("navigering till login handle watch"))},Ks=()=>{F(!0),Ce(!1),ye(!1),b(S.OVERVIEW)},rc=()=>{F(!1),Ce(!0),ye(!1),b(S.TRAILER)},YA=()=>{F(!1),Ce(!1),ye(!0),b(S.COMMENTS)},XA=()=>{if(console.log("Play button clicked"),w){console.log("purchasedMovies:",h);const oe=h.find($n=>$n.id===i.id);console.log(oe),oe?(a("/video"),console.log("handlePlayButtonClick function called")):console.log("You haven't purchased this movie yet!")}};return k.useEffect(()=>{switch(i.original_language){case"en":J("English");break;case"es":J("Spanish");break;case"fr":J("French");break;case"de":J("German");break;case"it":J("Italian");break;case"ja":J("Japanese");break;case"ko":J("Korean");break;case"pt":J("Portuguese");break;case"ru":J("Russian");break;case"zh":J("Chinese");break;case"nl":J("Dutch");break;case"sv":J("Swedish");break;case"da":J("Danish");break;case"no":J("Norwegian");break;case"fi":J("Finnish");break;case"pl":J("Polish");break;case"tr":J("Turkish");break;default:J("");break}},[i]),q("div",{className:"movieinfo",children:[q("div",{className:"movieinfocontainer",children:[I("h3",{children:i.title}),q("div",{className:"poster-container",children:[I("img",{className:"poster-img",src:f+i.poster_path,alt:i.title}),q("div",{className:"movie-details",children:[I("div",{className:"movieinfobackdrop",children:I("img",{className:"backdrop-img",src:f+i.backdrop_path})}),q("p",{className:"movie-detail",children:[I("strong",{children:"Genres: "}),Z.join(", ")]}),q("p",{className:"movie-detail",children:[I("strong",{children:"Language: "}),we]}),q("p",{className:"movie-detail",children:[I("strong",{children:"Release: "}),i.release_date]}),q("p",{children:[I("strong",{children:"Rating:"})," ",s]})]})]})]}),I("div",{className:"movieinfobuybtns",children:y?I("button",{onClick:XA,className:"movieinfobtn",children:"Play"}):q(Y_,{children:[q("button",{onClick:mn,className:"movieinfobtn",children:[I(er,{icon:i3})," Buy"]}),I("button",{className:"movieinfobtn",onClick:Ca,children:Ve})]})}),q("div",{className:"details-nav",children:[I("button",{className:"details-btn",onClick:Ks,children:E==="overview"?I("strong",{className:"extra-bold",children:"About"}):"About"}),I("button",{className:"details-btn",onClick:rc,onDoubleClick:Te,children:E=="trailer"?I("strong",{className:"extra-bold",children:"Trailer"}):"Trailer"}),I("button",{className:"details-btn",onClick:YA,children:E=="comments"?I("strong",{className:"extra-bold",children:"Comments"}):"Comments"})]}),M&&I("div",{className:"info-overview",children:q("p",{className:"overview",children:[I("strong",{children:"Overview"})," ",I("br",{})," ",i.overview]})}),z&&I("div",{className:"traileriframe",children:I("iframe",{className:"trailer",ref:d,src:`https://www.youtube.com/embed/${C}?autoplay=1`,title:"YouTube video player",display:"initial",webkitallowfullscreen:"true",allowFullScreen:!0,allow:"autoplay; encrypted-media"})}),ve&&I("div",{className:"comments",children:I(oq,{})}),q("section",{children:[I(zn,{similar:!1,movie_id:i.id,genre_id:"",title:"Recommended Movies",category:"recommended",handleMovieClick:e,onCategoryClick:t}),I(zn,{similar:!0,movie_id:i.id,genre_id:"",title:"Similar Movies",category:"similar",handleMovieClick:e,onCategoryClick:t})]})]})}const dq=({onCreatingAccountClick:t,toggleUserIconVisibility:e})=>{const n=Ii(),r=Or.firestore(),i=ir(),s={NORMAL:" _",VALID:"Username is available",EXISTS:"The username is already taken",INVALID:"Username must not contain spaces"},[o,a]=k.useState(s.NORMAL),[l,u]=k.useState(!1),[c,d]=k.useState(!1);k.useEffect(()=>{e(!0)},[]);const f=b=>{const{value:T}=b.target;w(T)?(b.target.setCustomValidity(""),u(!0)):(b.target.setCustomValidity("Please enter a valid email address with a valid domain"),u(!1))},p=b=>{const{value:T}=b.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(T)?(b.target.setCustomValidity(""),d(!0)):b.target.setCustomValidity("The password should be a minimum of 8 characters long and include at least one uppercase letter and one number")},y=()=>{const b=document.getElementById("username-input").value;if(b==="")a(s.NORMAL);else if(m(b))a(s.INVALID);else{const T=b.charAt(0).toUpperCase()+b.slice(1);r.collection("users").where("username","==",T).get().then(_=>{_.empty?a(s.VALID):a(s.EXISTS)})}},m=b=>/\s/.test(b),w=b=>{if(/^\s*$/.test(b))return!1;const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,C=b.substring(b.lastIndexOf("@")+1);return _.test(b)&&C==="gmail.com"||_.test(b)&&C==="hotmail.com"||_.test(b)&&C==="outlook.com"||_.test(b)&&C==="yahoo.com"?!0:!!(_.test(b)&&C==="live.com")},g=()=>{const b=document.getElementById("email-input").value,T=document.getElementById("password-input").value,_=document.getElementById("repeatpassword-input").value;o==s.INVALID?alert("Username must not contain spaces"):o==s.EXISTS?alert("The username is already taken, please enter a new username"):T!=_?alert("The passwords you entered are not identical. Please try again"):(t("creating"),h(b,T))},h=(b,T)=>{const _=document.getElementById("username-input").value;DU(n,b,T).then(C=>{console.log(C.user.uid,"lyckats skapa konto!"),v(_,b)}).catch(C=>{C.code==="auth/email-already-in-use"&&alert("Email is already in use. Please enter a different email.")})},v=(b,T)=>{const _=b.charAt(0).toUpperCase()+b.slice(1),C=n.currentUser.uid;r.collection("users").doc(C).set({username:_,email:T,background:"black"}).then(()=>{t("success"),console.log("Document successfully written!"),i(-2)}).catch(O=>{console.error("Error writing document: ",O)})};return q("div",{className:"sign-up-page",children:[I("div",{className:"fa-icon-container",onClick:()=>{i(-1)},children:I(er,{className:"fa-times-icon",icon:TC})}),I("section",{className:"signup-title",children:I("h1",{children:"Create an account"})}),q("form",{onSubmit:b=>{b.preventDefault(),g()},className:"sign-up-container",children:[I("p",{className:o===s.EXISTS?"text-danger":o===s.VALID?"text-success":o===s.INVALID?"text-danger":"",children:o}),I("input",{type:"text",id:"username-input",placeholder:"Username",onChange:y,required:!0}),I("input",{type:"text",id:"email-input",placeholder:"Email",onChange:f,required:!0}),I("input",{type:"password",id:"password-input",placeholder:"Password",onChange:p,required:!0}),I("input",{type:"password",id:"repeatpassword-input",placeholder:"Repeat Password",required:!0}),I("section",{className:"signup-button-container",children:I("button",{type:"submit",children:"Sign up"})})]})]})};const fq=({icon:t,...e})=>{const[n,r]=k.useState(!1),i=()=>{r(!n)};return q("div",{className:"password-input-container",children:[I("input",{type:n?"text":"password",...e}),I(er,{icon:n?o3:s3,onClick:i,className:"password-input-icon"})]})},hq=({toggleUserIconVisibility:t})=>{const e=Ii(),n=ir(),r=Us(w=>w.navigatePayment.payment),[i,s]=k.useState(""),[o,a]=k.useState(!1),[l,u]=k.useState(!1),c={EMAILMISSING:"Please enter your email",PASSWORDMISSING:"Please enter your password",INVALIDEMAIL:"Invalid email",WRONGPASSWORD:"Wrong password",USERNOTFOUND:"User not found"};k.useEffect(()=>{t(!0)},[]);const d=async()=>{const w=document.getElementById("userEmail-input").value,g=document.getElementById("userPassword-input").value;w===""?(s(c.EMAILMISSING),a(!0)):g===""?(s(c.PASSWORDMISSING),u(!0)):RU(e,w,g).then(h=>{const v=h.user;console.log(v.uid),r?n("/payment/"):(n(-1),console.log("redux statet payment "+r))}).catch(h=>{h.code==="auth/wrong-password"?(s(c.WRONGPASSWORD),u(!0)):h.code==="auth/invalid-email"?(s(c.INVALIDEMAIL),a(!0)):h.code==="auth/user-not-found"&&s(c.USERNOTFOUND)})};return q("div",{className:"login-page",children:[I("div",{className:"fa-icon-container",onClick:()=>{n(-1)},children:I(er,{className:"fa-times-icon",icon:TC})}),I("section",{className:"signup-title",children:I("h1",{children:"Sign in"})}),q("section",{className:"sign-up-container",children:[I("p",{className:"error-message",children:i}),I("input",{type:"text",className:o?"email-input red-border":"email-input",id:"userEmail-input",placeholder:"Enter you email",onKeyUp:w=>{const g=document.getElementById("userPassword-input");w.key==="Enter"&&g.focus()}}),I(fq,{id:"userPassword-input",className:l?"password-input red-border":"password-input",name:"password",placeholder:"Enter your password",onKeyUp:w=>{w.key==="Enter"&&d()}})]}),I("p",{className:"register-member",onClick:()=>{n("/signup/")},children:"Not registered yet? Register here!"}),I("section",{className:"signup-button-container",children:I("button",{onClick:d,children:"Log in"})})]})};const pq="/MovieShop/assets/visa-c8c66644.png",mq="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQMAAADCCAMAAAB6zFdcAAAAkFBMVEUBb9D///8Aac8AbM8AbtAAas6StuWLteUAZ856peB/qeAof9X6/f1Jj9khd9IAZ83j7vfP4/Xf6faEruK5z+6iwehHi9cGc9EAZM1vod5TktrW5fWIseQAYs3s8/lkmtzD1++tyOqYuuU+hdZAhta/1O5gl9vr8fkjetIAXM0wgNTD1u+yy+ugveZ2p99Nkdo6d/JZAAALwklEQVR4nO2biXLiuhKGjRYiGMesMWJfAoRwksz7v921rW65ZYtzZwi5Vbeqv5qagCRb8m8t3S2RJAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzDMAzz/4BwGEnSlPDIaKoqv2sRocyRJkzTUuEtpEuhDZBaC7hAN2vStGC7SZG73YN8Anp1fWqGiU/d3NeoXn3qU/X966lN96ISmXeDtFVvIY1TQW5dkvLVG3Pd9ldQciIb9c9JozK86xGbpN3dJt+UQMw7yK9a38wndkYGE+1HnTorWzDsRCg006tW6uZFV29rcHLftRNBmdnnMCXF3CMLf4M082qpX5g4BkET4+62SXyhu7BL34AX/7RJVrcrvYI0arYJNRDjWxpMIunpohRhMKUaSNENC71VGihZq9v1Hb3WoPNiQQN3t7fvaaAXpJV+1FINOk/QCl33GOgHf6VBJ811QwOZ7BplnAa0pqH2U0mtQSfXD9QAepNj4jWnGoyhexja4Ds06AxNQ4P1qFnEaTCg6X5GoBqM3et6iAbqV0pbgOMs0KDzWg0GGaTdo0FnqwMNzKFVopoP5JEmLW1EAxi3D9HAvEDdDc2D53X1iT5tGZkPxq9HQj5TXoN5lZPnfbj91FANav3f9pOeY17KbU9Bo3BhCjRwo+ERGijtmjHcuhuPhAo0cK3YVBqsl7RhpB8sjaQUd0ANjsIlGWj92FINzCc8zkFaoR3l40pYlJY99/dkYxoMyz77CA0ENPZp8BZqDhrs3Z9zobm8uBL7tgZCEcqrUQNvWlhX8o1qoBRM/l0bPgH2zXni9E6vKqJBtTY8QAMl3KOnMxyaUxNosBr5NwElRqu2BlYTZEQDZdN2P5Cv7pNf7LFRsARvlAG9Yc1GDXCFXuhHaIBr0MdAXmBsZjLQwM0Bm8JQEe6t9dsapGPCcCdrDa5rW7JO9l5hogGMv27D0sV551Pg3LiZKarBAfrsUKoHaGBG/n3hPPRpqAbdmfs7F/LZPW/WrTWI2khjMh8MQRic++Z0XcBxeJZBmxQqW5hmFtrXF1SDFYhX9I/vayBzd6+lqdejNOgH3XdnE+wM9Mt/1kSD6NpINWgQ2gdoIh7D9ouzS97Z0h1wnzfVjIEadN/RpsnX39YAVOz0ykltDQ/k7CTUwEIrMpif5t/QoGEnGtQg7Aew/HQWVaNg7G811cBA7+wMv62BmoHKl6xgBu0eV8sjamCM+zBxJnUqxN0apOfQX/BjIXCP5dWlvqmyUQlM1cs11UB4P++w/6YGuAY1qDSvNXC1LF3T90a054N0STnFNUinM2cGew2woz8Fc6KdRhtVrjC1Bn72Ssff00CpNFrdruwIXgOcM1JoSqQfLN/d9A8QDUb/oOG/T2AFJPYBvPGlIA/g16cGp0Gggco2NPduDcQNo77zSjVQtMMXk1pMg1YYBzV4Xa/xhf2GQhEbqW/rKwdtF8Jdf5FUAxr1+IYGKu7xFEwt0SChHn5Re0wDq6mtnFAbSeHymx6dD0xtZRyLEyPcHYpHCd4v4VMEGvjR8C0NcDhGKEySWgN59b2zXLIj88H4eUEhPlMxiuUMpC7fZKiB8nceHrbllVcZ+mWUYs2WVAOZkEFzrwb4gvZzzxZewsEQDbyhUnpUSawfNCC+czmTafQOh5UJGvjOjUl5IQ3c8VA3ag6X90XQD4LRcKcGCqz1NDPe1LfwfBsliQb6C6vq36NBomFWLVZN2YihkDheKbHFoNbGCN+o9R4ktKEGikR/7tQA16APMiEptD36hmjg14+0NNv/XoPE4KgbFX51I5ZGA0a/NXa5gyGNAn+1sxWBBoWL7eeO+zRA+whiRICBwPFYEA28XJUf7zVQ/xJTFaHfaDBKvDNKhDFVWa8DS4OeZCejj4QhvJENNSCj4T4NBAzF8Zqm+m57zkh12EMr50Ycag1uxNaVD42j72xx4J+0acbWL59wl7nGPrIzQaOwG+XoN+JabDHAeV9sXc77JZNcRpPPima7L+C85S6HlA6ZFC9RHt3HC97XfLnM1VWf3SdfrxR2tuj1+z2lkp677NoIKHxBY2YT99dnu4R+f36HAgUk4hFLVpJmu0R4c+6La7+OUBUS5Apy3yJFkutRBgkpvlCoASarZjbm6IRhGOYnIScNyCmC+sABLSv9yQPZvKA+dhBmGHqEoHFWIThhUMzNzTZARvPsw/d2nmMSzLoRVnJ7cJ+eyIKsc8g+JOfGBb18NnAh4cshzOkvMjjzIfNGVsUWlhf5Ol8FGRNnW5lsMQnSD8eHi0DOH9SkswuapydvYtdRj9W6HZjavMyqraO8nXO6Ot+nfVahA/scUq9aVti+zDD5rhlqAbf0oRrEwjmbmfbu7gFEkAKbeTDR4NwmF1ENimZ/VcZ3NJTzMSgdgmU7o7RPbbed/mL+9XkeqIESOWZMqkqV9tEyeyNAmRYuSVQDcERvaqAi8ZSpjW5Xd9JfD+8GNzWoncDCj0vq8Hxnt74ZpB2bWxqUb/WGBiYeXT3Kxs48MLX/9ZEeo0HlPFtsc7URhK9kWcbQbmjQ2epbGhQ9OK7ByahYdHUnwlNRnuvDZ8R63zn7Ramy/HNvZhZ2xzvDakcQNEifL654zx87QA26kLOFkT60XoPthdaUSQ1hteGZZJTVrEGbw5WU/wmPATR4sY2TBUm5iYwvYonjYuMmZdTgF8RYBcygY4EaTOCogvAb3n6rJRfBKQbfqY6F2UFboBIQ9l3R4j+oQWy2VbZxkio9wgkp0MB3TIiVvSkMTKzQuIJ5JL3U8ZbGq4TNndaap2DZfrE/0P0DUIN182hBiZThonWGJ/tzDRREzdKs7geGVlXvNEyl88PRuFQahH/FC4T5Gd8Zz+IMKb5XyBm1Xb4wGTW4QER0DQGopZ8PJhZMbTCMhgPfD4KqNr+lxEhZCmnj3eG1tIhxHxavGC8/5skPzgchUz8yNJm0u35ZQg0mLijee4FC+wFq8AabknCK4va6cJY+wEv5kCq6+gwXjzeR4hp81BWJIxaY1hHJW2tjLm/aB7dspEUxKUaswfI0j4y2bfvtc9t/rYFfIP2EeFuD0/qWjfR1004sNEjWp0hG2XPOkcal2f/GX6jHgvmqUzd+5o5rME7UDQ1W5f1ujYVy9uu2W1HZqnnEkXh6eEfAOXFEWPrTU3hexjFERzqqwa60a2IajI7ObwQNlkFVLnZsst50B0koR+lVa51//gPpuMcxeviMgGvju7Gm+GeL/41BCXQevp8l2ChtDdLdwlLfeXnC/j1SsL6jBse1qaopa7IWD/XpsvKqAXDsBs4Kyapwlf4Mx0wfvjT8m43kIwYpdkmIJuC68LV1nPPEQhAeNOi/v2O4YGJCDZ7/y3jGW7T6PBz83vyYBjY0YEuUNw7meIoCfk/QtA/qUJqsbSQ8eNmZO33jtnK1GxlgwV7oaxWk67VrxPin5oNp/kzIq8fxRmLX1mbC0yCJ2IkeokG9X3w2VIMvWtXvwidVYd0TqOq3zn7TjDMY7uVpnR/RIKT0nZX/FcO+GNDC/wKkZ/5Qg0QNQET3w5b4ulAsQevobuabDH5KUjP/qbEQUq5Ldg9fdtWeV71IFpban2lQWNpgJm7KTe+bcaR1dFd7IuIHaIbq8THVuAZ1KG8MdXprLn3Vf6hB4qOSpWHzdxrs7I1DRE238+c0sHheaOPNsjVGEzYX+4caJALNhWEdP/gjDaaF0xTTYPP8eFNZxmPrifflatmVwKjqmwL74Npa5poLm8EbjTMTja2fIvNBOqpm0fZ8MDxkj5egMPy+em3mcg6faM+TMyjbz3P3IWv1A5X1qxJ+I0Sc8Rp97EeqKvwFvQ0rf87cJpO8hhecr/Lxm0wVsZ/x6kTr5o9tk3rbqzAHNN0Oa5ehBxL8plpzN81XEO7ckX07ckFlhPx0QIlhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGIZhGOZh/AdoZttGpNzlCQAAAABJRU5ErkJggg==",gq="/MovieShop/assets/Mastercard-1520e9af.png";const vq=()=>{const[t,e]=k.useState(0);let n=ir();return k.useEffect(()=>{const r=setInterval(()=>{e(i=>i+20)},400);return setTimeout(()=>{clearInterval(r),n("/movieInfo/")},3e3),()=>{clearInterval(r)}},[]),q("div",{className:"payment_sucsessfull_wrapper",children:["Processing payment..",I("progress",{className:"progress_bar",value:t,max:"100"})]})},yq=({handleExitButtonClick:t,setIsPaymentSuccessful:e,cardName:n,cardNumber:r,expDate:i,cvv:s,setCVV:o,setCardNumber:a,setCardName:l,setExpDate:u,saveMovieToFirebase:c})=>{const[d,f]=k.useState(!1),[p,y]=k.useState(!1),[m,w]=k.useState(!1),[g,h]=k.useState(!1);return I("div",{children:q("form",{onSubmit:_=>{_.preventDefault(),d==!0&&m==!0&&p==!0&&g==!0&&(console.log("you now bought the movie"),e(!0),c(),document.body.style.zoom="1"),console.log(d,p,m,g)},children:[q("div",{className:"paymentform",children:["Card Number:",I("input",{type:"text",onChange:_=>{const{value:C}=_.target,O=/^\d{15}$/.test(C);a(C),O?(_.target.setCustomValidity(""),f(!0),console.log("its valid")):(_.target.setCustomValidity("Please enter a valid 15-digit card number"),console.log("its not  valid")),console.log(C)},value:r,placeholder:"Valid Card Number"}),"Exp. Date:",I("input",{type:"text",onChange:_=>{const{value:C}=_.target,O=/^(0[1-9]|1[0-2])\/\d{2}$/.test(C),M=new Date,[F,z]=C.split("/"),Ce=new Date(+("20"+z),Number(F)-1,1),ve=C.replace(/\D/g,"");let ye=ve;ve.length>=2&&(ye=ve.slice(0,2)+"/"+ve.slice(2)),u(ye),O?Ce<M?(_.target.setCustomValidity("Card has expired"),console.log("Card has expired")):(console.log("Card is still valid"),h(!0),_.target.setCustomValidity("")):(_.target.setCustomValidity("Please submit a correct expiration date"),console.log("Invalid expiration date"))},value:i,placeholder:"MM/YY"}),"cvv/CVC:",I("input",{type:"text",onChange:_=>{const{value:C}=_.target;o(C),/^\d{4}$/.test(C)?(_.target.setCustomValidity(""),console.log("correct cvv for visa and mastercard"),w(!0)):(_.target.setCustomValidity("Please submit a valid cvv/CVC number"),console.log("its not 4 digits"))},value:s,placeholder:"1234"}),"Name on Card:",I("input",{type:"text",onChange:_=>{const{value:C}=_.target,O=/^[a-zA-Z\u00C0-\u00ff]+\s?[a-zA-Z\u00C0-\u00ff]+$/.test(C);l(C),O?(_.target.setCustomValidity(""),y(!0)):_.target.setCustomValidity("Please use only letters")},value:n,placeholder:"Jamile Jonson"})]}),I("button",{className:"submitButton",type:"submit",children:" Buy"}),I("button",{onClick:t,children:"Cancel"})]})})},wq=({toggleUserIconVisibility:t})=>{const e=localStorage.getItem("lastSelectedMovie"),n=JSON.parse(e),r="https://image.tmdb.org/t/p/original",[i,s]=k.useState(""),[o,a]=k.useState(""),[l,u]=k.useState(""),[c,d]=k.useState(""),[f,p]=k.useState(""),[y,m]=k.useState(!1),[w,g]=k.useState(!1),[h,v]=k.useState(!1),[S,E]=k.useState(!1),[b,T]=k.useState(!1),_=Us(ne=>ne.navigatePayment.payment),C=Ii(),O=Or.firestore(),M=n;let F=ir();k.useEffect(()=>{t(!0);const ne=C.currentUser;O.collection("users").doc(ne.uid).collection("purchased").where("id","==",M.id).get().then(te=>{te.empty||F("/movieinfo")})},[]);const z=()=>{F(_===!0?"/":-1)},Ce=ne=>{const{value:te}=ne.target;p(te),console.log(te)},ve=ne=>{const{value:te}=ne.target,Je=/^\d{16}$/.test(te);s(te),Je?(ne.target.setCustomValidity(""),m(!0),console.log("its valid")):(ne.target.setCustomValidity("Please enter a valid 16-digit card number"),console.log("its not  valid")),console.log(te)},ye=ne=>{const{value:te}=ne.target,Je=/^(0[1-9]|1[0-2])\/\d{2}$/.test(te),Z=new Date,[Te,mn]=te.split("/"),Ca=new Date(+("20"+mn),Number(Te)-1,1),Ks=te.replace(/\D/g,"");let rc=Ks;Ks.length>=2&&(rc=Ks.slice(0,2)+"/"+Ks.slice(2)),a(rc),Je?Ca<Z?(ne.target.setCustomValidity("Card has expired"),console.log("Card has expired")):(console.log("Card is still valid"),E(!0),ne.target.setCustomValidity("")):(ne.target.setCustomValidity("Please submit a correct expiration date"),console.log("Invalid expiration date"))},Ve=ne=>{const{value:te}=ne.target;u(te);const Je=/^\d{3}$/.test(te);f=="American Express"||console.log("here we land up if there is not found out to be a Amex card."),Je?(ne.target.setCustomValidity(""),console.log("correct cvv for amex"),v(!0)):(ne.target.setCustomValidity("Please submit a valid 4 digit cvv/CVC number"),console.log("its not 4 numbers"))},R=ne=>{const{value:te}=ne.target,Je=/^[a-zA-Z\u00C0-\u00ff]+(\s+[a-zA-Z\u00C0-\u00ff]+)*\s*$/.test(te);d(te),Je?(console.log("its a string without numbers or symbols"),ne.target.setCustomValidity(""),g(!0)):(ne.target.setCustomValidity("Please use only letters"),console.log("please use only letters"))},Q=()=>{if(C.currentUser!=null){const te=C.currentUser.uid;O.collection("users").doc(te).collection("purchased").doc().set(M).then(()=>{console.log("saved."),Y()}).catch(Je=>{console.error("error saving: ",Je)})}},Y=()=>{const ne=C.currentUser;console.log("selectedMovie Id",n.id),console.log("user Id",ne.uid),O.collection("users").doc(ne.uid).collection("watchlist").where("id","==",n.id).get().then(te=>{te.empty||te.forEach(Je=>{const Z=Je.id;we(ne,Z)})}).catch(te=>{console.log("Error getting documents: ",te)})},we=(ne,te)=>{O.collection("users").doc(ne.uid).collection("watchlist").doc(te).delete().then(()=>{console.log("Document successfully deleted!")}).catch(Je=>{console.error("Error removing document: ",Je)})},J=ne=>{ne.preventDefault(),y==!0&&h==!0&&w==!0&&S==!0?(console.log("all fields area valid"),T(!0),console.log(y,w,h,S),Q()):(console.log("fields are not valid"),console.log(i,c,l,o))};return r+M.backdrop_path,I("div",{className:"payment-container",children:q("div",{className:b?"div-for-web show":"div-for-web",children:[I("div",{className:"small-info",children:b?q("div",{className:"loading_payment",children:[I("img",{className:"poster_purchased",src:r+M.poster_path})," ",I("br",{}),I(vq,{})," "]}):q("div",{children:["  ",I("h1",{onClick:z,className:"exit-button",children:"x"})," ",I("h2",{children:"Checkout:"}),I("img",{className:"poster",src:r+M.poster_path})," ",I("h2",{children:M.title})," "]})}),b?I(Y_,{}):q("div",{className:"payment-form-wrapper",children:[q("label",{children:[I("input",{type:"checkbox",value:"Visa",name:"cardType",checked:f==="Visa",onChange:Ce}),I("img",{className:`creditcard ${f==="Visa"?"selected":""}`,src:pq,alt:"",onClick:()=>{f!=="Visa"&&Ce({target:{value:"Visa"}})}})]}),q("label",{children:[I("input",{type:"checkbox",value:"Mastercard",name:"cardType",checked:f==="Mastercard",onChange:Ce}),I("img",{className:`creditcard ${f==="Mastercard"?"selected":""}`,src:gq,alt:"",onClick:()=>{f!=="Mastercard"&&Ce({target:{value:"Mastercard"}})}})]}),q("label",{children:[I("input",{type:"checkbox",value:"American Express",name:"cardType",checked:f==="American Express",onChange:Ce}),I("img",{className:`creditcard ${f==="American Express"?"selected":""}`,src:mq,alt:"",onClick:()=>{f!=="American Express"&&Ce({target:{value:"American Express"}})}})]}),f==="American Express"?I(yq,{setIsPaymentSuccessful:T,saveMovieToFirebase:Q,handleExitButtonClick:z,setCardName:d,setCVV:u,setCardNumber:s,setExpDate:a,cardName:c,cardNumber:i,cvv:l,expDate:o}):q("form",{onSubmit:J,children:[q("div",{className:"paymentform",children:["Card Number:",I("input",{type:"text",onChange:ve,value:i,placeholder:"Valid Card Number",required:!0}),"Exp. Date:",I("input",{type:"text",onChange:ye,value:o,placeholder:"MM/YY",required:!0}),"cvv/CVC:",I("input",{type:"text",onChange:Ve,value:l,placeholder:"123",required:!0}),"Name on Card:",I("input",{type:"text",onChange:R,value:c,placeholder:"Jamile Jonson",required:!0})]}),I("button",{type:"submit",className:"submitButton",children:" Buy "}),I("button",{onClick:z,children:"Cancel"})]})]})]})})};var HA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F_=bn.createContext&&bn.createContext(HA),hi=globalThis&&globalThis.__assign||function(){return hi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hi.apply(this,arguments)},Sq=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function GA(t){return t&&t.map(function(e,n){return bn.createElement(e.tag,hi({key:n},e.attr),GA(e.child))})}function Ip(t){return function(e){return bn.createElement(bq,hi({attr:hi({},t.attr)},e),GA(t.child))}}function bq(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=Sq(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),bn.createElement("svg",hi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:hi(hi({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&bn.createElement("title",null,s),t.children)};return F_!==void 0?bn.createElement(F_.Consumer,null,function(n){return e(n)}):e(HA)}function Eq(t){return Ip({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}const _q=({toggleUserIconVisibility:t})=>{const e=Or.firestore(),n=Ii(),r=ir(),i="https://image.tmdb.org/t/p/original",[s,o]=k.useState([]),[a,l]=k.useState([]),[u,c]=k.useState(null),[d,f]=k.useState(!0),[p,y]=k.useState(!0);k.useEffect(()=>{t(!1),Mh(n,h=>{h&&(console.log("user hämtats"),c(h))})},[]),k.useEffect(()=>{async function h(){if(u!=null){const E=await e.collection("users").doc(u.uid).collection("purchased").get();if(E.empty)y(!0);else{y(!1);const b=E.docs.map(T=>T.data());o(b)}}}async function v(){if(u!=null){const E=await e.collection("users").doc(u.uid).collection("watchlist").get();if(E.empty)f(!0);else{f(!1);const b=E.docs.map(T=>T.data());l(b)}}}h(),v()},[u]);const m=h=>{localStorage.setItem("lastSelectedMovie",JSON.stringify(h)),r("/movieinfo/")},w=s&&s.map((h,v)=>q("div",{className:"purchased-item",children:[q("section",{onClick:()=>r("/video"),children:[I("p",{className:"purchased-title",children:"Purchased"}),I("img",{src:i+h.poster_path,alt:h.title,className:"purchased-img"}),I("div",{className:"play-icon",children:I(Eq,{size:40})})]}),I("div",{className:"more-info-container",children:I("button",{className:"more-info-button",onClick:()=>m(h),children:"More Info"})})]},v)),g=a&&a.map((h,v)=>I("div",{className:"watchlist-item",children:I("section",{children:I("img",{src:i+h.poster_path,alt:h.title,className:"watchlist-img",onClick:()=>m(h)})})},v));return q("div",{className:"user-page",children:[q("h3",{children:[I("br",{}),"My movies"]}),q("section",{className:p?"":"purchased-container",children:[w,I("p",{children:p?"You haven't bought any movies yet":""})]}),I("h3",{children:"My watchlist"}),q("section",{className:d?"":"watchList-container",children:[g,I("p",{children:d?"You haven't added any movies to your watchlist yet":""})]})]})};const Iq="/MovieShop/assets/newmovie-618b334e.mp4";function kq({toggleUserIconVisibility:t}){k.useEffect(()=>{t(!0)},[]);let e=ir();const n=k.useRef(null),[r,i]=k.useState(!1);return q("div",{className:"video-container",children:[q("video",{className:"video",controls:!0,autoPlay:!0,fullscreen:"true",playsInline:!0,onDoubleClick:()=>{i(l=>!l)},onClick:()=>{const l=n.current;l&&l.paused?l.play():l&&l.pause()},children:[I("source",{src:Iq,type:"video/mp4"}),"Your browser does not support the video tag."]}),I("div",{className:"overlay-text",onClick:()=>{e(-1)},children:"← Click to Go Back"})]})}const Tq="/MovieShop/assets/movie-wheel-d1112624.png";function U_(t){return Ip({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"}}]})(t)}const KA=on("show searchdropdown"),QA=on("hide searchdropdown"),uy={showSearchDropDown:KA,hideSearchDropDown:QA},Cq={searchDropDown:null},xq=E0(Cq,t=>{t.addCase(KA,(e,n)=>{e.searchDropDown=!0}).addCase(QA,(e,n)=>{e.searchDropDown=!1})});function Nq(t){return Ip({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.504 13.616l-3.79-3.223c-0.392-0.353-0.811-0.514-1.149-0.499 0.895-1.048 1.435-2.407 1.435-3.893 0-3.314-2.686-6-6-6s-6 2.686-6 6 2.686 6 6 6c1.486 0 2.845-0.54 3.893-1.435-0.016 0.338 0.146 0.757 0.499 1.149l3.223 3.79c0.552 0.613 1.453 0.665 2.003 0.115s0.498-1.452-0.115-2.003zM6 10c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z"}}]})(t)}const Oq=({query:t,searchResults:e,handleSearchClick:n,handleMovieClick:r})=>{const i="https://image.tmdb.org/t/p/w185",o=e.slice(0,6),a="search",l=()=>{n(t,e,a)};return k.useEffect(()=>{window.scrollTo(0,0)},[]),q("div",{className:"search_dropdown",children:[o&&o.map((u,c)=>q("div",{className:"dropdown_item",onClick:()=>r(u),children:[I("img",{className:"movie_poster",src:i+u.poster_path}),I("p",{children:u.title})]},c)),I("button",{onClick:l,children:"Show all results..."})]})};function z_(t){return Ip({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(t)}const Aq=({onSearchClick:t,handleAccountStatus:e,createAccount:n,isUserIconVisible:r})=>{const i="linear-gradient(to bottom, #d70dff 0%, #d70dff 80%, rgba(0, 0, 0, 0) 100%)",s="linear-gradient(to bottom, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.8) 80%, rgba(0, 0, 0, 0) 100%",o="linear-gradient(to bottom, #06acb8 0%, #06acb8 80%, rgba(0, 0, 0, 0) 100%)",a="linear-gradient(to bottom, #ff8400 0%, #ff8400 80%, rgba(0, 0, 0, 0) 100%)",l=document.querySelector(".navbar .dropdown ul"),u="305f99214975faee28a0f129881c6ec9",c=ir(),d=ku(),f=g1();let p="search";const y=Ii(),m=Or.firestore(),w=localStorage.getItem("uid"),[g,h]=k.useState(null),[v,S]=k.useState(!1);let E=()=>{};const b=Us(Z=>Z.searchDropdown.searchDropDown),[T,_]=k.useState([]),[C,O]=k.useState("");k.useEffect(()=>{Mh(y,Z=>{Z?(S(!0),h(Z.uid),localStorage.setItem("uid",Z.uid)):(S(!1),h(null),localStorage.removeItem("uid"))})},[]),k.useEffect(()=>{w&&(S(!0),h(w))},[]),k.useEffect(()=>(g&&n==="normal"&&(E=m.collection("users").doc(g).onSnapshot(Te=>{if(Te.exists){const mn=Te.data();M(mn.background)}})),()=>{E&&E()}),[g,n]),k.useEffect(()=>(n==="success"&&(E=m.collection("users").doc(g).onSnapshot(Te=>{if(Te.exists){const mn=Te.data();M(mn.background),n!="normal"&&e("normal")}})),()=>{v||E()}),[n]),k.useEffect(()=>(g&&n==="normal"&&(E=m.collection("users").doc(g).onSnapshot(Te=>{if(Te.exists){const mn=Te.data();M(mn.background)}})),()=>{E()}),[g]);const M=Z=>{Z==="black"?(document.body.style.backgroundColor="black",document.querySelector("#root").style.backgroundColor="black",l.style.background="black",document.querySelector(".navbar-container").style.background=s):Z==="turquoise"?(document.body.style.backgroundColor="#06acb8",document.querySelector("#root").style.backgroundColor="#06acb8",l.style.background="#06acb8",document.querySelector(".navbar-container").style.background=o):Z==="pink"?(document.body.style.backgroundColor="#d70dff",document.querySelector("#root").style.backgroundColor="#d70dff",l.style.background="#d70dff",document.querySelector(".navbar-container").style.background=i):Z==="orange"&&(document.body.style.backgroundColor="#ff8400",document.querySelector("#root").style.backgroundColor="#ff8400",l.style.background="#ff8400",document.querySelector(".navbar-container").style.background=a)},F=async Z=>{const Te=Z.target.value;if(O(Te),Te!==""){const Ca=await(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${u}&query=${Te}`)).json();_(Ca.results),d(uy.showSearchDropDown())}else d(uy.hideSearchDropDown())},z=()=>{t(C,T,p),O("")};k.useEffect(()=>{O("")},[f.pathname]);const Ce=Z=>{localStorage.setItem("lastSelectedMovie",JSON.stringify(Z)),c("/movieinfo/")},ve=()=>{c("/login")},ye=()=>{c("/userpage")},Ve=Z=>{Y(Z),Q(Z)},R=()=>{document.body.style.backgroundColor="black",document.querySelector("#root").style.backgroundColor="black",document.querySelector(".navbar-container").style.background=s,document.querySelector(".dropdown").removeAttribute("open"),E(),c("/"),S(!1),h(null),localStorage.removeItem("uid"),y.signOut()},Q=Z=>{const Te=y.currentUser.uid;m.collection("users").doc(Te).set({background:Z},{merge:!0}).then(()=>{console.log("Document successfully written!")}).catch(mn=>{console.error("Error writing document: ",mn)})},Y=Z=>{localStorage.setItem("background",Z)},we=()=>{c("/")},J=(Z,Te)=>{if(r){if(Z)return I(U_,{className:"user_icon",onClick:Te?ye:ve});if(!Z)return q("div",{className:"user-icon-div",onClick:Te?ye:ve,children:[I(U_,{className:"user_icon_computer"}),I("h4",{children:Te?"My Pages":"Log in"})]})}else return null},ne=Z=>Z?I("summary",{role:"button",children:I(z_,{className:"settings_icon"})}):I("summary",{role:"button",children:q("section",{className:"settingsbtn-container",children:[I(z_,{className:"settings-icon"}),I("h4",{children:"Settings"})]})}),[te,Je]=k.useState(!1);return k.useEffect(()=>{const Z=()=>{Je(window.innerWidth<768)};return window.addEventListener("resize",Z),Z(),()=>{window.removeEventListener("resize",Z)}},[]),q("nav",{className:"navbar",children:[q("section",{className:"navbar-container",children:[I("img",{src:Tq,alt:"Movie Wheel Logo",className:"movie_wheel",onClick:we}),q("div",{className:"search_bar",children:[I("input",{type:"text",value:C,placeholder:"Search movies..",onChange:F}),I(Nq,{className:"search_icon",onClick:z})]}),I("section",{className:v&&!r?"navbar_section":"navbar_section hide",children:q("details",{className:"dropdown",children:[ne(te),q("ul",{children:[q("li",{className:"dropdown-title",children:[" ",I("strong",{children:" Change background to:"})]}),I("li",{onClick:()=>Ve("black"),children:q("a",{className:"li-color",children:[" ",I("p",{className:"black-circle"}),"Black"]})}),I("li",{onClick:()=>Ve("turquoise"),children:q("a",{className:"li-color",children:[" ",I("p",{className:"white-circle"}),"Turquoise"]})}),I("li",{onClick:()=>Ve("pink"),children:q("a",{className:"li-color",children:[" ",I("p",{className:"pink-circle"}),"Pink"]})}),I("li",{onClick:()=>Ve("orange"),children:q("a",{className:"li-color",children:[" ",I("p",{className:"orange-circle"}),"Orange"]})}),I("li",{onClick:R,children:I("a",{children:"Sign out"})})]})]})}),J(te,v)]}),I("section",{children:I("div",{className:`search_dropdown ${b?"":"hide"}`,children:I(Oq,{query:C,searchResults:T,handleSearchClick:z,handleMovieClick:Ce})})})]})};const Pq=({query:t,title:e,category:n,handleMovieClick:r,searchResults:i,toggleUserIconVisibility:s})=>{const o=ku(),a=Us(d=>d.movies),[l,u]=k.useState([]);k.useEffect(()=>{s(!0)},[]),k.useEffect(()=>{n==="search"?c(t,o,n):u(i)},[n,t]),k.useEffect(()=>{switch(a.status){case wn.NORMAL:u(null);break;case wn.FETCHING:u(null);break;case wn.SUCCESS:u(a.movies[n]);break;case wn.FAILURE:break;default:u(null)}},[a,n,t]);async function c(d,f,p,y=1){let w=`https://api.themoviedb.org/3/search/movie?api_key=305f99214975faee28a0f129881c6ec9&query=${d}}`;f(Oo.isFetching());try{let v=(await(await fetch(w)).json()).results;if(4>y){let E=await c(d,f,p,y+1);v=v.concat(E)}const S={category:p,movies:v};return f(Oo.success(S)),v}catch{return f(Oo.failure()),[]}}return q("div",{className:"search_results",children:[I("h2",{children:e}),I("div",{className:"movie_grid",children:l&&l.map((d,f)=>I("div",{className:"movie_item",children:I(GT,{movie:d,handleMovieClick:r},d.id)},f))},a.status)]})};function Dq(){const t=ir(),[e,n]=k.useState(!0);Us(h=>h.navigatePayment.payment);const r=ku(),[i,s]=k.useState([]),[o,a]=k.useState(""),[l,u]=k.useState(""),c={NORMAL:"normal",CREATING:"creating",SUCCESS:"success"},[d,f]=k.useState(c.NORMAL),p=(h,v,S)=>{u(S),a(h),s(v),t("/searchResults")},y=h=>{h!=e&&(console.log("inom if sats"),n(h))},m=h=>{console.log("handleCreateAccountStatus körs, datan:",h),f(h)},w=h=>{window.scrollTo(0,0),localStorage.setItem("lastSelectedMovie",JSON.stringify(h)),t("/movieinfo/")};return q("div",{className:"App",onClick:()=>{r(uy.hideSearchDropDown())},children:[I(Aq,{onSearchClick:p,handleAccountStatus:m,createAccount:d,isUserIconVisible:e}),q(iq,{children:[I(sr,{path:"/",element:I(o$,{onCategoryClick:p,handleMovieClick:w,toggleUserIconVisibility:y})}),I(sr,{path:"/movieinfo",element:I(cq,{onCategoryClick:p,handleMovieClick:w,toggleUserIconVisibility:y})}),I(sr,{path:"/login",element:I(hq,{toggleUserIconVisibility:y})}),I(sr,{path:"/userpage",element:I(_q,{toggleUserIconVisibility:y})}),I(sr,{path:"/signup",element:I(dq,{onCreatingAccountClick:()=>m,toggleUserIconVisibility:y})}),I(sr,{path:"/video",element:I(kq,{toggleUserIconVisibility:y})}),I(sr,{path:"/payment",element:I(wq,{toggleUserIconVisibility:y})}),I(sr,{path:"/searchresults",element:I(Pq,{title:`Showing results for ${o}`,searchResults:i,handleMovieClick:w,category:l,query:o,toggleUserIconVisibility:y})})]})]})}const Rq=zT({movies:s$,navigatePayment:uq,searchDropdown:xq}),Mq={apiKey:"AIzaSyDEfI0TLpFbsldRzHb72ZhZsXVKjiuRn1o",authDomain:"movieshop-e53aa.firebaseapp.com",projectId:"movieshop-e53aa",storageBucket:"movieshop-e53aa.appspot.com",messagingSenderId:"711049264258",appId:"1:711049264258:web:2e6a5ce723a1873b7a089b"};Or.initializeApp(Mq);const Lq=QL({reducer:Rq});Wm.createRoot(document.getElementById("root")).render(I(bn.StrictMode,{children:I(pL,{store:Lq,children:I(sq,{children:I(Dq,{})})})}));
